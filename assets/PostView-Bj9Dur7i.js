const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-D9sUcTzJ.js","./index-CetY7zVF.js","./index-C4z5ZFeR.js","./index-CwH-vgK2.js","./index-C5dsqlu0.css","./index-CRHQi51K.js","./index-BN1Hvm9Q.js","./index-Xjhhx0yM.js","./index-RdNHmWbO.js","./index-DyKSLCEI.js","./index-cUy0kZZe.js","./index-C6b6v-Fi.js","./index-BHstsOiE.js","./index-DqxL4hn3.js","./index-i1dIweLB.js","./index-DERBHOus.js","./index-Btv_CrWi.js","./index-DjEDGd9i.js","./index-CIPA0xnn.js","./index-ClGYL9IL.js","./index-DQca6R01.js","./index-C-ZZ7rji.js","./dockerfile-BuNIbK2j.js","./simple-mode-C4Nsj8zu.js","./factor-D8pE9siL.js","./nsis-CEAdamBV.js","./pug-BmUsPMDj.js","./javascript-iSgyE4tI.js","./index-C_rf7xcc.js","./index-BpPkYntE.js"])))=>i.map(i=>d[i]);
var Vk=Object.defineProperty;var zk=(n,e,t)=>e in n?Vk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Le=(n,e,t)=>zk(n,typeof e!="symbol"?e+"":e,t);import{r as U,s as $k,m as ft,b as Gs,h as xo,g as qk,d as Hk,u as b,e as Mn,f as et,n as _t,w as de,i as Xn,j as Q,o as P,c as H,a as z,k as hs,l as oh,p as Wk,N as ps,q as D,t as De,v as Kk,x as tr,y as qr,z as rn,A as m0,B as Fn,C as Pe,D as Qn,E as Yn,F as Uk,G as Jk,H as g0,I as le,J as pt,K as ne,L as ge,M as ae,O as nr,P as ve,Q as ur,R as qe,S as Ye,T as ul,U as Gk,V as y0,W as Yk,X as b0,Y as Zk,Z as Xk,$ as Qk,a0 as ev,a1 as tv,a2 as Cr,a3 as nv,a4 as ka,a5 as kc,a6 as vc,a7 as Fi,a8 as iv,_ as Dt,a9 as Ar,aa as Er,ab as C,ac as yu,ad as k0,ae as rv,af as ov,ag as sv,ah as av}from"./index-CwH-vgK2.js";function nt(n){this.content=n}nt.prototype={constructor:nt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var i=t&&t!=n?this.remove(t):this,r=i.find(n),o=i.content.slice();return r==-1?o.push(t||n,e):(o[r+1]=e,t&&(o[r]=t)),new nt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new nt(t)},addToStart:function(n,e){return new nt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new nt(t)},addBefore:function(n,e,t){var i=this.remove(e),r=i.content.slice(),o=i.find(n);return r.splice(o==-1?r.length:o,0,e,t),new nt(r)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=nt.from(n),n.size?new nt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=nt.from(n),n.size?new nt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=nt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};nt.from=function(n){if(n instanceof nt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new nt(e)};function v0(n,e,t){for(let i=0;;i++){if(i==n.childCount||i==e.childCount)return n.childCount==e.childCount?null:t;let r=n.child(i),o=e.child(i);if(r==o){t+=r.nodeSize;continue}if(!r.sameMarkup(o))return t;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)t++;return t}if(r.content.size||o.content.size){let s=v0(r.content,o.content,t+1);if(s!=null)return s}t+=r.nodeSize}}function w0(n,e,t,i){for(let r=n.childCount,o=e.childCount;;){if(r==0||o==0)return r==o?null:{a:t,b:i};let s=n.child(--r),a=e.child(--o),l=s.nodeSize;if(s==a){t-=l,i-=l;continue}if(!s.sameMarkup(a))return{a:t,b:i};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,t--,i--;return{a:t,b:i}}if(s.content.size||a.content.size){let u=w0(s.content,a.content,t-1,i-1);if(u)return u}t-=l,i-=l}}class R{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,t,i,r=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&i(l,r+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),i,r+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,i,r){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&i&&(s?s=!1:o+=i),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,i=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(i)&&(r[r.length-1]=t.withText(t.text+i.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new R(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let i=[],r=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),i.push(a),r+=a.nodeSize),s=l}return new R(i,r)}cutByIndex(e,t){return e==t?R.empty:e==0&&t==this.content.length?this:new R(this.content.slice(e,t))}replaceChild(e,t){let i=this.content[e];if(i==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-i.nodeSize;return r[e]=t,new R(r,o)}addToStart(e){return new R([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new R(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,i=0;t<this.content.length;t++){let r=this.content[t];e(r,i,t),i+=r.nodeSize}}findDiffStart(e,t=0){return v0(this,e,t)}findDiffEnd(e,t=this.size,i=e.size){return w0(this,e,t,i)}findIndex(e,t=-1){if(e==0)return va(0,e);if(e==this.size)return va(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,r=0;;i++){let o=this.child(i),s=r+o.nodeSize;if(s>=e)return s==e||t>0?va(i+1,s):va(i,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return R.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new R(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return R.empty;let t,i=0;for(let r=0;r<e.length;r++){let o=e[r];i+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new R(t||e,i)}static from(e){if(!e)return R.empty;if(e instanceof R)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new R([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}R.empty=new R([],0);const bu={index:0,offset:0};function va(n,e){return bu.index=n,bu.offset=e,bu}function cl(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!cl(n[i],e[i]))return!1}else{for(let i in n)if(!(i in e)||!cl(n[i],e[i]))return!1;for(let i in e)if(!(i in n))return!1}return!0}class ye{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,i=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),i=!0),t&&t.push(o)}}return t||(t=e.slice()),i||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&cl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[t.type];if(!i)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=i.create(t.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(t[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ye.none;if(e instanceof ye)return[e];let t=e.slice();return t.sort((i,r)=>i.type.rank-r.type.rank),t}}ye.none=[];class dl extends Error{}class K{constructor(e,t,i){this.content=e,this.openStart=t,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let i=_0(this.content,e+this.openStart,t);return i&&new K(i,this.openStart,this.openEnd)}removeBetween(e,t){return new K(x0(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return K.empty;let i=t.openStart||0,r=t.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K(R.fromJSON(e,t.content),i,r)}static maxOpen(e,t=!0){let i=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new K(e,i,r)}}K.empty=new K(R.empty,0,0);function x0(n,e,t){let{index:i,offset:r}=n.findIndex(e),o=n.maybeChild(i),{index:s,offset:a}=n.findIndex(t);if(r==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(i!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(i,o.copy(x0(o.content,e-r-1,t-r-1)))}function _0(n,e,t,i){let{index:r,offset:o}=n.findIndex(e),s=n.maybeChild(r);if(o==e||s.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=_0(s.content,e-o-1,t);return a&&n.replaceChild(r,s.copy(a))}function lv(n,e,t){if(t.openStart>n.depth)throw new dl("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new dl("Inconsistent open depths");return S0(n,e,t,0)}function S0(n,e,t,i){let r=n.index(i),o=n.node(i);if(r==e.index(i)&&i<n.depth-t.openStart){let s=S0(n,e,t,i+1);return o.copy(o.content.replaceChild(r,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==i&&e.depth==i){let s=n.parent,a=s.content;return dr(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=uv(t,n);return dr(o,C0(n,s,a,e,i))}else return dr(o,fl(n,e,i))}function j0(n,e){if(!e.type.compatibleContent(n.type))throw new dl("Cannot join "+e.type.name+" onto "+n.type.name)}function wc(n,e,t){let i=n.node(t);return j0(i,e.node(t)),i}function cr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function es(n,e,t,i){let r=(e||n).node(t),o=0,s=e?e.index(t):r.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(cr(n.nodeAfter,i),o++));for(let a=o;a<s;a++)cr(r.child(a),i);e&&e.depth==t&&e.textOffset&&cr(e.nodeBefore,i)}function dr(n,e){return n.type.checkContent(e),n.copy(e)}function C0(n,e,t,i,r){let o=n.depth>r&&wc(n,e,r+1),s=i.depth>r&&wc(t,i,r+1),a=[];return es(null,n,r,a),o&&s&&e.index(r)==t.index(r)?(j0(o,s),cr(dr(o,C0(n,e,t,i,r+1)),a)):(o&&cr(dr(o,fl(n,e,r+1)),a),es(e,t,r,a),s&&cr(dr(s,fl(t,i,r+1)),a)),es(i,null,r,a),new R(a)}function fl(n,e,t){let i=[];if(es(null,n,t,i),n.depth>t){let r=wc(n,e,t+1);cr(dr(r,fl(n,e,t+1)),i)}return es(e,null,t,i),new R(i)}function uv(n,e){let t=e.depth-n.openStart,r=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)r=e.node(o).copy(R.from(r));return{start:r.resolveNoCache(n.openStart+t),end:r.resolveNoCache(r.content.size-n.openEnd-t)}}class ms{constructor(e,t,i){this.pos=e,this.path=t,this.parentOffset=i,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(t);return i?e.child(t).cut(i):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let i=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)r+=i.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ye.none;if(this.textOffset)return e.child(t).marks;let i=e.maybeChild(t-1),r=e.maybeChild(t);if(!i){let a=i;i=r,r=a}let o=i.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let i=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!t||t(this.node(i))))return new hl(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let i=[],r=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(i.push(s,a,r+l),!u||(s=s.child(a),s.isText))break;o=u-1,r+=l+1}return new ms(t,i,o)}static resolveCached(e,t){let i=sh.get(e);if(i)for(let o=0;o<i.elts.length;o++){let s=i.elts[o];if(s.pos==t)return s}else sh.set(e,i=new cv);let r=i.elts[i.i]=ms.resolve(e,t);return i.i=(i.i+1)%dv,r}}class cv{constructor(){this.elts=[],this.i=0}}const dv=12,sh=new WeakMap;class hl{constructor(e,t,i){this.$from=e,this.$to=t,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const fv=Object.create(null);class Tn{constructor(e,t,i,r=ye.none){this.type=e,this.attrs=t,this.marks=r,this.content=i||R.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,i,r=0){this.content.nodesBetween(e,t,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,i,r){return this.content.textBetween(e,t,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,i){return this.type==e&&cl(this.attrs,t||e.defaultAttrs||fv)&&ye.sameSet(this.marks,i||ye.none)}copy(e=null){return e==this.content?this:new Tn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Tn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,i=!1){if(e==t)return K.empty;let r=this.resolve(e),o=this.resolve(t),s=i?0:r.sharedDepth(t),a=r.start(s),u=r.node(s).content.cut(r.pos-a,o.pos-a);return new K(u,r.depth-s,o.depth-s)}replace(e,t,i){return lv(this.resolve(e),this.resolve(t),i)}nodeAt(e){for(let t=this;;){let{index:i,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(i),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(t),index:t,offset:i};let r=this.content.child(t-1);return{node:r,index:t-1,offset:i-r.nodeSize}}resolve(e){return ms.resolveCached(this,e)}resolveNoCache(e){return ms.resolve(this,e)}rangeHasMark(e,t,i){let r=!1;return t>e&&this.nodesBetween(e,t,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),A0(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,i=R.empty,r=0,o=i.childCount){let s=this.contentMatchAt(e).matchFragment(i,r,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,t,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(i),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ye.none;for(let t=0;t<this.marks.length;t++){let i=this.marks[t];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!ye.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let i;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,i)}let r=R.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,i);return o.type.checkAttrs(o.attrs),o}}Tn.prototype.text=void 0;let hv=class xc extends Tn{constructor(e,t,i,r){if(super(e,t,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):A0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new xc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new xc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function A0(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class yr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let i=new pv(e,t);if(i.next==null)return yr.empty;let r=E0(i);i.next&&i.err("Unexpected trailing text");let o=wv(vv(r));return xv(o,i),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,i=e.childCount){let r=this;for(let o=t;r&&o<i;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let i=0;i<e.next.length;i++)if(this.next[t].type==e.next[i].type)return!0;return!1}fillBefore(e,t=!1,i=0){let r=[this];function o(s,a){let l=s.matchFragment(e,i);if(l&&(!t||l.validEnd))return R.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let f=o(d,a.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(e)){let s=[];for(let a=r;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!r.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&t(i.next[r].next)}return t(this),e.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let s=0;s<i.next.length;s++)o+=(s?", ":"")+i.next[s].type.name+"->"+e.indexOf(i.next[s].next);return o}).join(`
`)}}yr.empty=new yr(!0);class pv{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function E0(n){let e=[];do e.push(mv(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function mv(n){let e=[];do e.push(gv(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function gv(n){let e=kv(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=yv(n,e);else break;return e}function ah(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function yv(n,e){let t=ah(n),i=t;return n.eat(",")&&(n.next!="}"?i=ah(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:i,expr:e}}function bv(n,e){let t=n.nodeTypes,i=t[e];if(i)return[i];let r=[];for(let o in t){let s=t[o];s.groups.indexOf(e)>-1&&r.push(s)}return r.length==0&&n.err("No node type or group '"+e+"' found"),r}function kv(n){if(n.eat("(")){let e=E0(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=bv(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function vv(n){let e=[[]];return r(o(n,0),t()),e;function t(){return e.push([])-1}function i(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function r(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;r(u,a=t())}else if(s.type=="star"){let l=t();return i(a,l),r(o(s.expr,l),l),[i(l)]}else if(s.type=="plus"){let l=t();return r(o(s.expr,a),l),r(o(s.expr,l),l),[i(l)]}else{if(s.type=="opt")return[i(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=t();r(o(s.expr,l),c),l=c}if(s.max==-1)r(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=t();i(l,c),r(o(s.expr,l),c),l=c}return[i(l)]}else{if(s.type=="name")return[i(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function O0(n,e){return e-n}function lh(n,e){let t=[];return i(e),t.sort(O0);function i(r){let o=n[r];if(o.length==1&&!o[0].term)return i(o[0].to);t.push(r);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&t.indexOf(l)==-1&&i(l)}}}function wv(n){let e=Object.create(null);return t(lh(n,0));function t(i){let r=[];i.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<r.length;c++)r[c][0]==a&&(u=r[c][1]);lh(n,l).forEach(c=>{u||r.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[i.join(",")]=new yr(i.indexOf(n.length-1)>-1);for(let s=0;s<r.length;s++){let a=r[s][1].sort(O0);o.next.push({type:r[s][0],next:e[a.join(",")]||t(a)})}return o}}function xv(n,e){for(let t=0,i=[n];t<i.length;t++){let r=i[t],o=!r.validEnd,s=[];for(let a=0;a<r.next.length;a++){let{type:l,next:u}=r.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),i.indexOf(u)==-1&&i.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function D0(n){let e=Object.create(null);for(let t in n){let i=n[t];if(!i.hasDefault)return null;e[t]=i.default}return e}function T0(n,e){let t=Object.create(null);for(let i in n){let r=e&&e[i];if(r===void 0){let o=n[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}t[i]=r}return t}function P0(n,e,t,i){for(let r in e)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in n){let o=n[r];o.validate&&o.validate(e[r])}}function M0(n,e){let t=Object.create(null);if(e)for(let i in e)t[i]=new Sv(n,i,e[i]);return t}let uh=class F0{constructor(e,t,i){this.name=e,this.schema=t,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=M0(e,i.attrs),this.defaultAttrs=D0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:T0(this.attrs,e)}create(e=null,t,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Tn(this,this.computeAttrs(e),R.from(t),ye.setFrom(i))}createChecked(e=null,t,i){return t=R.from(t),this.checkContent(t),new Tn(this,this.computeAttrs(e),t,ye.setFrom(i))}createAndFill(e=null,t,i){if(e=this.computeAttrs(e),t=R.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(R.empty,!0);return o?new Tn(this,e,t.append(o),ye.setFrom(i)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){P0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?t&&t.push(e[i]):t||(t=e.slice(0,i));return t?t.length?t:ye.none:e}static compile(e,t){let i=Object.create(null);e.forEach((o,s)=>i[o]=new F0(o,t,s));let r=t.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function _v(n,e,t){let i=t.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${n}, got ${o}`)}}class Sv{constructor(e,t,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?_v(e,t,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Vl{constructor(e,t,i,r){this.name=e,this.rank=t,this.schema=i,this.spec=r,this.attrs=M0(e,r.attrs),this.excluded=null;let o=D0(this.attrs);this.instance=o?new ye(this,o):null}create(e=null){return!e&&this.instance?this.instance:new ye(this,T0(this.attrs,e))}static compile(e,t){let i=Object.create(null),r=0;return e.forEach((o,s)=>i[o]=new Vl(o,r++,t,s)),i}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){P0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class B0{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=nt.from(e.nodes),t.marks=nt.from(e.marks||{}),this.nodes=uh.compile(this.spec.nodes,this),this.marks=Vl.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=i[s]||(i[s]=yr.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?ch(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:ch(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof uh){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,i,r)}text(e,t){let i=this.nodes.text;return new hv(i,i.defaultAttrs,e,ye.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Tn.fromJSON(this,e)}markFromJSON(e){return ye.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function ch(n,e){let t=[];for(let i=0;i<e.length;i++){let r=e[i],o=n.marks[r],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return t}function jv(n){return n.tag!=null}function Cv(n){return n.style!=null}class gs{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let i=this.matchedStyles=[];t.forEach(r=>{if(jv(r))this.tags.push(r);else if(Cv(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=e.nodes[r.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let i=new fh(this,t,!1);return i.addAll(e,t.from,t.to),i.finish()}parseSlice(e,t={}){let i=new fh(this,t,!0);return i.addAll(e,t.from,t.to),K.maxOpen(i.finish())}matchTag(e,t,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(Ov(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!i.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function i(r){let o=r.priority==null?50:r.priority,s=0;for(;s<t.length;s++){let a=t[s];if((a.priority==null?50:a.priority)<o)break}t.splice(s,0,r)}for(let r in e.marks){let o=e.marks[r].spec.parseDOM;o&&o.forEach(s=>{i(s=hh(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in e.nodes){let o=e.nodes[r].spec.parseDOM;o&&o.forEach(s=>{i(s=hh(s)),s.node||s.ignore||s.mark||(s.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new gs(e,gs.schemaRules(e)))}}const N0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Av={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},I0={ol:!0,ul:!0},pl=1,ml=2,ts=4;function dh(n,e,t){return e!=null?(e?pl:0)|(e==="full"?ml:0):n&&n.whitespace=="pre"?pl|ml:t&~ts}class wa{constructor(e,t,i,r,o,s,a){this.type=e,this.attrs=t,this.marks=i,this.pendingMarks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=ye.none,this.stashMarks=[],this.match=s||(a&ts?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(R.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&pl)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let t=R.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(R.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,i=this.pendingMarks;t<i.length;t++){let r=i[t];(this.type?this.type.allowsMarkType(r.type):Dv(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!N0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}let fh=class{constructor(e,t,i){this.parser=e,this.options=t,this.isOpen=i,this.open=0;let r=t.topNode,o,s=dh(null,t.preserveWhitespace,0)|(i?ts:0);r?o=new wa(r.type,r.attrs,ye.none,ye.none,!0,t.topMatch||r.type.contentMatch,s):i?o=new wa(null,null,ye.none,ye.none,!0,null,s):o=new wa(e.schema.topNodeType,null,ye.none,ye.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,t){let i=e.style;if(!i||!i.length)return t();let r=this.readStyles(e.style);if(!r)return;let[o,s]=r,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);t();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(e){let t=e.nodeValue,i=this.top;if(i.options&ml||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(i.options&pl)i.options&ml?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=i.content[i.content.length-1],o=e.previousSibling;(!r||o&&o.nodeName=="BR"||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let i=e.nodeName.toLowerCase(),r;I0.hasOwnProperty(i)&&this.parser.normalizeLists&&Ev(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(r=this.parser.matchTag(e,this,t));if(o?o.ignore:Av.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(N0.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?r:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=ye.none,i=ye.none;if(e.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],s=e.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{l.clearMark(u)&&(i=u.addToSet(i))}):t=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(t),l.consuming===!1)a=l;else break}}return[t,i]}addElementByRule(e,t,i){let r,o,s;t.node?(o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace)):(s=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}r&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,t,i){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,s=i==null?null:e.childNodes[i];o!=s;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,i;for(let r=this.open;r>=0;r--){let o=this.nodes[r],s=o.findWrapping(e);if(s&&(!t||t.length>s.length)&&(t=s,i=o,!s.length)||o.solid)break}if(!t)return!1;this.sync(i);for(let r=0;r<t.length;r++)this.enterInner(t[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let i=t.activeMarks;for(let r=0;r<e.marks.length;r++)(!t.type||t.type.allowsMarkType(e.marks[r].type))&&(i=e.marks[r].addToSet(i));return t.content.push(e.mark(i)),!0}return!1}enter(e,t,i){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,i),r}enterInner(e,t=null,i=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=dh(e,r,o.options);o.options&ts&&o.content.length==0&&(s|=ts),this.nodes.push(new wa(e,t,o.activeMarks,o.pendingMarks,i,null,s)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let i=this.nodes[t].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==t&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,i){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),s=(a,l)=>{for(;a>=0;a--){let u=t[a];if(u==""){if(a==t.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&r?this.nodes[l].type:i&&l>=o?i.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let t in this.parser.schema.nodes){let i=this.parser.schema.nodes[t];if(i.isTextblock&&i.defaultAttrs)return i}}addPendingMark(e){let t=Tv(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let i=this.open;i>=0;i--){let r=this.nodes[i];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let s=r.popFromStashMark(e);s&&r.type&&r.type.allowsMarkType(s.type)&&(r.activeMarks=s.addToSet(r.activeMarks))}if(r==t)break}}};function Ev(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&I0.hasOwnProperty(i)&&t?(t.appendChild(e),e=t):i=="li"?t=e:i&&(t=null)}}function Ov(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function hh(n){let e={};for(let t in n)e[t]=n[t];return e}function Dv(n,e){let t=e.schema.nodes;for(let i in t){let r=t[i];if(!r.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(r.contentMatch))return!0}}function Tv(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}class _o{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},i){i||(i=ku(t).createDocumentFragment());let r=i,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)r=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,t);c&&(o.push([u,r]),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(this.serializeNodeInner(s,t))}),i}serializeNodeInner(e,t){let{dom:i,contentDOM:r}=Ga(ku(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return i}serializeNode(e,t={}){let i=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,t,i={}){let r=this.marks[e.type.name];return r&&Ga(ku(i),r(e,t),null,e.attrs)}static renderSpec(e,t,i=null,r){return Ga(e,t,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new _o(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ph(e.nodes);return t.text||(t.text=i=>i.text),t}static marksFromSchema(e){return ph(e.marks)}}function ph(n){let e={};for(let t in n){let i=n[t].spec.toDOM;i&&(e[t]=i)}return e}function ku(n){return n.document||window.document}const mh=new WeakMap;function Pv(n){let e=mh.get(n);return e===void 0&&mh.set(n,e=Mv(n)),e}function Mv(n){let e=null;function t(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)t(i[r]);else for(let r in i)t(i[r])}return t(n),e}function Ga(n,e,t,i){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=Pv(i))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(t=r.slice(0,s),r=r.slice(s+1));let a,l=t?n.createElementNS(t,r):n.createElement(r),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):l.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=Ga(n,f,t,i);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const R0=65535,L0=Math.pow(2,16);function Fv(n,e){return n+e*L0}function gh(n){return n&R0}function Bv(n){return(n-(n&R0))/L0}const V0=1,z0=2,Ya=4,$0=8;class _c{constructor(e,t,i){this.pos=e,this.delInfo=t,this.recover=i}get deleted(){return(this.delInfo&$0)>0}get deletedBefore(){return(this.delInfo&(V0|Ya))>0}get deletedAfter(){return(this.delInfo&(z0|Ya))>0}get deletedAcross(){return(this.delInfo&Ya)>0}}class Lt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Lt.empty)return Lt.empty}recover(e){let t=0,i=gh(e);if(!this.inverted)for(let r=0;r<i;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+t+Bv(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,i){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:t:t,p=l+r+(f<0?0:c);if(i)return p;let h=e==(t<0?l:d)?null:Fv(a/3,e-l),m=e==l?z0:e==d?V0:Ya;return(t<0?e!=l:e!=d)&&(m|=$0),new _c(p,m,h)}r+=c-u}return i?e+r:new _c(e+r,0,null)}touches(e,t){let i=0,r=gh(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==r*3)return!0;i+=this.ranges[a+s]-u}return!1}forEach(e){let t=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[r+t],c=this.ranges[r+i];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Lt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Lt.empty:new Lt(e<0?[0,-e,0]:[0,0,e])}}Lt.empty=new Lt([]);class Hr{constructor(e=[],t,i=0,r=e.length){this.maps=e,this.mirror=t,this.from=i,this.to=r}slice(e=0,t=this.maps.length){return new Hr(this.maps,this.mirror,e,t)}copy(){return new Hr(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,i=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],r!=null&&r<t?i+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,i=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),r!=null&&r>t?i-r-1:void 0)}}invert(){let e=new Hr;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let i=this.from;i<this.to;i++)e=this.maps[i].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,i){let r=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return i?e:new _c(e,r,null)}}const vu=Object.create(null);class kt{getMap(){return Lt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=vu[t.stepType];if(!i)throw new RangeError(`No step type ${t.stepType} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in vu)throw new RangeError("Duplicate use of step JSON ID "+e);return vu[e]=t,t.prototype.jsonID=e,t}}class ze{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ze(e,null)}static fail(e){return new ze(null,e)}static fromReplace(e,t,i,r){try{return ze.ok(e.replace(t,i,r))}catch(o){if(o instanceof dl)return ze.fail(o.message);throw o}}}function Id(n,e,t){let i=[];for(let r=0;r<n.childCount;r++){let o=n.child(r);o.content.size&&(o=o.copy(Id(o.content,e,o))),o.isInline&&(o=e(o,t,r)),i.push(o)}return R.fromArray(i)}class Ci extends kt{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new K(Id(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),t.openStart,t.openEnd);return ze.fromReplace(e,this.from,this.to,o)}invert(){return new Cn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Ci(t.pos,i.pos,this.mark)}merge(e){return e instanceof Ci&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ci(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ci(t.from,t.to,e.markFromJSON(t.mark))}}kt.jsonID("addMark",Ci);class Cn extends kt{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=new K(Id(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return ze.fromReplace(e,this.from,this.to,i)}invert(){return new Ci(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Cn(t.pos,i.pos,this.mark)}merge(e){return e instanceof Cn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Cn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Cn(t.from,t.to,e.markFromJSON(t.mark))}}kt.jsonID("removeMark",Cn);class Ai extends kt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ze.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ze.fromReplace(e,this.pos,this.pos+1,new K(R.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let i=this.mark.addToSet(t.marks);if(i.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(i))return new Ai(this.pos,t.marks[r]);return new Ai(this.pos,this.mark)}}return new eo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ai(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ai(t.pos,e.markFromJSON(t.mark))}}kt.jsonID("addNodeMark",Ai);class eo extends kt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ze.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ze.fromReplace(e,this.pos,this.pos+1,new K(R.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ai(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new eo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new eo(t.pos,e.markFromJSON(t.mark))}}kt.jsonID("removeNodeMark",eo);class dt extends kt{constructor(e,t,i,r=!1){super(),this.from=e,this.to=t,this.slice=i,this.structure=r}apply(e){return this.structure&&Sc(e,this.from,this.to)?ze.fail("Structure replace would overwrite content"):ze.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Lt([this.from,this.to-this.from,this.slice.size])}invert(e){return new dt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deletedAcross&&i.deletedAcross?null:new dt(t.pos,Math.max(t.pos,i.pos),this.slice)}merge(e){if(!(e instanceof dt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?K.empty:new K(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new dt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?K.empty:new K(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new dt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new dt(t.from,t.to,K.fromJSON(e,t.slice),!!t.structure)}}kt.jsonID("replace",dt);class st extends kt{constructor(e,t,i,r,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Sc(e,this.from,this.gapFrom)||Sc(e,this.gapTo,this.to)))return ze.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ze.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,t.content);return i?ze.fromReplace(e,this.from,this.to,i):ze.fail("Content does not fit in gap")}getMap(){return new Lt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new st(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return t.deletedAcross&&i.deletedAcross||r<t.pos||o>i.pos?null:new st(t.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new st(t.from,t.to,t.gapFrom,t.gapTo,K.fromJSON(e,t.slice),t.insert,!!t.structure)}}kt.jsonID("replaceAround",st);function Sc(n,e,t){let i=n.resolve(e),r=t-e,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let s=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function Nv(n,e,t,i){let r=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!i.isInSet(d)&&c.type.allowsMarkType(i.type)){let f=Math.max(u,e),p=Math.min(u+l.nodeSize,t),h=i.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(h)||(s&&s.to==f&&s.mark.eq(d[m])?s.to=p:r.push(s=new Cn(f,p,d[m])));a&&a.to==f?a.to=p:o.push(a=new Ci(f,p,i))}}),r.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function Iv(n,e,t,i){let r=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(i instanceof Vl){let u=s.marks,c;for(;c=i.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else i?i.isInSet(s.marks)&&(l=[i]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,t);for(let c=0;c<l.length;c++){let d=l[c],f;for(let p=0;p<r.length;p++){let h=r[p];h.step==o-1&&d.eq(r[p].style)&&(f=h)}f?(f.to=u,f.step=o):r.push({style:d,from:Math.max(a,e),to:u,step:o})}}}),r.forEach(s=>n.step(new Cn(s.from,s.to,s.style)))}function q0(n,e,t,i=t.contentMatch,r=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=a+u.nodeSize,d=i.matchType(u.type);if(!d)s.push(new dt(a,c,K.empty));else{i=d;for(let f=0;f<u.marks.length;f++)t.allowsMarkType(u.marks[f].type)||n.step(new Cn(a,c,u.marks[f]));if(r&&u.isText&&t.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new K(R.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),s.push(new dt(a+f.index,a+f.index+f[0].length,h))}}a=c}if(!i.validEnd){let l=i.fillBefore(R.empty,!0);n.replace(a,a,new K(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function Rv(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ys(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth;;--i){let r=n.$from.node(i),o=n.$from.index(i),s=n.$to.indexAfter(i);if(i<n.depth&&r.canReplace(o,s,t))return i;if(i==0||r.type.spec.isolating||!Rv(r,o,s))break}return null}function Lv(n,e,t){let{$from:i,$to:r,depth:o}=e,s=i.before(o+1),a=r.after(o+1),l=s,u=a,c=R.empty,d=0;for(let h=o,m=!1;h>t;h--)m||i.index(h)>0?(m=!0,c=R.from(i.node(h).copy(c)),d++):l--;let f=R.empty,p=0;for(let h=o,m=!1;h>t;h--)m||r.after(h+1)<r.end(h)?(m=!0,f=R.from(r.node(h).copy(f)),p++):u++;n.step(new st(l,u,s,a,new K(c.append(f),d,p),c.size-d,!0))}function Rd(n,e,t=null,i=n){let r=Vv(n,e),o=r&&zv(i,e);return o?r.map(yh).concat({type:e,attrs:t}).concat(o.map(yh)):null}function yh(n){return{type:n,attrs:null}}function Vv(n,e){let{parent:t,startIndex:i,endIndex:r}=n,o=t.contentMatchAt(i).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(i,r,s)?o:null}function zv(n,e){let{parent:t,startIndex:i,endIndex:r}=n,o=t.child(i),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=i;l&&u<r;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:s}function $v(n,e,t){let i=R.empty;for(let s=t.length-1;s>=0;s--){if(i.size){let a=t[s].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=R.from(t[s].type.create(t[s].attrs,i))}let r=e.start,o=e.end;n.step(new st(r,o,r,o,new K(i,0,0),t.length,!0))}function qv(n,e,t,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(i,r)&&Kv(n.doc,n.mapping.slice(o).map(a),i)){let l=null;if(i.schema.linebreakReplacement){let f=i.whitespace=="pre",p=!!i.contentMatch.matchType(i.schema.linebreakReplacement);f&&!p?l=!1:!f&&p&&(l=!0)}l===!1&&Wv(n,s,a,o),q0(n,n.mapping.slice(o).map(a,1),i,void 0,l===null);let u=n.mapping.slice(o),c=u.map(a,1),d=u.map(a+s.nodeSize,1);return n.step(new st(c,d,c+1,d-1,new K(R.from(i.create(r,null,s.marks)),0,0),1,!0)),l===!0&&Hv(n,s,a,o),!1}})}function Hv(n,e,t,i){e.forEach((r,o)=>{if(r.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(r.text);){let l=n.mapping.slice(i).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Wv(n,e,t,i){e.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let s=n.mapping.slice(i).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function Kv(n,e,t){let i=n.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,t)}function Uv(n,e,t,i,r){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(i,null,r||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new st(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new K(R.from(s),0,0),1,!0))}function Wr(n,e,t=1,i){let r=n.resolve(e),o=r.depth-t,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let u=r.depth-1,c=t-2;u>o;u--,c--){let d=r.node(u),f=r.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=i&&i[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let m=i&&i[c]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}function Jv(n,e,t=1,i){let r=n.doc.resolve(e),o=R.empty,s=R.empty;for(let a=r.depth,l=r.depth-t,u=t-1;a>l;a--,u--){o=R.from(r.node(a).copy(o));let c=i&&i[u];s=R.from(c?c.type.create(c.attrs,s):r.node(a).copy(s))}n.step(new dt(e,e,new K(o.append(s),t,t),!0))}function So(n,e){let t=n.resolve(e),i=t.index();return H0(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(i,i+1)}function H0(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function W0(n,e,t=-1){let i=n.resolve(e);for(let r=i.depth;;r--){let o,s,a=i.index(r);if(r==i.depth?(o=i.nodeBefore,s=i.nodeAfter):t>0?(o=i.node(r+1),a++,s=i.node(r).maybeChild(a)):(o=i.node(r).maybeChild(a-1),s=i.node(r+1)),o&&!o.isTextblock&&H0(o,s)&&i.node(r).canReplace(a,a+1))return e;if(r==0)break;e=t<0?i.before(r):i.after(r)}}function Gv(n,e,t){let i=new dt(e-t,e+t,K.empty,!0);n.step(i)}function Yv(n,e,t){let i=n.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),t))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,t))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,t))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function K0(n,e,t){let i=n.resolve(e);if(!t.content.size)return e;let r=t.content;for(let o=0;o<t.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=i.depth;s>=0;s--){let a=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,l=i.index(s)+(a>0?1:0),u=i.node(s),c=!1;if(o==1)c=u.canReplace(l,l,r);else{let d=u.contentMatchAt(l).findWrapping(r.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?i.pos:a<0?i.before(s+1):i.after(s+1)}return null}function Ld(n,e,t=e,i=K.empty){if(e==t&&!i.size)return null;let r=n.resolve(e),o=n.resolve(t);return U0(r,o,i)?new dt(e,t,i):new Zv(r,o,i).fit()}function U0(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Zv{constructor(e,t,i){this.$from=e,this.$to=t,this.unplaced=i,this.frontier=[],this.placed=R.empty;for(let r=0;r<=e.depth;r++){let o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=R.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let o=this.placed,s=i.depth,a=r.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new K(o,s,a);return e>-1?new st(i.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||i.pos!=this.$to.pos?new dt(i.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){e=i;break}t=o.content}for(let t=1;t<=2;t++)for(let i=t==1?e:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=wu(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(t==1&&(s?u.matchType(s.type)||(d=u.fillBefore(R.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:i,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:i}=this.unplaced,r=wu(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new K(e,t+1,Math.max(i,r.size+t>=e.size-i?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:i}=this.unplaced,r=wu(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new K(Ho(e,t-1,1),t-1,o?t-1:i)}else this.unplaced=new K(Ho(e,t,1),t,i)}placeNodes({sliceDepth:e,frontierDepth:t,parent:i,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,a=i?i.content:s.content,l=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[t];if(r){for(let m=0;m<r.childCount;m++)c.push(r.child(m));d=d.matchFragment(r)}let p=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let m=a.child(u),g=d.matchType(m.type);if(!g)break;u++,(u>1||l==0||m.content.size)&&(d=g,c.push(J0(m.mark(f.allowedMarks(m.marks)),u==1?l:0,u==a.childCount?p:-1)))}let h=u==a.childCount;h||(p=-1),this.placed=Wo(this.placed,t,R.from(c)),this.frontier[t].match=d,h&&p<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<p;m++){let y=g.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),g=y.content}this.unplaced=h?e==0?K.empty:new K(Ho(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new K(Ho(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!xu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:i,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=xu(e,t,r,i,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=xu(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Wo(this.placed,t.depth,t.fit)),e=t.move;for(let i=t.depth+1;i<=e.depth;i++){let r=e.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,o)}return e}openFrontierNode(e,t=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Wo(this.placed,this.depth,R.from(e.create(t,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(R.empty,!0);t.childCount&&(this.placed=Wo(this.placed,this.frontier.length,t))}}function Ho(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Ho(n.firstChild.content,e-1,t)))}function Wo(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Wo(n.lastChild.content,e-1,t)))}function wu(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function J0(n,e,t){if(e<=0)return n;let i=n.content;return e>1&&(i=i.replaceChild(0,J0(i.firstChild,e-1,i.childCount==1?t-1:0))),e>0&&(i=n.type.contentMatch.fillBefore(i).append(i),t<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(R.empty,!0)))),n.copy(i)}function xu(n,e,t,i,r){let o=n.node(e),s=r?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=i.fillBefore(o.content,!0,s);return a&&!Xv(t,o.content,s)?a:null}function Xv(n,e,t){for(let i=t;i<e.childCount;i++)if(!n.allowsMarks(e.child(i).marks))return!0;return!1}function Qv(n){return n.spec.defining||n.spec.definingForContent}function ew(n,e,t,i){if(!i.size)return n.deleteRange(e,t);let r=n.doc.resolve(e),o=n.doc.resolve(t);if(U0(r,o,i))return n.step(new dt(e,t,i));let s=Y0(r,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let f=r.depth,p=r.pos-1;f>0;f--,p--){let h=r.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(f)>-1?a=f:r.before(f)==p&&s.splice(1,0,-f)}let l=s.indexOf(a),u=[],c=i.openStart;for(let f=i.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==i.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=Qv(p.type);if(h&&!p.sameMarkup(r.node(Math.abs(a)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=i.openStart;f>=0;f--){let p=(f+c+1)%(i.openStart+1),h=u[p];if(h)for(let m=0;m<s.length;m++){let g=s[(m+l)%s.length],y=!0;g<0&&(y=!1,g=-g);let k=r.node(g-1),x=r.index(g-1);if(k.canReplaceWith(x,x,h.type,h.marks))return n.replace(r.before(g),y?o.after(g):t,new K(G0(i.content,0,i.openStart,p),p,i.openEnd))}}let d=n.steps.length;for(let f=s.length-1;f>=0&&(n.replace(e,t,i),!(n.steps.length>d));f--){let p=s[f];p<0||(e=r.before(p),t=o.after(p))}}function G0(n,e,t,i,r){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(G0(o.content,e+1,t,i,o)))}if(e>i){let o=r.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(R.empty,!0))}return n}function tw(n,e,t,i){if(!i.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let r=Yv(n.doc,e,i.type);r!=null&&(e=t=r)}n.replaceRange(e,t,new K(R.from(i),0,0))}function nw(n,e,t){let i=n.doc.resolve(e),r=n.doc.resolve(t),o=Y0(i,r);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return n.delete(i.start(a),r.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),r.indexAfter(a-1))))return n.delete(i.before(a),r.after(a))}for(let s=1;s<=i.depth&&s<=r.depth;s++)if(e-i.start(s)==i.depth-s&&t>i.end(s)&&r.end(s)-t!=r.depth-s)return n.delete(i.before(s),t);n.delete(e,t)}function Y0(n,e){let t=[],i=Math.min(n.depth,e.depth);for(let r=i;r>=0;r--){let o=n.start(r);if(o<n.pos-(n.depth-r)||e.end(r)>e.pos+(e.depth-r)||n.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==n.depth&&r==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&t.push(r)}return t}class Kr extends kt{constructor(e,t,i){super(),this.pos=e,this.attr=t,this.value=i}apply(e){let t=e.nodeAt(this.pos);if(!t)return ze.fail("No node at attribute step's position");let i=Object.create(null);for(let o in t.attrs)i[o]=t.attrs[o];i[this.attr]=this.value;let r=t.type.create(i,null,t.marks);return ze.fromReplace(e,this.pos,this.pos+1,new K(R.from(r),0,t.isLeaf?0:1))}getMap(){return Lt.empty}invert(e){return new Kr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Kr(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Kr(t.pos,t.attr,t.value)}}kt.jsonID("attr",Kr);class ys extends kt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let i=e.type.create(t,e.content,e.marks);return ze.ok(i)}getMap(){return Lt.empty}invert(e){return new ys(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ys(t.attr,t.value)}}kt.jsonID("docAttr",ys);let to=class extends Error{};to=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};to.prototype=Object.create(Error.prototype);to.prototype.constructor=to;to.prototype.name="TransformError";class iw{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Hr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new to(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,i=K.empty){let r=Ld(this.doc,e,t,i);return r&&this.step(r),this}replaceWith(e,t,i){return this.replace(e,t,new K(R.from(i),0,0))}delete(e,t){return this.replace(e,t,K.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,i){return ew(this,e,t,i),this}replaceRangeWith(e,t,i){return tw(this,e,t,i),this}deleteRange(e,t){return nw(this,e,t),this}lift(e,t){return Lv(this,e,t),this}join(e,t=1){return Gv(this,e,t),this}wrap(e,t){return $v(this,e,t),this}setBlockType(e,t=e,i,r=null){return qv(this,e,t,i,r),this}setNodeMarkup(e,t,i=null,r){return Uv(this,e,t,i,r),this}setNodeAttribute(e,t,i){return this.step(new Kr(e,t,i)),this}setDocAttribute(e,t){return this.step(new ys(e,t)),this}addNodeMark(e,t){return this.step(new Ai(e,t)),this}removeNodeMark(e,t){if(!(t instanceof ye)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(t=t.isInSet(i.marks),!t)return this}return this.step(new eo(e,t)),this}split(e,t=1,i){return Jv(this,e,t,i),this}addMark(e,t,i){return Nv(this,e,t,i),this}removeMark(e,t,i){return Iv(this,e,t,i),this}clearIncompatible(e,t,i){return q0(this,e,t,i),this}}const _u=Object.create(null);class pe{constructor(e,t,i){this.$anchor=e,this.$head=t,this.ranges=i||[new rw(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=K.empty){let i=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=i,i=i.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),a?K.empty:t),a==0&&vh(e,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let i=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:a}=r[o],l=e.mapping.slice(i),u=l.map(s.pos),c=l.map(a.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),vh(e,i,t.isInline?-1:1))}}static findFrom(e,t,i=!1){let r=e.parent.inlineContent?new re(e):Lr(e.node(0),e.parent,e.pos,e.index(),t,i);if(r)return r;for(let o=e.depth-1;o>=0;o--){let s=t<0?Lr(e.node(0),e.node(o),e.before(o+1),e.index(o),t,i):Lr(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,i);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new $t(e.node(0))}static atStart(e){return Lr(e,e,0,0,1)||new $t(e)}static atEnd(e){return Lr(e,e,e.content.size,e.childCount,-1)||new $t(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=_u[t.type];if(!i)throw new RangeError(`No selection type ${t.type} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in _u)throw new RangeError("Duplicate use of selection JSON ID "+e);return _u[e]=t,t.prototype.jsonID=e,t}getBookmark(){return re.between(this.$anchor,this.$head).getBookmark()}}pe.prototype.visible=!0;let rw=class{constructor(e,t){this.$from=e,this.$to=t}},bh=!1;function kh(n){!bh&&!n.parent.inlineContent&&(bh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class re extends pe{constructor(e,t=e){kh(e),kh(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let i=e.resolve(t.map(this.head));if(!i.parent.inlineContent)return pe.near(i);let r=e.resolve(t.map(this.anchor));return new re(r.parent.inlineContent?r:i,i)}replace(e,t=K.empty){if(super.replace(e,t),t==K.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof re&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new zl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new re(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,i=t){let r=e.resolve(t);return new this(r,i==t?r:e.resolve(i))}static between(e,t,i){let r=e.pos-t.pos;if((!i||r)&&(i=r>=0?1:-1),!t.parent.inlineContent){let o=pe.findFrom(t,i,!0)||pe.findFrom(t,-i,!0);if(o)t=o.$head;else return pe.near(t,i)}return e.parent.inlineContent||(r==0?e=t:(e=(pe.findFrom(e,-i,!0)||pe.findFrom(e,i,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new re(e,t)}}pe.jsonID("text",re);class zl{constructor(e,t){this.anchor=e,this.head=t}map(e){return new zl(e.map(this.anchor),e.map(this.head))}resolve(e){return re.between(e.resolve(this.anchor),e.resolve(this.head))}}class ie extends pe{constructor(e){let t=e.nodeAfter,i=e.node(0).resolve(e.pos+t.nodeSize);super(e,i),this.node=t}map(e,t){let{deleted:i,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return i?pe.near(o):new ie(o)}content(){return new K(R.from(this.node),0,0)}eq(e){return e instanceof ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vd(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(e.resolve(t.anchor))}static create(e,t){return new ie(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ie.prototype.visible=!1;pe.jsonID("node",ie);class Vd{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:i}=e.mapResult(this.anchor);return t?new zl(i,i):new Vd(i)}resolve(e){let t=e.resolve(this.anchor),i=t.nodeAfter;return i&&ie.isSelectable(i)?new ie(t):pe.near(t)}}class $t extends pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=K.empty){if(t==K.empty){e.delete(0,e.doc.content.size);let i=pe.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new $t(e)}map(e){return new $t(e)}eq(e){return e instanceof $t}getBookmark(){return ow}}pe.jsonID("all",$t);const ow={map(){return this},resolve(n){return new $t(n)}};function Lr(n,e,t,i,r,o=!1){if(e.inlineContent)return re.create(n,t);for(let s=i-(r>0?0:1);r>0?s<e.childCount:s>=0;s+=r){let a=e.child(s);if(a.isAtom){if(!o&&ie.isSelectable(a))return ie.create(n,t-(r<0?a.nodeSize:0))}else{let l=Lr(n,a,t+r,r<0?a.childCount:0,r,o);if(l)return l}t+=a.nodeSize*r}return null}function vh(n,e,t){let i=n.steps.length-1;if(i<e)return;let r=n.steps[i];if(!(r instanceof dt||r instanceof st))return;let o=n.mapping.maps[i],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),n.setSelection(pe.near(n.doc.resolve(s),t))}const wh=1,xa=2,xh=4;let sw=class extends iw{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|wh)&~xa,this.storedMarks=null,this}get selectionSet(){return(this.updated&wh)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=xa,this}ensureMarks(e){return ye.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&xa)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~xa,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let i=this.selection;return t&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||ye.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,i){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=t),i=i??t,!e)return this.deleteRange(t,i);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=i==t?s.marks():s.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(t,i,r.text(e,o)),this.selection.empty||this.setSelection(pe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=xh,this}get scrolledIntoView(){return(this.updated&xh)>0}};function _h(n,e){return!e||!n?n:n.bind(e)}class Ko{constructor(e,t,i){this.name=e,this.init=_h(t.init,i),this.apply=_h(t.apply,i)}}const aw=[new Ko("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ko("selection",{init(n,e){return n.selection||pe.atStart(e.doc)},apply(n){return n.selection}}),new Ko("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,i){return i.selection.$cursor?n.storedMarks:null}}),new Ko("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];let Su=class{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=aw.slice(),t&&t.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Ko(i.key,i.spec.state,i))})}},lw=class Uo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],i=this.applyInner(e),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=r?r[s].n:0,u=r?r[s].state:this,c=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,u,i);if(c&&i.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<s?{state:i,n:t.length}:{state:this,n:0})}t.push(c),i=i.applyInner(c),o=!0}r&&(r[s]={state:i,n:t.length})}}if(!o)return{state:i,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Uo(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new sw(this)}static create(e){let t=new Su(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Uo(t);for(let r=0;r<t.fields.length;r++)i[t.fields[r].name]=t.fields[r].init(e,i);return i}reconfigure(e){let t=new Su(this.schema,e.plugins),i=t.fields,r=new Uo(t);for(let o=0;o<i.length;o++){let s=i[o].name;r[s]=this.hasOwnProperty(s)?this[s]:i[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],o=r.spec.state;o&&o.toJSON&&(t[i]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,i){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Su(e.schema,e.plugins),o=new Uo(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=Tn.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=pe.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){o[s.name]=u.fromJSON.call(l,e,t[a],o);return}}o[s.name]=s.init(e,o)}}),o}};function Z0(n,e,t){for(let i in n){let r=n[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=Z0(r,e,{})),t[i]=r}return t}class Nt{constructor(e){this.spec=e,this.props={},e.props&&Z0(e.props,this,this.props),this.key=e.key?e.key.key:X0("plugin")}getState(e){return e[this.key]}}const ju=Object.create(null);function X0(n){return n in ju?n+"$"+ ++ju[n]:(ju[n]=0,n+"$")}class $l{constructor(e="key"){this.key=X0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},bs=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let jc=null;const Kn=function(n,e,t){let i=jc||(jc=document.createRange());return i.setEnd(n,t??n.nodeValue.length),i.setStart(n,e||0),i},uw=function(){jc=null},br=function(n,e,t,i){return t&&(Sh(n,e,t,i,-1)||Sh(n,e,t,i,1))},cw=/^(img|br|input|textarea|hr)$/i;function Sh(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:_n(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Zs(n)||cw.test(n.nodeName)||n.contentEditable=="false")return!1;e=rt(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.contentEditable=="false")return!1;e=r<0?_n(n):0}else return!1}}function _n(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function dw(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=_n(n)}else if(n.parentNode&&!Zs(n))e=rt(n),n=n.parentNode;else return null}}function fw(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Zs(n))e=rt(n)+1,n=n.parentNode;else return null}}function hw(n,e,t){for(let i=e==0,r=e==_n(n);i||r;){if(n==t)return!0;let o=rt(n);if(n=n.parentNode,!n)return!1;i=i&&o==0,r=r&&o==_n(n)}}function Zs(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const ql=function(n){return n.focusNode&&br(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Qi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function pw(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function mw(n,e,t){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(e,t);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(e,t);if(i)return{node:i.startContainer,offset:i.startOffset}}}const Bn=typeof navigator<"u"?navigator:null,jh=typeof document<"u"?document:null,Hi=Bn&&Bn.userAgent||"",Cc=/Edge\/(\d+)/.exec(Hi),Q0=/MSIE \d/.exec(Hi),Ac=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Hi),Pt=!!(Q0||Ac||Cc),Bi=Q0?document.documentMode:Ac?+Ac[1]:Cc?+Cc[1]:0,cn=!Pt&&/gecko\/(\d+)/i.test(Hi);cn&&+(/Firefox\/(\d+)/.exec(Hi)||[0,0])[1];const Ec=!Pt&&/Chrome\/(\d+)/.exec(Hi),mt=!!Ec,ey=Ec?+Ec[1]:0,Ct=!Pt&&!!Bn&&/Apple Computer/.test(Bn.vendor),no=Ct&&(/Mobile\/\w+/.test(Hi)||!!Bn&&Bn.maxTouchPoints>2),Kt=no||(Bn?/Mac/.test(Bn.platform):!1),gw=Bn?/Win/.test(Bn.platform):!1,ln=/Android \d/.test(Hi),Xs=!!jh&&"webkitFontSmoothing"in jh.documentElement.style,yw=Xs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function bw(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Hn(n,e){return typeof n=="number"?n:n[e]}function kw(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*i}}function Ch(n,e,t){let i=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=bs(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,u=l?bw(o):kw(a),c=0,d=0;if(e.top<u.top+Hn(i,"top")?d=-(u.top-e.top+Hn(r,"top")):e.bottom>u.bottom-Hn(i,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+Hn(r,"top")-u.top:e.bottom-u.bottom+Hn(r,"bottom")),e.left<u.left+Hn(i,"left")?c=-(u.left-e.left+Hn(r,"left")):e.right>u.right-Hn(i,"right")&&(c=e.right-u.right+Hn(r,"right")),c||d)if(l)o.defaultView.scrollBy(c,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let h=a.scrollLeft-f,m=a.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function vw(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),i,r;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){i=a,r=l.top;break}}return{refDOM:i,refTop:r,stack:ty(n.dom)}}function ty(n){let e=[],t=n.ownerDocument;for(let i=n;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=t);i=bs(i));return e}function ww({refDOM:n,refTop:e,stack:t}){let i=n?n.getBoundingClientRect().top:0;ny(t,i==0?0:i-e)}function ny(n,e){for(let t=0;t<n.length;t++){let{dom:i,top:r,left:o}=n[t];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let Fr=null;function xw(n){if(n.setActive)return n.setActive();if(Fr)return n.focus(Fr);let e=ty(n);n.focus(Fr==null?{get preventScroll(){return Fr={preventScroll:!0},!0}}:void 0),Fr||(Fr=!1,ny(e,0))}function iy(n,e){let t,i=2e8,r,o=0,s=e.top,a=e.top,l,u;for(let c=n.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Kn(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<i){t=c,i=m,r=m&&t.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&m&&(o=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!t&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=d+1)}}return!t&&l&&(t=l,r=u,i=0),t&&t.nodeType==3?_w(t,r):!t||i&&t.nodeType==1?{node:n,offset:o}:iy(t,r)}function _w(n,e){let t=n.nodeValue.length,i=document.createRange();for(let r=0;r<t;r++){i.setEnd(n,r+1),i.setStart(n,r);let o=pi(i,1);if(o.top!=o.bottom&&zd(e,o))return{node:n,offset:r+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function zd(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Sw(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function jw(n,e,t){let{node:i,offset:r}=iy(e,t),o=-1;if(i.nodeType==1&&!i.firstChild){let s=i.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(i,r,o)}function Cw(n,e,t,i){let r=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>i.left||l.top>i.top?r=a.posBefore:(!s&&l.right<i.left||l.bottom<i.top)&&(r=a.posAfter),s=!0),!a.contentDOM&&r<0&&!a.node.isText)return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return r>-1?r:n.docView.posFromDOM(e,t,-1)}function ry(n,e,t){let i=n.childNodes.length;if(i&&t.top<t.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-t.top)/(t.bottom-t.top))-2)),o=r;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(zd(e,u))return ry(s,e,u)}}if((o=(o+1)%i)==r)break}return n}function Aw(n,e){let t=n.dom.ownerDocument,i,r=0,o=mw(t,e.left,e.top);o&&({node:i,offset:r}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=n.dom.getBoundingClientRect();if(!zd(e,u)||(s=ry(n.dom,e,u),!s))return null}if(Ct)for(let u=s;i&&u;u=bs(u))u.draggable&&(i=void 0);if(s=Sw(s,e),i){if(cn&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let c=i.childNodes[r],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}let u;Xs&&r&&i.nodeType==1&&(u=i.childNodes[r-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&r--,i==n.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(a=Cw(n,i,r,e))}a==null&&(a=jw(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Ah(n){return n.top<n.bottom||n.left<n.right}function pi(n,e){let t=n.getClientRects();if(t.length){let i=t[e<0?0:t.length-1];if(Ah(i))return i}return Array.prototype.find.call(t,Ah)||n.getBoundingClientRect()}const Ew=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function oy(n,e,t){let{node:i,offset:r,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=Xs||cn;if(i.nodeType==3)if(s&&(Ew.test(i.nodeValue)||(t<0?!r:r==i.nodeValue.length))){let l=pi(Kn(i,r,r),t);if(cn&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let u=pi(Kn(i,r-1,r-1),-1);if(u.top==l.top){let c=pi(Kn(i,r,r+1),-1);if(c.top!=l.top)return Fo(c,c.left<u.left)}}return l}else{let l=r,u=r,c=t<0?1:-1;return t<0&&!r?(u++,c=-1):t>=0&&r==i.nodeValue.length?(l--,c=1):t<0?l--:u++,Fo(pi(Kn(i,l,u),c),c<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&r&&(t<0||r==_n(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return Cu(l.getBoundingClientRect(),!1)}if(o==null&&r<_n(i)){let l=i.childNodes[r];if(l.nodeType==1)return Cu(l.getBoundingClientRect(),!0)}return Cu(i.getBoundingClientRect(),t>=0)}if(o==null&&r&&(t<0||r==_n(i))){let l=i.childNodes[r-1],u=l.nodeType==3?Kn(l,_n(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Fo(pi(u,1),!1)}if(o==null&&r<_n(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Kn(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return Fo(pi(u,-1),!0)}return Fo(pi(i.nodeType==3?Kn(i):i,-t),t>=0)}function Fo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Cu(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function sy(n,e,t){let i=n.state,r=n.root.activeElement;i!=e&&n.updateState(e),r!=n.dom&&n.focus();try{return t()}finally{i!=e&&n.updateState(i),r!=n.dom&&r&&r.focus()}}function Ow(n,e,t){let i=e.selection,r=t=="up"?i.$from:i.$to;return sy(n,e,()=>{let{node:o}=n.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=oy(n,r.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Kn(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const Dw=/[\u0590-\u08ac]/;function Tw(n,e,t){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,s=r==i.parent.content.size,a=n.domSelection();return!Dw.test(i.parent.textContent)||!a.modify?t=="left"||t=="backward"?o:s:sy(n,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=n.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",t,"character");let p=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:h,focusOffset:m}=n.domSelectionRange(),g=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&u==m;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),g})}let Eh=null,Oh=null,Dh=!1;function Pw(n,e,t){return Eh==e&&Oh==t?Dh:(Eh=e,Oh=t,Dh=t=="up"||t=="down"?Ow(n,e,t):Tw(n,e,t))}const Gt=0,Th=1,ir=2,Nn=3;class Qs{constructor(e,t,i,r){this.parent=e,this.children=t,this.dom=i,this.contentDOM=r,this.dirty=Gt,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,i=this.posAtStart;;t++){let r=this.children[t];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>rt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let i=!0,r=e;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!t||o.node))if(i&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))i=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let i=t;i;i=i.parent)if(i==this)return t}posFromDOM(e,t,i){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,i)}return-1}descAt(e){for(let t=0,i=0;t<this.children.length;t++){let r=this.children[t],o=i+r.size;if(i==e&&o!=i){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-i-r.border);i=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.size;if(a>e||s instanceof ly){r=e-o;break}o=a}if(r)return this.children[i].domFromPos(r-this.children[i].border,t);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof ay&&o.side>=0;i--);if(t<=0){let o,s=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?rt(o.dom)+1:0}}else{let o,s=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?rt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=i,a=0;;a++){let l=this.children[a],u=s+l.size;if(r==-1&&e<=u){let c=s+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=rt(f.dom)+1;break}e-=f.size}r==-1&&(r=0)}if(r>-1&&(u>t||a==this.children.length-1)){t=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=rt(d.dom);break}t+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:i}=this.domFromPos(e,0);if(t.nodeType!=1||i==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[i]}setSelection(e,t,i,r=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],m=p+h.size;if(o>p&&s<m)return h.setSelection(e-p-h.border,t-p-h.border,i,r);p=m}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),u=i.getSelection(),c=!1;if((cn||Ct)&&e==t){let{node:f,offset:p}=a;if(f.nodeType==3){if(c=!!(p&&f.nodeValue[p-1]==`
`),c&&p==f.nodeValue.length)for(let h=f,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:rt(m)+1});break}let g=h.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let h=f.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(cn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(r=!0)}if(!(r||c&&Ct)&&br(a.node,a.offset,u.anchorNode,u.anchorOffset)&&br(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==t)&&!c){u.collapse(a.node,a.offset);try{e!=t&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],s=i+o.size;if(i==s?e<=s&&t>=i:e<s&&t>i){let a=i+o.border,l=s-o.border;if(e>=a&&t<=l){this.dirty=e==i||t==s?ir:Th,e==a&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Nn:o.markDirty(e-a,t-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ir:Nn}i=s}this.dirty=ir}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let i=e==1?ir:Th;t.dirty<i&&(t.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class ay extends Qs{constructor(e,t,i,r){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Gt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Mw extends Qs{constructor(e,t,i,r){super(e,[],t,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class kr extends Qs{constructor(e,t,i,r){super(e,[],i,r),this.mark=t}static create(e,t,i,r){let o=r.nodeViews[t.type.name],s=o&&o(t,r,i);return(!s||!s.dom)&&(s=_o.renderSpec(document,t.type.spec.toDOM(t,i),null,t.attrs)),new kr(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Nn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Nn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Gt){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Gt}}slice(e,t,i){let r=kr.create(this.parent,this.mark,!0,i),o=this.children,s=this.size;t<s&&(o=Tc(o,t,s,i)),e>0&&(o=Tc(o,0,e,i));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}}class Ni extends Qs{constructor(e,t,i,r,o,s,a,l,u){super(e,[],o,s),this.node=t,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=a}static create(e,t,i,r,o,s){let a=o.nodeViews[t.type.name],l,u=a&&a(t,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},i,r),c=u&&u.dom,d=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=_o.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let f=c;return c=dy(c,i,t),u?l=new Fw(e,t,i,r,c,d||null,f,u,o,s+1):t.isText?new Hl(e,t,i,r,c,f,o):new Ni(e,t,i,r,c,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let i=this.children[t];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>R.empty)}return e}matchesNode(e,t,i){return this.dirty==Gt&&e.eq(this.node)&&Dc(t,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let i=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Nw(this,s&&s.node,e);Lw(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,i,e):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?ye.none:this.node.child(c).marks,i,e),l.placeWidget(u,e,r)},(u,c,d,f)=>{l.syncToMarks(u.marks,i,e);let p;l.findNodeMatch(u,c,d,f)||a&&e.state.selection.from>r&&e.state.selection.to<r+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,d,p,e)||l.updateNextNode(u,c,d,e,f,r)||l.addNode(u,c,d,e,r),r+=u.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ir)&&(s&&this.protectLocalComposition(e,s),uy(this.contentDOM,this.children,e),no&&Vw(this.dom))}localCompositionInfo(e,t){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof re)||i<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=zw(this.node.content,s,i-t,r-t);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:i,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Mw(this,o,t,r);e.input.compositionNodes.push(s),this.children=Tc(this.children,i,i+r.length,e,s)}update(e,t,i,r){return this.dirty==Nn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,i,r),!0)}updateInner(e,t,i,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Gt}updateOuterDeco(e){if(Dc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=cy(this.dom,this.nodeDOM,Oc(this.outerDeco,this.node,t),Oc(e,this.node,t)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Ph(n,e,t,i,r){dy(i,e,n);let o=new Ni(void 0,n,e,t,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}class Hl extends Ni{constructor(e,t,i,r,o,s,a){super(e,t,i,r,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,i,r){return this.dirty==Nn||this.dirty!=Gt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Gt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Gt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,i){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,i){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new Hl(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Nn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class ly extends Qs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Gt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Fw extends Ni{constructor(e,t,i,r,o,s,a,l,u,c){super(e,t,i,r,o,s,a,u,c),this.spec=l}update(e,t,i,r){if(this.dirty==Nn)return!1;if(this.spec.update){let o=this.spec.update(e,t,i);return o&&this.updateInner(e,t,i,r),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,i,r){this.spec.setSelection?this.spec.setSelection(e,t,i):super.setSelection(e,t,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function uy(n,e,t){let i=n.firstChild,r=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=i;)i=Mh(i),r=!0;i=i.nextSibling}else r=!0,n.insertBefore(a,i);if(s instanceof kr){let l=i?i.previousSibling:n.lastChild;uy(s.contentDOM,s.children,t),i=l?l.nextSibling:n.firstChild}}for(;i;)i=Mh(i),r=!0;r&&t.trackWrites==n&&(t.trackWrites=null)}const ns=function(n){n&&(this.nodeName=n)};ns.prototype=Object.create(null);const rr=[new ns];function Oc(n,e,t){if(n.length==0)return rr;let i=t?rr[0]:new ns,r=[i];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&r.push(i=new ns(s.nodeName));for(let a in s){let l=s[a];l!=null&&(t&&r.length==1&&r.push(i=new ns(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return r}function cy(n,e,t,i){if(t==rr&&i==rr)return e;let r=e;for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&r!=n&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=rr[0]),r=l}Bw(r,a||rr[0],s)}return r}function Bw(n,e,t){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in t)&&n.removeAttribute(i);for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&n.setAttribute(i,t[i]);if(e.class!=t.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.add(r[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)n.style.removeProperty(r[1])}t.style&&(n.style.cssText+=t.style)}}function dy(n,e,t){return cy(n,n,rr,Oc(e,t,n.nodeType!=1))}function Dc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Mh(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Nw{constructor(e,t,i){this.lock=t,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Iw(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let i=e;i<t;i++)this.top.children[i].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,i){let r=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Gt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=kr.create(this.top,e[o],t,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,i,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,i))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,t,i)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,i,r,o){let s=this.top.children[r];return s.dirty==Nn&&s.dom==s.contentDOM&&(s.dirty=ir),s.update(e,t,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=t}}updateNextNode(e,t,i,r,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Ni){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Nn&&Dc(t,l.outerDeco));if(!f&&l.update(e,t,i,r))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,t,i,r,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ir,d.updateChildren(r,s+1),d.dirty=Gt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,i,r,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let a=Ni.create(this.top,t,i,r,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,i,r,o){let s=Ni.create(this.top,e,t,i,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new ay(this.top,e,t,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof kr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Hl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ct||mt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new ly(this.top,[],i,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Iw(n,e){let t=e,i=t.children.length,r=n.childCount,o=new Map,s=[];e:for(;r>0;){let a;for(;;)if(i){let u=t.children[i-1];if(u instanceof kr)t=u,i=u.children.length;else{a=u,i--;break}}else{if(t==e)break e;i=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(r-1))break;--r,o.set(a,r),s.push(a)}}return{index:r,matched:o,matches:s.reverse()}}function Rw(n,e){return n.type.side-e.type.side}function Lw(n,e,t,i){let r=e.locals(n),o=0;if(r.length==0){for(let u=0;u<n.childCount;u++){let c=n.child(u);i(c,r,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){let c,d;for(;s<r.length&&r[s].to==o;){let g=r[s++];g.widget&&(c?(d||(d=[c])).push(g):c=g)}if(c)if(d){d.sort(Rw);for(let g=0;g<d.length;g++)t(d[g],u,!!l)}else t(c,u,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(u<n.childCount)p=u,f=n.child(u++);else break;for(let g=0;g<a.length;g++)a[g].to<=o&&a.splice(g--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);let h=o+f.nodeSize;if(f.isText){let g=h;s<r.length&&r[s].from<g&&(g=r[s].from);for(let y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<h&&(l=f.cut(g-o),f=f.cut(0,g-o),h=g,p=-1)}else for(;s<r.length&&r[s].to<h;)s++;let m=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();i(f,m,e.forChild(o,f),p),o=h}}function Vw(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function zw(n,e,t,i){for(let r=0,o=0;r<n.childCount&&o<=i;){let s=n.child(r++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<n.childCount;){let u=n.child(r++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=t){if(o>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length;let u=a<i?l.lastIndexOf(e,i-a-1):-1;if(u>=0&&u+e.length+a>=t)return a+u;if(t==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function Tc(n,e,t,i,r){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],u=a,c=a+=l.size;u>=t||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,i)),r&&(o.push(r),r=void 0),c>t&&o.push(l.slice(t-u,l.size,i)))}return o}function $d(n,e=null){let t=n.domSelectionRange(),i=n.state.doc;if(!t.focusNode)return null;let r=n.docView.nearestDesc(t.focusNode),o=r&&r.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let a=i.resolve(s),l,u;if(ql(t)){for(l=a;r&&!r.node;)r=r.parent;let c=r.node;if(r&&c.isAtom&&ie.isSelectable(c)&&r.parent&&!(c.isInline&&hw(t.focusNode,t.focusOffset,r.dom))){let d=r.posBefore;u=new ie(s==d?a:i.resolve(d))}}else{let c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null;l=i.resolve(c)}if(!u){let c=e=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;u=qd(n,l,a,c)}return u}function fy(n){return n.editable?n.hasFocus():py(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ei(n,e=!1){let t=n.state.selection;if(hy(n,t),!!fy(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&mt){let i=n.domSelectionRange(),r=n.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&br(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)qw(n);else{let{anchor:i,head:r}=t,o,s;Fh&&!(t instanceof re)&&(t.$from.parent.inlineContent||(o=Bh(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=Bh(n,t.to))),n.docView.setSelection(i,r,n.root,e),Fh&&(o&&Nh(o),s&&Nh(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$w(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Fh=Ct||mt&&ey<63;function Bh(n,e){let{node:t,offset:i}=n.docView.domFromPos(e,0),r=i<t.childNodes.length?t.childNodes[i]:null,o=i?t.childNodes[i-1]:null;if(Ct&&r&&r.contentEditable=="false")return Au(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return Au(r);if(o)return Au(o)}}function Au(n){return n.contentEditable="true",Ct&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Nh(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function $w(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),i=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=i||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!fy(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function qw(n){let e=n.domSelection(),t=document.createRange(),i=n.cursorWrapper.dom,r=i.nodeName=="IMG";r?t.setEnd(i.parentNode,rt(i)+1):t.setEnd(i,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!r&&!n.state.selection.visible&&Pt&&Bi<=11&&(i.disabled=!0,i.disabled=!1)}function hy(n,e){if(e instanceof ie){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Ih(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Ih(n)}function Ih(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function qd(n,e,t,i){return n.someProp("createSelectionBetween",r=>r(n,e,t))||re.between(e,t,i)}function Rh(n){return n.editable&&!n.hasFocus()?!1:py(n)}function py(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Hw(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return br(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Pc(n,e){let{$anchor:t,$head:i}=n.selection,r=e>0?t.max(i):t.min(i),o=r.parent.inlineContent?r.depth?n.doc.resolve(e>0?r.after():r.before()):null:r;return o&&pe.findFrom(o,e)}function gi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Lh(n,e,t){let i=n.state.selection;if(i instanceof re)if(t.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(r.pos+o.nodeSize*(e<0?-1:1));return gi(n,new re(i.$anchor,s))}else if(i.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let r=Pc(n.state,e);return r&&r instanceof ie?gi(n,r):!1}else if(!(Kt&&t.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?ie.isSelectable(o)?gi(n,new ie(e<0?n.state.doc.resolve(r.pos-o.nodeSize):r)):Xs?gi(n,new re(n.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ie&&i.node.isInline)return gi(n,new re(e>0?i.$to:i.$from));{let r=Pc(n.state,e);return r?gi(n,r):!1}}}function gl(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function is(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Br(n,e){return e<0?Ww(n):Kw(n)}function Ww(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let r,o,s=!1;for(cn&&t.nodeType==1&&i<gl(t)&&is(t.childNodes[i],-1)&&(s=!0);;)if(i>0){if(t.nodeType!=1)break;{let a=t.childNodes[i-1];if(is(a,-1))r=t,o=--i;else if(a.nodeType==3)t=a,i=t.nodeValue.length;else break}}else{if(my(t))break;{let a=t.previousSibling;for(;a&&is(a,-1);)r=t.parentNode,o=rt(a),a=a.previousSibling;if(a)t=a,i=gl(t);else{if(t=t.parentNode,t==n.dom)break;i=0}}}s?Mc(n,t,i):r&&Mc(n,r,o)}function Kw(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let r=gl(t),o,s;for(;;)if(i<r){if(t.nodeType!=1)break;let a=t.childNodes[i];if(is(a,1))o=t,s=++i;else break}else{if(my(t))break;{let a=t.nextSibling;for(;a&&is(a,1);)o=a.parentNode,s=rt(a)+1,a=a.nextSibling;if(a)t=a,i=0,r=gl(t);else{if(t=t.parentNode,t==n.dom)break;i=r=0}}}o&&Mc(n,o,s)}function my(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Uw(n,e){for(;n&&e==n.childNodes.length&&!Zs(n);)e=rt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Jw(n,e){for(;n&&!e&&!Zs(n);)e=rt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Mc(n,e,t){if(e.nodeType!=3){let o,s;(s=Uw(e,t))?(e=s,t=0):(o=Jw(e,t))&&(e=o,t=o.nodeValue.length)}let i=n.domSelection();if(ql(i)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,t);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&ei(n)},50)}function Vh(n,e){let t=n.state.doc.resolve(e);if(!(mt||gw)&&t.parent.inlineContent){let r=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function zh(n,e,t){let i=n.state.selection;if(i instanceof re&&!i.empty||t.indexOf("s")>-1||Kt&&t.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=Pc(n.state,e);if(s&&s instanceof ie)return gi(n,s)}if(!r.parent.inlineContent){let s=e<0?r:o,a=i instanceof $t?pe.near(s,e):pe.findFrom(s,e);return a?gi(n,a):!1}return!1}function $h(n,e){if(!(n.state.selection instanceof re))return!0;let{$head:t,$anchor:i,empty:r}=n.state.selection;if(!t.sameParent(i))return!0;if(!r)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function qh(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Gw(n){if(!Ct||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;qh(n,i,"true"),setTimeout(()=>qh(n,i,"false"),20)}return!1}function Yw(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Zw(n,e){let t=e.keyCode,i=Yw(e);if(t==8||Kt&&t==72&&i=="c")return $h(n,-1)||Br(n,-1);if(t==46&&!e.shiftKey||Kt&&t==68&&i=="c")return $h(n,1)||Br(n,1);if(t==13||t==27)return!0;if(t==37||Kt&&t==66&&i=="c"){let r=t==37?Vh(n,n.state.selection.from)=="ltr"?-1:1:-1;return Lh(n,r,i)||Br(n,r)}else if(t==39||Kt&&t==70&&i=="c"){let r=t==39?Vh(n,n.state.selection.from)=="ltr"?1:-1:1;return Lh(n,r,i)||Br(n,r)}else{if(t==38||Kt&&t==80&&i=="c")return zh(n,-1,i)||Br(n,-1);if(t==40||Kt&&t==78&&i=="c")return Gw(n)||zh(n,1,i)||Br(n,1);if(i==(Kt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Hd(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:i,openStart:r,openEnd:o}=e;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let p=i.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),i=p.content}let s=n.someProp("clipboardSerializer")||_o.fromSchema(n.state.schema),a=wy(),l=a.createElement("div");l.appendChild(s.serializeFragment(i,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=vy[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=a.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${r} ${o}${d?` -${d}`:""} ${JSON.stringify(t)}`);let f=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function gy(n,e,t,i,r){let o=r.parent.type.spec.code,s,a;if(!t&&!e)return null;let l=e&&(i||o||!t);if(l){if(n.someProp("transformPastedText",f=>{e=f(e,o||i,n)}),o)return e?new K(R.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):K.empty;let d=n.someProp("clipboardTextParser",f=>f(e,r,i,n));if(d)a=d;else{let f=r.marks(),{schema:p}=n.state,h=_o.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=s.appendChild(document.createElement("p"));m&&g.appendChild(h.serializeNode(p.text(m,f)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),s=ex(t),Xs&&tx(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||gs.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Xw.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=nx(Hh(a,+c[1],+c[2]),c[4]);else if(a=K.maxOpen(Qw(a.content,r),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=Hh(a,d,f)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const Xw=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Qw(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=r.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&by(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=ky(s[s.length-1],o.length));let c=yy(a,l);s.push(c),r=r.matchType(c.type),o=l}}),s)return R.from(s)}return n}function yy(n,e,t=0){for(let i=e.length-1;i>=t;i--)n=e[i].create(null,R.from(n));return n}function by(n,e,t,i,r){if(r<n.length&&r<e.length&&n[r]==e[r]){let o=by(n,e,t,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==n.length-1?t.type:n[r+1]))return i.copy(i.content.append(R.from(yy(t,n,r+1))))}}function ky(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,ky(n.lastChild,e-1)),i=n.contentMatchAt(n.childCount).fillBefore(R.empty,!0);return n.copy(t.append(i))}function Fc(n,e,t,i,r,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),r<i-1&&(a=Fc(a,e,t,i,r+1,o)),r>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(R.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function Hh(n,e,t){return e<n.openStart&&(n=new K(Fc(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new K(Fc(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const vy={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Wh=null;function wy(){return Wh||(Wh=document.implementation.createHTMLDocument("title"))}function ex(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=wy().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),r;if((r=i&&vy[i[1].toLowerCase()])&&(n=r.map(o=>"<"+o+">").join("")+n+r.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=n,r)for(let o=0;o<r.length;o++)t=t.querySelector(r[o])||t;return t}function tx(n){let e=n.querySelectorAll(mt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let i=e[t];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function nx(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return n}let{content:r,openStart:o,openEnd:s}=n;for(let a=i.length-2;a>=0;a-=2){let l=t.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;r=R.from(l.create(i[a+1],r)),o++,s++}return new K(r,o,s)}const At={},Et={},ix={touchstart:!0,touchmove:!0};let rx=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function ox(n){for(let e in At){let t=At[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>{ax(n,i)&&!Wd(n,i)&&(n.editable||!(i.type in Et))&&t(n,i)},ix[e]?{passive:!0}:void 0)}Ct&&n.dom.addEventListener("input",()=>null),Bc(n)}function Ei(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function sx(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Bc(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>Wd(n,i))})}function Wd(n,e){return n.someProp("handleDOMEvents",t=>{let i=t[e.type];return i?i(n,e)||e.defaultPrevented:!1})}function ax(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function lx(n,e){!Wd(n,e)&&At[e.type]&&(n.editable||!(e.type in Et))&&At[e.type](n,e)}Et.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!_y(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ln&&mt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),no&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",r=>r(n,Qi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,t))||Zw(n,t)?t.preventDefault():Ei(n,"key")};Et.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Et.keypress=(n,e)=>{let t=e;if(_y(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Kt&&t.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,t))){t.preventDefault();return}let i=n.state.selection;if(!(i instanceof re)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(t.charCode);!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",o=>o(n,i.$from.pos,i.$to.pos,r))&&n.dispatch(n.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}};function Wl(n){return{left:n.clientX,top:n.clientY}}function ux(n,e){let t=e.x-n.clientX,i=e.y-n.clientY;return t*t+i*i<100}function Kd(n,e,t,i,r){if(i==-1)return!1;let o=n.state.doc.resolve(i);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),r,!0):a(n,t,o.node(s),o.before(s),r,!1)))return!0;return!1}function Ur(n,e,t){n.focused||n.focus();let i=n.state.tr.setSelection(e);i.setMeta("pointer",!0),n.dispatch(i)}function cx(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),i=t.nodeAfter;return i&&i.isAtom&&ie.isSelectable(i)?(Ur(n,new ie(t)),!0):!1}function dx(n,e){if(e==-1)return!1;let t=n.state.selection,i,r;t instanceof ie&&(i=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(ie.isSelectable(a)){i&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?r=o.before(t.$from.depth):r=o.before(s);break}}return r!=null?(Ur(n,ie.create(n.state.doc,r)),!0):!1}function fx(n,e,t,i,r){return Kd(n,"handleClickOn",e,t,i)||n.someProp("handleClick",o=>o(n,e,i))||(r?dx(n,t):cx(n,t))}function hx(n,e,t,i){return Kd(n,"handleDoubleClickOn",e,t,i)||n.someProp("handleDoubleClick",r=>r(n,e,i))}function px(n,e,t,i){return Kd(n,"handleTripleClickOn",e,t,i)||n.someProp("handleTripleClick",r=>r(n,e,i))||mx(n,t,i)}function mx(n,e,t){if(t.button!=0)return!1;let i=n.state.doc;if(e==-1)return i.inlineContent?(Ur(n,re.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)Ur(n,re.create(i,a+1,a+1+s.content.size));else if(ie.isSelectable(s))Ur(n,ie.create(i,a));else continue;return!0}}function Ud(n){return yl(n)}const xy=Kt?"metaKey":"ctrlKey";At.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let i=Ud(n),r=Date.now(),o="singleClick";r-n.input.lastClick.time<500&&ux(t,n.input.lastClick)&&!t[xy]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(Wl(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new gx(n,s,t,!!i)):(o=="doubleClick"?hx:px)(n,s.pos,s.inside,t)?t.preventDefault():Ei(n,"pointer"))};class gx{constructor(e,t,i,r){this.view=e,this.pos=t,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[xy],this.allowDefault=i.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let c=e.state.doc.resolve(t.pos);o=c.parent,s=c.depth?c.before():0}const a=r?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof ie&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&cn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ei(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ei(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Wl(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ei(this.view,"pointer"):fx(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ct&&this.mightDrag&&!this.mightDrag.node.isAtom||mt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ur(this.view,pe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ei(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ei(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}At.touchstart=n=>{n.input.lastTouch=Date.now(),Ud(n),Ei(n,"pointer")};At.touchmove=n=>{n.input.lastTouch=Date.now(),Ei(n,"pointer")};At.contextmenu=n=>Ud(n);function _y(n,e){return n.composing?!0:Ct&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const yx=ln?5e3:-1;Et.compositionstart=Et.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),yl(n,!0),n.markCursor=null;else if(yl(n),cn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let i=n.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){n.domSelection().collapse(s,s.nodeValue.length);break}else r=s,o=-1}}n.input.composing=!0}Sy(n,yx)};Et.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Sy(n,20))};function Sy(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>yl(n),e))}function jy(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=kx());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function bx(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=dw(e.focusNode,e.focusOffset),i=fw(e.focusNode,e.focusOffset);if(t&&i&&t!=i){let r=i.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return i}}return t||i}function kx(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function yl(n,e=!1){if(!(ln&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),jy(n),e||n.docView&&n.docView.dirty){let t=$d(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}function vx(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),n.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const ks=Pt&&Bi<15||no&&yw<604;At.copy=Et.cut=(n,e)=>{let t=e,i=n.state.selection,r=t.type=="cut";if(i.empty)return;let o=ks?null:t.clipboardData,s=i.content(),{dom:a,text:l}=Hd(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):vx(n,a),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function wx(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function xx(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),t?vs(n,i.value,null,r,e):vs(n,i.textContent,i.innerHTML,r,e)},50)}function vs(n,e,t,i,r){let o=gy(n,e,t,i,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,r,o||K.empty)))return!0;if(!o)return!1;let s=wx(o),a=s?n.state.tr.replaceSelectionWith(s,i):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Cy(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Et.paste=(n,e)=>{let t=e;if(n.composing&&!ln)return;let i=ks?null:t.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&vs(n,Cy(i),i.getData("text/html"),r,t)?t.preventDefault():xx(n,t)};class Ay{constructor(e,t,i){this.slice=e,this.move=t,this.node=i}}const Ey=Kt?"altKey":"ctrlKey";At.dragstart=(n,e)=>{let t=e,i=n.input.mouseDown;if(i&&i.done(),!t.dataTransfer)return;let r=n.state.selection,o=r.empty?null:n.posAtCoords(Wl(t)),s;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof ie?r.to-1:r.to))){if(i&&i.mightDrag)s=ie.create(n.state.doc,i.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(s=ie.create(n.state.doc,d.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:u,slice:c}=Hd(n,a);(!t.dataTransfer.files.length||!mt||ey>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(ks?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",ks||t.dataTransfer.setData("text/plain",u),n.dragging=new Ay(c,!t[Ey],s)};At.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Et.dragover=Et.dragenter=(n,e)=>e.preventDefault();Et.drop=(n,e)=>{let t=e,i=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let r=n.posAtCoords(Wl(t));if(!r)return;let o=n.state.doc.resolve(r.pos),s=i&&i.slice;s?n.someProp("transformPasted",h=>{s=h(s,n)}):s=gy(n,Cy(t.dataTransfer),ks?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(i&&!t[Ey]);if(n.someProp("handleDrop",h=>h(n,t,s||K.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?K0(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=n.state.tr;if(a){let{node:h}=i;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&ie.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new ie(p));else{let h=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,g,y,k)=>h=k),u.setSelection(qd(n,p,u.doc.resolve(h)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};At.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ei(n)},20))};At.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};At.beforeinput=(n,e)=>{if(mt&&ln&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Qi(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in Et)At[n]=Et[n];function ws(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}let Kh=class Oy{constructor(e,t){this.toDOM=e,this.spec=t||fr,this.side=this.spec.side||0}map(e,t,i,r){let{pos:o,deleted:s}=e.mapResult(t.from+r,this.side<0?-1:1);return s?null:new Wi(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Oy&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ws(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}};class Ii{constructor(e,t){this.attrs=e,this.spec=t||fr}map(e,t,i,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-i,s=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=s?null:new Wi(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ii&&ws(this.attrs,e.attrs)&&ws(this.spec,e.spec)}static is(e){return e.type instanceof Ii}destroy(){}}let _x=class Dy{constructor(e,t){this.attrs=e,this.spec=t||fr}map(e,t,i,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let s=e.mapResult(t.to+r,-1);return s.deleted||s.pos<=o.pos?null:new Wi(o.pos-i,s.pos-i,this)}valid(e,t){let{index:i,offset:r}=e.content.findIndex(t.from),o;return r==t.from&&!(o=e.child(i)).isText&&r+o.nodeSize==t.to}eq(e){return this==e||e instanceof Dy&&ws(this.attrs,e.attrs)&&ws(this.spec,e.spec)}destroy(){}},Wi=class Jo{constructor(e,t,i){this.from=e,this.to=t,this.type=i}copy(e,t){return new Jo(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,i){return this.type.map(e,this,t,i)}static widget(e,t,i){return new Jo(e,e,new Kh(t,i))}static inline(e,t,i,r){return new Jo(e,t,new Ii(i,r))}static node(e,t,i,r){return new Jo(e,t,new _x(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ii}get widget(){return this.type instanceof Kh}};const Vr=[],fr={};class Me{constructor(e,t){this.local=e.length?e:Vr,this.children=t.length?t:Vr}static create(e,t){return t.length?bl(t,e,0,fr):ut}find(e,t,i){let r=[];return this.findInner(e??0,t??1e9,r,0,i),r}findInner(e,t,i,r,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&i.push(a.copy(a.from+r,a.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,i,r+a,o)}}map(e,t,i){return this==ut||e.maps.length==0?this:this.mapInner(e,t,0,0,i||fr)}mapInner(e,t,i,r,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,r);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Sx(this.children,s||[],e,t,i,r,o):s?new Me(s.sort(hr),Vr):ut}add(e,t){return t.length?this==ut?Me.create(e,t):this.addInner(e,t,0):this}addInner(e,t,i){let r,o=0;e.forEach((a,l)=>{let u=l+i,c;if(c=Py(t,a,u)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(a,c,u+1):r.splice(o,0,l,l+a.nodeSize,bl(c,a,u+1,fr)),o+=3}});let s=Ty(o?My(t):t,-i);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Me(s.length?this.local.concat(s).sort(hr):this.local,r||this.children)}remove(e){return e.length==0||this==ut?this:this.removeInner(e,0)}removeInner(e,t){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let s,a=i[o]+t,l=i[o+1]+t;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>a&&d.to<l&&(e[c]=null,(s||(s=[])).push(d));if(!s)continue;i==this.children&&(i=this.children.slice());let u=i[o+2].removeInner(s,a+1);u!=ut?i[o+2]=u:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<r.length;a++)r[a].eq(s,t)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Me(r,i):ut}forChild(e,t){if(this==ut)return this;if(t.isLeaf)return Me.empty;let i,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Ii){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(r||(r=[])).push(l.copy(u,c))}}if(r){let a=new Me(r.sort(hr),Vr);return i?new xi([a,i]):a}return i||ut}eq(e){if(this==e)return!0;if(!(e instanceof Me)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Jd(this.localsInner(e))}localsInner(e){if(this==ut)return Vr;if(e.inlineContent||!this.local.some(Ii.is))return this.local;let t=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ii||t.push(this.local[i]);return t}}Me.empty=new Me([],[]);Me.removeOverlap=Jd;const ut=Me.empty;class xi{constructor(e){this.members=e}map(e,t){const i=this.members.map(r=>r.map(e,t,fr));return xi.from(i)}forChild(e,t){if(t.isLeaf)return Me.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=ut&&(o instanceof xi?i=i.concat(o.members):i.push(o))}return xi.from(i)}eq(e){if(!(e instanceof xi)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(!t)t=o;else{i&&(t=t.slice(),i=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?Jd(i?t:t.sort(hr)):Vr}static from(e){switch(e.length){case 0:return ut;case 1:return e[0];default:return new xi(e.every(t=>t instanceof Me)?e:e.reduce((t,i)=>t.concat(i instanceof Me?i:i.members),[]))}}}function Sx(n,e,t,i,r,o,s){let a=n.slice();for(let u=0,c=o;u<t.maps.length;u++){let d=0;t.maps[u].forEach((f,p,h,m)=>{let g=m-h-(p-f);for(let y=0;y<a.length;y+=3){let k=a[y+1];if(k<0||f>k+c-d)continue;let x=a[y]+c-d;p>=x?a[y+1]=f<=x?-2:-1:f>=c&&g&&(a[y]+=g,a[y+1]+=g)}d+=g}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=t.map(n[u]+o),d=c-r;if(d<0||d>=i.content.size){l=!0;continue}let f=t.map(n[u+1]+o,-1),p=f-r,{index:h,offset:m}=i.content.findIndex(d),g=i.maybeChild(h);if(g&&m==d&&m+g.nodeSize==p){let y=a[u+2].mapInner(t,g,c+1,n[u]+o+1,s);y!=ut?(a[u]=d,a[u+1]=p,a[u+2]=y):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=jx(a,n,e,t,r,o,s),c=bl(u,i,0,s);e=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Me(e.sort(hr),a)}function Ty(n,e){if(!e||!n.length)return n;let t=[];for(let i=0;i<n.length;i++){let r=n[i];t.push(new Wi(r.from+e,r.to+e,r.type))}return t}function jx(n,e,t,i,r,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(i,r,u);d?t.push(d):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+o+1);return t}function Py(n,e,t){if(e.isLeaf)return null;let i=t+e.nodeSize,r=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<i&&((r||(r=[])).push(s),n[o]=null);return r}function My(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function bl(n,e,t,i){let r=[],o=!1;e.forEach((a,l)=>{let u=Py(n,a,l+t);if(u){o=!0;let c=bl(u,a,t+l+1,i);c!=ut&&r.push(l,l+a.nodeSize,c)}});let s=Ty(o?My(n):n,-t).sort(hr);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Me(s,r):ut}function hr(n,e){return n.from-e.from||n.to-e.to}function Jd(n){let e=n;for(let t=0;t<e.length-1;t++){let i=e[t];if(i.from!=i.to)for(let r=t+1;r<e.length;r++){let o=e[r];if(o.from==i.from){o.to!=i.to&&(e==n&&(e=n.slice()),e[r]=o.copy(o.from,i.to),Uh(e,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==n&&(e=n.slice()),e[t]=i.copy(i.from,o.from),Uh(e,r,i.copy(o.from,i.to)));break}}}return e}function Uh(n,e,t){for(;e<n.length&&hr(t,n[e])>0;)e++;n.splice(e,0,t)}function Eu(n){let e=[];return n.someProp("decorations",t=>{let i=t(n.state);i&&i!=ut&&e.push(i)}),n.cursorWrapper&&e.push(Me.create(n.state.doc,[n.cursorWrapper.deco])),xi.from(e)}const Cx={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ax=Pt&&Bi<=11;class Ex{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}let Ox=class{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ex,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Pt&&Bi<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Ax&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Cx)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Rh(this.view)){if(this.suppressingSelectionUpdates)return ei(this.view);if(Pt&&Bi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&br(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,i;for(let o=e.focusNode;o;o=bs(o))t.add(o);for(let o=e.anchorNode;o;o=bs(o))if(t.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Rh(e)&&!this.ignoreSelectionChange(i),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let d=this.registerMutation(t[c],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(cn&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||Px(e,d)!=p)&&f.remove()}}}let u=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ql(i)&&(u=$d(e))&&u.eq(pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ei(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,s),Dx(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||ei(e),this.currentSelection.set(i))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Pt&&Bi<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=r&&r.parentNode==e.target?rt(r)+1:0,a=i.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?rt(o):e.target.childNodes.length,u=i.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},Jh=new WeakMap,Gh=!1;function Dx(n){if(!Jh.has(n)&&(Jh.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=cn,Gh)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Gh=!0}}function Yh(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return br(s.node,s.offset,r,o)&&([t,i,r,o]=[r,o,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}}function Tx(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return Yh(n,r)}let t;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),t?Yh(n,t):null}function Px(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let i=n.docView.nearestDesc(t,!0);if(i&&i.node.isBlock)return t}return null}function Mx(n,e,t){let{node:i,fromOffset:r,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),u,c=l.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],ql(l)||u.push({node:l.focusNode,offset:l.focusOffset})),mt&&n.input.lastKeyCode===8)for(let g=o;g>r;g--){let y=i.childNodes[g-1],k=y.pmViewDesc;if(y.nodeName=="BR"&&!k){o=g;break}if(!k||k.size)break}let d=n.state.doc,f=n.someProp("domParser")||gs.fromSchema(n.state.schema),p=d.resolve(s),h=null,m=f.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Fx,context:p});if(u&&u[0].pos!=null){let g=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=g),h={anchor:g+s,head:y+s}}return{doc:m,sel:h,from:s,to:a}}function Fx(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Ct&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Ct&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Bx=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Nx(n,e,t,i,r){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let O=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,L=$d(n,O);if(L&&!n.state.selection.eq(L)){if(mt&&ln&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",I=>I(n,Qi(13,"Enter"))))return;let F=n.state.tr.setSelection(L);O=="pointer"?F.setMeta("pointer",!0):O=="key"&&F.scrollIntoView(),o&&F.setMeta("composition",o),n.dispatch(F)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,u=Mx(n,e,t),c=n.state.doc,d=c.slice(u.from,u.to),f,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,p="end"):(f=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let h=Lx(d.content,u.doc.content,u.from,f,p);if((no&&n.input.lastIOSEnter>Date.now()-225||ln)&&r.some(O=>O.nodeType==1&&!Bx.test(O.nodeName))&&(!h||h.endA>=h.endB)&&n.someProp("handleKeyDown",O=>O(n,Qi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!h)if(i&&l instanceof re&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let O=Zh(n,n.state.doc,u.sel);if(O&&!O.eq(n.state.selection)){let L=n.state.tr.setSelection(O);o&&L.setMeta("composition",o),n.dispatch(L)}}return}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&h.start==h.endB&&n.state.selection instanceof re&&(h.start>n.state.selection.from&&h.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?h.start=n.state.selection.from:h.endA<n.state.selection.to&&h.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(h.endB+=n.state.selection.to-h.endA,h.endA=n.state.selection.to)),Pt&&Bi<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=u.doc.resolveNoCache(h.start-u.from),g=u.doc.resolveNoCache(h.endB-u.from),y=c.resolve(h.start),k=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=h.endA,x;if((no&&n.input.lastIOSEnter>Date.now()-225&&(!k||r.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!k&&m.pos<u.doc.content.size&&!m.sameParent(g)&&(x=pe.findFrom(u.doc.resolve(m.pos+1),1,!0))&&x.head==g.pos)&&n.someProp("handleKeyDown",O=>O(n,Qi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>h.start&&Rx(c,h.start,h.endA,m,g)&&n.someProp("handleKeyDown",O=>O(n,Qi(8,"Backspace")))){ln&&mt&&n.domObserver.suppressSelectionUpdates();return}mt&&ln&&h.endB==h.start&&(n.input.lastAndroidDelete=Date.now()),ln&&!k&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,g=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(O){return O(n,Qi(13,"Enter"))})},20));let v=h.start,w=h.endA,_,S,B;if(k){if(m.pos==g.pos)Pt&&Bi<=11&&m.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ei(n),20)),_=n.state.tr.delete(v,w),S=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(B=Ix(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))_=n.state.tr,B.type=="add"?_.addMark(v,w,B.mark):_.removeMark(v,w,B.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let O=m.parent.textBetween(m.parentOffset,g.parentOffset);if(n.someProp("handleTextInput",L=>L(n,v,w,O)))return;_=n.state.tr.insertText(O,v,w)}}if(_||(_=n.state.tr.replace(v,w,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let O=Zh(n,_.doc,u.sel);O&&!(mt&&ln&&n.composing&&O.empty&&(h.start!=h.endB||n.input.lastAndroidDelete<Date.now()-100)&&(O.head==v||O.head==_.mapping.map(w)-1)||Pt&&O.empty&&O.head==v)&&_.setSelection(O)}S&&_.ensureMarks(S),o&&_.setMeta("composition",o),n.dispatch(_.scrollIntoView())}function Zh(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:qd(n,e.resolve(t.anchor),e.resolve(t.head))}function Ix(n,e){let t=n.firstChild.marks,i=e.firstChild.marks,r=t,o=i,s,a,l;for(let c=0;c<i.length;c++)r=i[c].removeFromSet(r);for(let c=0;c<t.length;c++)o=t[c].removeFromSet(o);if(r.length==1&&o.length==0)a=r[0],s="add",l=c=>c.mark(a.addToSet(c.marks));else if(r.length==0&&o.length==1)a=o[0],s="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(R.from(u).eq(n))return{mark:a,type:s}}function Rx(n,e,t,i,r){if(t-e<=r.pos-i.pos||Ou(i,!0,!1)<r.pos)return!1;let o=n.resolve(e);if(!i.parent.isTextblock){let a=o.nodeAfter;return a!=null&&t==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(Ou(o,!0,!0));return!s.parent.isTextblock||s.pos>t||Ou(s,!0,!1)<t?!1:i.parent.content.cut(i.parentOffset).eq(s.parent.content)}function Ou(n,e,t){let i=n.depth,r=e?n.end():n.pos;for(;i>0&&(e||n.indexAfter(i)==n.node(i).childCount);)i--,r++,e=!1;if(t){let o=n.node(i).maybeChild(n.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function Lx(n,e,t,i,r){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(r=="end"){let l=Math.max(0,o-Math.min(s,a));i-=s+l-o}if(s<o&&n.size<e.size){let l=i<=o&&i>=s?o-i:0;o-=l,o&&o<e.size&&Xh(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=i<=o&&i>=a?o-i:0;o-=l,o&&o<n.size&&Xh(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function Xh(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}const Vx=Hd;let zx=class{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(ip),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=tp(this),ep(this),this.nodeViews=np(this),this.docView=Ph(this.state.doc,Qh(this),Eu(this),this.dom,this),this.domObserver=new Ox(this,(i,r,o,s)=>Nx(this,i,r,o,s)),this.domObserver.start(),ox(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Bc(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ip),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let i in this._props)t[i]=this._props[i];t.state=this.state;for(let i in e)t[i]=e[i];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var i;let r=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(jy(this),s=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=np(this);qx(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Bc(this),this.editable=tp(this),ep(this);let l=Eu(this),u=Qh(this),c=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(r.selection))&&(s=!0);let f=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&vw(this);if(s){this.domObserver.stop();let p=d&&(Pt||mt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&$x(r.selection,e.selection);if(d){let h=mt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=bx(this)),(o||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Ph(e.doc,u,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Hw(this))?ei(this,p):(hy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&ww(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ie){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Ch(this,t.getBoundingClientRect(),e)}else Ch(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let i=this.directPlugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let i=this.state.plugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let i=this.pluginViews[t];i.update&&i.update(this,e)}}updateDraggedNode(e,t){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new Ay(e.slice,e.move,r<0?void 0:ie.create(this.state.doc,r))}someProp(e,t){let i=this._props&&this._props[e],r;if(i!=null&&(r=t?t(i):i))return r;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(r=t?t(a):a))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(r=t?t(a):a))return r}}hasFocus(){if(Pt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xw(this.dom),ei(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Aw(this,e)}coordsAtPos(e,t=1){return oy(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,i=-1){let r=this.docView.posFromDOM(e,t,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return Pw(this,t||this.state,e)}pasteHTML(e,t){return vs(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return vs(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(sx(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Eu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,uw())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return lx(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return Ct&&this.root.nodeType===11&&pw(this.dom.ownerDocument)==this.dom&&Tx(this,e)||e}domSelection(){return this.root.getSelection()}};function Qh(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let i in t)i=="class"?e.class+=" "+t[i]:i=="style"?e.style=(e.style?e.style+";":"")+t[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(t[i]))}),e.translate||(e.translate="no"),[Wi.node(0,n.state.doc.content.size,e)]}function ep(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Wi.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function tp(n){return!n.someProp("editable",e=>e(n.state)===!1)}function $x(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function np(n){let e=Object.create(null);function t(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function qx(n,e){let t=0,i=0;for(let r in n){if(n[r]!=e[r])return!0;t++}for(let r in e)i++;return t!=i}function ip(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const rp={};function Hx(n){let e=rp[n];if(e)return e;e=rp[n]=[];for(let t=0;t<128;t++){const i=String.fromCharCode(t);e.push(i)}for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function io(n,e){typeof e!="string"&&(e=io.defaultChars);const t=Hx(e);return n.replace(/(%[a-f0-9]{2})+/gi,function(i){let r="";for(let o=0,s=i.length;o<s;o+=3){const a=parseInt(i.slice(o+1,o+3),16);if(a<128){r+=t[a];continue}if((a&224)===192&&o+3<s){const l=parseInt(i.slice(o+4,o+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?r+="":r+=String.fromCharCode(u),o+=3;continue}}if((a&240)===224&&o+6<s){const l=parseInt(i.slice(o+4,o+6),16),u=parseInt(i.slice(o+7,o+9),16);if((l&192)===128&&(u&192)===128){const c=a<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?r+="":r+=String.fromCharCode(c),o+=6;continue}}if((a&248)===240&&o+9<s){const l=parseInt(i.slice(o+4,o+6),16),u=parseInt(i.slice(o+7,o+9),16),c=parseInt(i.slice(o+10,o+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let d=a<<18&1835008|l<<12&258048|u<<6&4032|c&63;d<65536||d>1114111?r+="":(d-=65536,r+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),o+=9;continue}}r+=""}return r})}io.defaultChars=";/?:@&=+$,#";io.componentChars="";const op={};function Wx(n){let e=op[n];if(e)return e;e=op[n]=[];for(let t=0;t<128;t++){const i=String.fromCharCode(t);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<n.length;t++)e[n.charCodeAt(t)]=n[t];return e}function ea(n,e,t){typeof e!="string"&&(t=e,e=ea.defaultChars),typeof t>"u"&&(t=!0);const i=Wx(e);let r="";for(let o=0,s=n.length;o<s;o++){const a=n.charCodeAt(o);if(t&&a===37&&o+2<s&&/^[0-9a-f]{2}$/i.test(n.slice(o+1,o+3))){r+=n.slice(o,o+3),o+=2;continue}if(a<128){r+=i[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s){const l=n.charCodeAt(o+1);if(l>=56320&&l<=57343){r+=encodeURIComponent(n[o]+n[o+1]),o++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(n[o])}return r}ea.defaultChars=";/?:@&=+$,-_.!~*'()#";ea.componentChars="-_.!~*'()";function Gd(n){let e="";return e+=n.protocol||"",e+=n.slashes?"//":"",e+=n.auth?n.auth+"@":"",n.hostname&&n.hostname.indexOf(":")!==-1?e+="["+n.hostname+"]":e+=n.hostname||"",e+=n.port?":"+n.port:"",e+=n.pathname||"",e+=n.search||"",e+=n.hash||"",e}function kl(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Kx=/^([a-z0-9.+-]+:)/i,Ux=/:[0-9]*$/,Jx=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Gx=["<",">",'"',"`"," ","\r",`
`,"	"],Yx=["{","}","|","\\","^","`"].concat(Gx),Zx=["'"].concat(Yx),sp=["%","/","?",";","#"].concat(Zx),ap=["/","?","#"],Xx=255,lp=/^[+a-z0-9A-Z_-]{0,63}$/,Qx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,up={javascript:!0,"javascript:":!0},cp={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Yd(n,e){if(n&&n instanceof kl)return n;const t=new kl;return t.parse(n,e),t}kl.prototype.parse=function(n,e){let t,i,r,o=n;if(o=o.trim(),!e&&n.split("#").length===1){const u=Jx.exec(o);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let s=Kx.exec(o);if(s&&(s=s[0],t=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(e||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=o.substr(0,2)==="//",r&&!(s&&up[s])&&(o=o.substr(2),this.slashes=!0)),!up[s]&&(r||s&&!cp[s])){let u=-1;for(let h=0;h<ap.length;h++)i=o.indexOf(ap[h]),i!==-1&&(u===-1||i<u)&&(u=i);let c,d;u===-1?d=o.lastIndexOf("@"):d=o.lastIndexOf("@",u),d!==-1&&(c=o.slice(0,d),o=o.slice(d+1),this.auth=c),u=-1;for(let h=0;h<sp.length;h++)i=o.indexOf(sp[h]),i!==-1&&(u===-1||i<u)&&(u=i);u===-1&&(u=o.length),o[u-1]===":"&&u--;const f=o.slice(0,u);o=o.slice(u),this.parseHost(f),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const h=this.hostname.split(/\./);for(let m=0,g=h.length;m<g;m++){const y=h[m];if(y&&!y.match(lp)){let k="";for(let x=0,v=y.length;x<v;x++)y.charCodeAt(x)>127?k+="x":k+=y[x];if(!k.match(lp)){const x=h.slice(0,m),v=h.slice(m+1),w=y.match(Qx);w&&(x.push(w[1]),v.unshift(w[2])),v.length&&(o=v.join(".")+o),this.hostname=x.join(".");break}}}}this.hostname.length>Xx&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");a!==-1&&(this.hash=o.substr(a),o=o.slice(0,a));const l=o.indexOf("?");return l!==-1&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),cp[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};kl.prototype.parseHost=function(n){let e=Ux.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};const e_=Object.freeze(Object.defineProperty({__proto__:null,decode:io,encode:ea,format:Gd,parse:Yd},Symbol.toStringTag,{value:"Module"})),Fy=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,By=/[\0-\x1F\x7F-\x9F]/,t_=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Zd=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Ny=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Iy=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,n_=Object.freeze(Object.defineProperty({__proto__:null,Any:Fy,Cc:By,Cf:t_,P:Zd,S:Ny,Z:Iy},Symbol.toStringTag,{value:"Module"})),i_=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0))),r_=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)));var Du;const o_=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),s_=(Du=String.fromCodePoint)!==null&&Du!==void 0?Du:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function a_(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=o_.get(n))!==null&&e!==void 0?e:n}var Ze;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(Ze||(Ze={}));const l_=32;var Oi;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(Oi||(Oi={}));function Nc(n){return n>=Ze.ZERO&&n<=Ze.NINE}function u_(n){return n>=Ze.UPPER_A&&n<=Ze.UPPER_F||n>=Ze.LOWER_A&&n<=Ze.LOWER_F}function c_(n){return n>=Ze.UPPER_A&&n<=Ze.UPPER_Z||n>=Ze.LOWER_A&&n<=Ze.LOWER_Z||Nc(n)}function d_(n){return n===Ze.EQUALS||c_(n)}var Je;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(Je||(Je={}));var _i;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(_i||(_i={}));class f_{constructor(e,t,i){this.decodeTree=e,this.emitCodePoint=t,this.errors=i,this.state=Je.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=_i.Strict}startEntity(e){this.decodeMode=e,this.state=Je.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Je.EntityStart:return e.charCodeAt(t)===Ze.NUM?(this.state=Je.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Je.NamedEntity,this.stateNamedEntity(e,t));case Je.NumericStart:return this.stateNumericStart(e,t);case Je.NumericDecimal:return this.stateNumericDecimal(e,t);case Je.NumericHex:return this.stateNumericHex(e,t);case Je.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|l_)===Ze.LOWER_X?(this.state=Je.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Je.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,i,r){if(t!==i){const o=i-t;this.result=this.result*Math.pow(r,o)+parseInt(e.substr(t,o),r),this.consumed+=o}}stateNumericHex(e,t){const i=t;for(;t<e.length;){const r=e.charCodeAt(t);if(Nc(r)||u_(r))t+=1;else return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(e,i,t,16),-1}stateNumericDecimal(e,t){const i=t;for(;t<e.length;){const r=e.charCodeAt(t);if(Nc(r))t+=1;else return this.addToNumericResult(e,i,t,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(e,i,t,10),-1}emitNumericEntity(e,t){var i;if(this.consumed<=t)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Ze.SEMI)this.consumed+=1;else if(this.decodeMode===_i.Strict)return 0;return this.emitCodePoint(a_(this.result),this.consumed),this.errors&&(e!==Ze.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:i}=this;let r=i[this.treeIndex],o=(r&Oi.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const s=e.charCodeAt(t);if(this.treeIndex=h_(i,r,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===_i.Attribute&&(o===0||d_(s))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],o=(r&Oi.VALUE_LENGTH)>>14,o!==0){if(s===Ze.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==_i.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:i}=this,r=(i[t]&Oi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,i){const{decodeTree:r}=this;return this.emitCodePoint(t===1?r[e]&~Oi.VALUE_LENGTH:r[e+1],i),t===3&&this.emitCodePoint(r[e+2],i),i}end(){var e;switch(this.state){case Je.NamedEntity:return this.result!==0&&(this.decodeMode!==_i.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Je.NumericDecimal:return this.emitNumericEntity(0,2);case Je.NumericHex:return this.emitNumericEntity(0,3);case Je.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Je.EntityStart:return 0}}}function Ry(n){let e="";const t=new f_(n,i=>e+=s_(i));return function(r,o){let s=0,a=0;for(;(a=r.indexOf("&",a))>=0;){e+=r.slice(s,a),t.startEntity(o);const u=t.write(r,a+1);if(u<0){s=a+t.end();break}s=a+u,a=u===0?s+1:s}const l=e+r.slice(s);return e="",l}}function h_(n,e,t,i){const r=(e&Oi.BRANCH_LENGTH)>>7,o=e&Oi.JUMP_TABLE;if(r===0)return o!==0&&i===o?t:-1;if(o){const l=i-o;return l<0||l>=r?-1:n[t+l]-1}let s=t,a=s+r-1;for(;s<=a;){const l=s+a>>>1,u=n[l];if(u<i)s=l+1;else if(u>i)a=l-1;else return n[l+r]}return-1}const p_=Ry(i_);Ry(r_);function Ly(n,e=_i.Legacy){return p_(n,e)}function m_(n){return Object.prototype.toString.call(n)}function Xd(n){return m_(n)==="[object String]"}const g_=Object.prototype.hasOwnProperty;function y_(n,e){return g_.call(n,e)}function Kl(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(i){n[i]=t[i]})}}),n}function Vy(n,e,t){return[].concat(n.slice(0,e),t,n.slice(e+1))}function Qd(n){return!(n>=55296&&n<=57343||n>=64976&&n<=65007||(n&65535)===65535||(n&65535)===65534||n>=0&&n<=8||n===11||n>=14&&n<=31||n>=127&&n<=159||n>1114111)}function vl(n){if(n>65535){n-=65536;const e=55296+(n>>10),t=56320+(n&1023);return String.fromCharCode(e,t)}return String.fromCharCode(n)}const zy=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,b_=/&([a-z#][a-z0-9]{1,31});/gi,k_=new RegExp(zy.source+"|"+b_.source,"gi"),v_=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function w_(n,e){if(e.charCodeAt(0)===35&&v_.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Qd(i)?vl(i):n}const t=Ly(n);return t!==n?t:n}function x_(n){return n.indexOf("\\")<0?n:n.replace(zy,"$1")}function ro(n){return n.indexOf("\\")<0&&n.indexOf("&")<0?n:n.replace(k_,function(e,t,i){return t||w_(e,i)})}const __=/[&<>"]/,S_=/[&<>"]/g,j_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function C_(n){return j_[n]}function Li(n){return __.test(n)?n.replace(S_,C_):n}const A_=/[.?*+^$[\]\\(){}|-]/g;function E_(n){return n.replace(A_,"\\$&")}function Se(n){switch(n){case 9:case 32:return!0}return!1}function xs(n){if(n>=8192&&n<=8202)return!0;switch(n){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function _s(n){return Zd.test(n)||Ny.test(n)}function Ss(n){switch(n){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Ul(n){return n=n.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(n=n.replace(//g,"")),n.toLowerCase().toUpperCase()}const O_={mdurl:e_,ucmicro:n_},D_=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Vy,assign:Kl,escapeHtml:Li,escapeRE:E_,fromCodePoint:vl,has:y_,isMdAsciiPunct:Ss,isPunctChar:_s,isSpace:Se,isString:Xd,isValidEntityCode:Qd,isWhiteSpace:xs,lib:O_,normalizeReference:Ul,unescapeAll:ro,unescapeMd:x_},Symbol.toStringTag,{value:"Module"}));function T_(n,e,t){let i,r,o,s;const a=n.posMax,l=n.pos;for(n.pos=e+1,i=1;n.pos<a;){if(o=n.src.charCodeAt(n.pos),o===93&&(i--,i===0)){r=!0;break}if(s=n.pos,n.md.inline.skipToken(n),o===91){if(s===n.pos-1)i++;else if(t)return n.pos=l,-1}}let u=-1;return r&&(u=n.pos),n.pos=l,u}function P_(n,e,t){let i,r=e;const o={ok:!1,pos:0,str:""};if(n.charCodeAt(r)===60){for(r++;r<t;){if(i=n.charCodeAt(r),i===10||i===60)return o;if(i===62)return o.pos=r+1,o.str=ro(n.slice(e+1,r)),o.ok=!0,o;if(i===92&&r+1<t){r+=2;continue}r++}return o}let s=0;for(;r<t&&(i=n.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<t){if(n.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(s++,s>32))return o;if(i===41){if(s===0)break;s--}r++}return e===r||s!==0||(o.str=ro(n.slice(e,r)),o.pos=r,o.ok=!0),o}function M_(n,e,t,i){let r,o=e;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)s.str=i.str,s.marker=i.marker;else{if(o>=t)return s;let a=n.charCodeAt(o);if(a!==34&&a!==39&&a!==40)return s;e++,o++,a===40&&(a=41),s.marker=a}for(;o<t;){if(r=n.charCodeAt(o),r===s.marker)return s.pos=o+1,s.str+=ro(n.slice(e,o)),s.ok=!0,s;if(r===40&&s.marker===41)return s;r===92&&o+1<t&&o++,o++}return s.can_continue=!0,s.str+=ro(n.slice(e,o)),s}const F_=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:P_,parseLinkLabel:T_,parseLinkTitle:M_},Symbol.toStringTag,{value:"Module"})),Ln={};Ln.code_inline=function(n,e,t,i,r){const o=n[e];return"<code"+r.renderAttrs(o)+">"+Li(o.content)+"</code>"};Ln.code_block=function(n,e,t,i,r){const o=n[e];return"<pre"+r.renderAttrs(o)+"><code>"+Li(n[e].content)+`</code></pre>
`};Ln.fence=function(n,e,t,i,r){const o=n[e],s=o.info?ro(o.info).trim():"";let a="",l="";if(s){const c=s.split(/(\s+)/g);a=c[0],l=c.slice(2).join("")}let u;if(t.highlight?u=t.highlight(o.content,a,l)||Li(o.content):u=Li(o.content),u.indexOf("<pre")===0)return u+`
`;if(s){const c=o.attrIndex("class"),d=o.attrs?o.attrs.slice():[];c<0?d.push(["class",t.langPrefix+a]):(d[c]=d[c].slice(),d[c][1]+=" "+t.langPrefix+a);const f={attrs:d};return`<pre><code${r.renderAttrs(f)}>${u}</code></pre>
`}return`<pre><code${r.renderAttrs(o)}>${u}</code></pre>
`};Ln.image=function(n,e,t,i,r){const o=n[e];return o.attrs[o.attrIndex("alt")][1]=r.renderInlineAsText(o.children,t,i),r.renderToken(n,e,t)};Ln.hardbreak=function(n,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Ln.softbreak=function(n,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Ln.text=function(n,e){return Li(n[e].content)};Ln.html_block=function(n,e){return n[e].content};Ln.html_inline=function(n,e){return n[e].content};function jo(){this.rules=Kl({},Ln)}jo.prototype.renderAttrs=function(e){let t,i,r;if(!e.attrs)return"";for(r="",t=0,i=e.attrs.length;t<i;t++)r+=" "+Li(e.attrs[t][0])+'="'+Li(e.attrs[t][1])+'"';return r};jo.prototype.renderToken=function(e,t,i){const r=e[t];let o="";if(r.hidden)return"";r.block&&r.nesting!==-1&&t&&e[t-1].hidden&&(o+=`
`),o+=(r.nesting===-1?"</":"<")+r.tag,o+=this.renderAttrs(r),r.nesting===0&&i.xhtmlOut&&(o+=" /");let s=!1;if(r.block&&(s=!0,r.nesting===1&&t+1<e.length)){const a=e[t+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===r.tag)&&(s=!1)}return o+=s?`>
`:">",o};jo.prototype.renderInline=function(n,e,t){let i="";const r=this.rules;for(let o=0,s=n.length;o<s;o++){const a=n[o].type;typeof r[a]<"u"?i+=r[a](n,o,e,t,this):i+=this.renderToken(n,o,e)}return i};jo.prototype.renderInlineAsText=function(n,e,t){let i="";for(let r=0,o=n.length;r<o;r++)switch(n[r].type){case"text":i+=n[r].content;break;case"image":i+=this.renderInlineAsText(n[r].children,e,t);break;case"html_inline":case"html_block":i+=n[r].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};jo.prototype.render=function(n,e,t){let i="";const r=this.rules;for(let o=0,s=n.length;o<s;o++){const a=n[o].type;a==="inline"?i+=this.renderInline(n[o].children,e,t):typeof r[a]<"u"?i+=r[a](n,o,e,t,this):i+=this.renderToken(n,o,e,t)}return i};function Bt(){this.__rules__=[],this.__cache__=null}Bt.prototype.__find__=function(n){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===n)return e;return-1};Bt.prototype.__compile__=function(){const n=this,e=[""];n.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),n.__cache__={},e.forEach(function(t){n.__cache__[t]=[],n.__rules__.forEach(function(i){i.enabled&&(t&&i.alt.indexOf(t)<0||n.__cache__[t].push(i.fn))})})};Bt.prototype.at=function(n,e,t){const i=this.__find__(n),r=t||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__[i].fn=e,this.__rules__[i].alt=r.alt||[],this.__cache__=null};Bt.prototype.before=function(n,e,t,i){const r=this.__find__(n),o=i||{};if(r===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(r,0,{name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Bt.prototype.after=function(n,e,t,i){const r=this.__find__(n),o=i||{};if(r===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(r+1,0,{name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Bt.prototype.push=function(n,e,t){const i=t||{};this.__rules__.push({name:n,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};Bt.prototype.enable=function(n,e){Array.isArray(n)||(n=[n]);const t=[];return n.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!0,t.push(i)},this),this.__cache__=null,t};Bt.prototype.enableOnly=function(n,e){Array.isArray(n)||(n=[n]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(n,e)};Bt.prototype.disable=function(n,e){Array.isArray(n)||(n=[n]);const t=[];return n.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!1,t.push(i)},this),this.__cache__=null,t};Bt.prototype.getRules=function(n){return this.__cache__===null&&this.__compile__(),this.__cache__[n]||[]};function pn(n,e,t){this.type=n,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}pn.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let i=0,r=t.length;i<r;i++)if(t[i][0]===e)return i;return-1};pn.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};pn.prototype.attrSet=function(e,t){const i=this.attrIndex(e),r=[e,t];i<0?this.attrPush(r):this.attrs[i]=r};pn.prototype.attrGet=function(e){const t=this.attrIndex(e);let i=null;return t>=0&&(i=this.attrs[t][1]),i};pn.prototype.attrJoin=function(e,t){const i=this.attrIndex(e);i<0?this.attrPush([e,t]):this.attrs[i][1]=this.attrs[i][1]+" "+t};function $y(n,e,t){this.src=n,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}$y.prototype.Token=pn;const B_=/\r\n?|\n/g,N_=/\0/g;function I_(n){let e;e=n.src.replace(B_,`
`),e=e.replace(N_,""),n.src=e}function R_(n){let e;n.inlineMode?(e=new n.Token("inline","",0),e.content=n.src,e.map=[0,1],e.children=[],n.tokens.push(e)):n.md.block.parse(n.src,n.md,n.env,n.tokens)}function L_(n){const e=n.tokens;for(let t=0,i=e.length;t<i;t++){const r=e[t];r.type==="inline"&&n.md.inline.parse(r.content,n.md,n.env,r.children)}}function V_(n){return/^<a[>\s]/i.test(n)}function z_(n){return/^<\/a\s*>/i.test(n)}function $_(n){const e=n.tokens;if(n.md.options.linkify)for(let t=0,i=e.length;t<i;t++){if(e[t].type!=="inline"||!n.md.linkify.pretest(e[t].content))continue;let r=e[t].children,o=0;for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.type==="link_close"){for(s--;r[s].level!==a.level&&r[s].type!=="link_open";)s--;continue}if(a.type==="html_inline"&&(V_(a.content)&&o>0&&o--,z_(a.content)&&o++),!(o>0)&&a.type==="text"&&n.md.linkify.test(a.content)){const l=a.content;let u=n.md.linkify.match(l);const c=[];let d=a.level,f=0;u.length>0&&u[0].index===0&&s>0&&r[s-1].type==="text_special"&&(u=u.slice(1));for(let p=0;p<u.length;p++){const h=u[p].url,m=n.md.normalizeLink(h);if(!n.md.validateLink(m))continue;let g=u[p].text;u[p].schema?u[p].schema==="mailto:"&&!/^mailto:/i.test(g)?g=n.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):g=n.md.normalizeLinkText(g):g=n.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,"");const y=u[p].index;if(y>f){const w=new n.Token("text","",0);w.content=l.slice(f,y),w.level=d,c.push(w)}const k=new n.Token("link_open","a",1);k.attrs=[["href",m]],k.level=d++,k.markup="linkify",k.info="auto",c.push(k);const x=new n.Token("text","",0);x.content=g,x.level=d,c.push(x);const v=new n.Token("link_close","a",-1);v.level=--d,v.markup="linkify",v.info="auto",c.push(v),f=u[p].lastIndex}if(f<l.length){const p=new n.Token("text","",0);p.content=l.slice(f),p.level=d,c.push(p)}e[t].children=r=Vy(r,s,c)}}}}const qy=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,q_=/\((c|tm|r)\)/i,H_=/\((c|tm|r)\)/ig,W_={c:"",r:"",tm:""};function K_(n,e){return W_[e.toLowerCase()]}function U_(n){let e=0;for(let t=n.length-1;t>=0;t--){const i=n[t];i.type==="text"&&!e&&(i.content=i.content.replace(H_,K_)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function J_(n){let e=0;for(let t=n.length-1;t>=0;t--){const i=n[t];i.type==="text"&&!e&&qy.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function G_(n){let e;if(n.md.options.typographer)for(e=n.tokens.length-1;e>=0;e--)n.tokens[e].type==="inline"&&(q_.test(n.tokens[e].content)&&U_(n.tokens[e].children),qy.test(n.tokens[e].content)&&J_(n.tokens[e].children))}const Y_=/['"]/,dp=/['"]/g,fp="";function _a(n,e,t){return n.slice(0,e)+t+n.slice(e+1)}function Z_(n,e){let t;const i=[];for(let r=0;r<n.length;r++){const o=n[r],s=n[r].level;for(t=i.length-1;t>=0&&!(i[t].level<=s);t--);if(i.length=t+1,o.type!=="text")continue;let a=o.content,l=0,u=a.length;e:for(;l<u;){dp.lastIndex=l;const c=dp.exec(a);if(!c)break;let d=!0,f=!0;l=c.index+1;const p=c[0]==="'";let h=32;if(c.index-1>=0)h=a.charCodeAt(c.index-1);else for(t=r-1;t>=0&&!(n[t].type==="softbreak"||n[t].type==="hardbreak");t--)if(n[t].content){h=n[t].content.charCodeAt(n[t].content.length-1);break}let m=32;if(l<u)m=a.charCodeAt(l);else for(t=r+1;t<n.length&&!(n[t].type==="softbreak"||n[t].type==="hardbreak");t++)if(n[t].content){m=n[t].content.charCodeAt(0);break}const g=Ss(h)||_s(String.fromCharCode(h)),y=Ss(m)||_s(String.fromCharCode(m)),k=xs(h),x=xs(m);if(x?d=!1:y&&(k||g||(d=!1)),k?f=!1:g&&(x||y||(f=!1)),m===34&&c[0]==='"'&&h>=48&&h<=57&&(f=d=!1),d&&f&&(d=g,f=y),!d&&!f){p&&(o.content=_a(o.content,c.index,fp));continue}if(f)for(t=i.length-1;t>=0;t--){let v=i[t];if(i[t].level<s)break;if(v.single===p&&i[t].level===s){v=i[t];let w,_;p?(w=e.md.options.quotes[2],_=e.md.options.quotes[3]):(w=e.md.options.quotes[0],_=e.md.options.quotes[1]),o.content=_a(o.content,c.index,_),n[v.token].content=_a(n[v.token].content,v.pos,w),l+=_.length-1,v.token===r&&(l+=w.length-1),a=o.content,u=a.length,i.length=t;continue e}}d?i.push({token:r,pos:c.index,single:p,level:s}):f&&p&&(o.content=_a(o.content,c.index,fp))}}}function X_(n){if(n.md.options.typographer)for(let e=n.tokens.length-1;e>=0;e--)n.tokens[e].type!=="inline"||!Y_.test(n.tokens[e].content)||Z_(n.tokens[e].children,n)}function Q_(n){let e,t;const i=n.tokens,r=i.length;for(let o=0;o<r;o++){if(i[o].type!=="inline")continue;const s=i[o].children,a=s.length;for(e=0;e<a;e++)s[e].type==="text_special"&&(s[e].type="text");for(e=t=0;e<a;e++)s[e].type==="text"&&e+1<a&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==t&&(s[t]=s[e]),t++);e!==t&&(s.length=t)}}const Tu=[["normalize",I_],["block",R_],["inline",L_],["linkify",$_],["replacements",G_],["smartquotes",X_],["text_join",Q_]];function ef(){this.ruler=new Bt;for(let n=0;n<Tu.length;n++)this.ruler.push(Tu[n][0],Tu[n][1])}ef.prototype.process=function(n){const e=this.ruler.getRules("");for(let t=0,i=e.length;t<i;t++)e[t](n)};ef.prototype.State=$y;function Vn(n,e,t,i){this.src=n,this.md=e,this.env=t,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let o=0,s=0,a=0,l=0,u=r.length,c=!1;s<u;s++){const d=r.charCodeAt(s);if(!c)if(Se(d)){a++,d===9?l+=4-l%4:l++;continue}else c=!0;(d===10||s===u-1)&&(d!==10&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),c=!1,a=0,l=0,o=s+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Vn.prototype.push=function(n,e,t){const i=new pn(n,e,t);return i.block=!0,t<0&&this.level--,i.level=this.level,t>0&&this.level++,this.tokens.push(i),i};Vn.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Vn.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Vn.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){const i=this.src.charCodeAt(e);if(!Se(i))break}return e};Vn.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Se(this.src.charCodeAt(--e)))return e+1;return e};Vn.prototype.skipChars=function(e,t){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===t;e++);return e};Vn.prototype.skipCharsBack=function(e,t,i){if(e<=i)return e;for(;e>i;)if(t!==this.src.charCodeAt(--e))return e+1;return e};Vn.prototype.getLines=function(e,t,i,r){if(e>=t)return"";const o=new Array(t-e);for(let s=0,a=e;a<t;a++,s++){let l=0;const u=this.bMarks[a];let c=u,d;for(a+1<t||r?d=this.eMarks[a]+1:d=this.eMarks[a];c<d&&l<i;){const f=this.src.charCodeAt(c);if(Se(f))f===9?l+=4-(l+this.bsCount[a])%4:l++;else if(c-u<this.tShift[a])l++;else break;c++}l>i?o[s]=new Array(l-i+1).join(" ")+this.src.slice(c,d):o[s]=this.src.slice(c,d)}return o.join("")};Vn.prototype.Token=pn;const eS=65536;function Pu(n,e){const t=n.bMarks[e]+n.tShift[e],i=n.eMarks[e];return n.src.slice(t,i)}function hp(n){const e=[],t=n.length;let i=0,r=n.charCodeAt(i),o=!1,s=0,a="";for(;i<t;)r===124&&(o?(a+=n.substring(s,i-1),s=i):(e.push(a+n.substring(s,i)),a="",s=i+1)),o=r===92,i++,r=n.charCodeAt(i);return e.push(a+n.substring(s)),e}function tS(n,e,t,i){if(e+2>t)return!1;let r=e+1;if(n.sCount[r]<n.blkIndent||n.sCount[r]-n.blkIndent>=4)return!1;let o=n.bMarks[r]+n.tShift[r];if(o>=n.eMarks[r])return!1;const s=n.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58||o>=n.eMarks[r])return!1;const a=n.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58&&!Se(a)||s===45&&Se(a))return!1;for(;o<n.eMarks[r];){const v=n.src.charCodeAt(o);if(v!==124&&v!==45&&v!==58&&!Se(v))return!1;o++}let l=Pu(n,e+1),u=l.split("|");const c=[];for(let v=0;v<u.length;v++){const w=u[v].trim();if(!w){if(v===0||v===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(w))return!1;w.charCodeAt(w.length-1)===58?c.push(w.charCodeAt(0)===58?"center":"right"):w.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=Pu(n,e).trim(),l.indexOf("|")===-1||n.sCount[e]-n.blkIndent>=4)return!1;u=hp(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const d=u.length;if(d===0||d!==c.length)return!1;if(i)return!0;const f=n.parentType;n.parentType="table";const p=n.md.block.ruler.getRules("blockquote"),h=n.push("table_open","table",1),m=[e,0];h.map=m;const g=n.push("thead_open","thead",1);g.map=[e,e+1];const y=n.push("tr_open","tr",1);y.map=[e,e+1];for(let v=0;v<u.length;v++){const w=n.push("th_open","th",1);c[v]&&(w.attrs=[["style","text-align:"+c[v]]]);const _=n.push("inline","",0);_.content=u[v].trim(),_.children=[],n.push("th_close","th",-1)}n.push("tr_close","tr",-1),n.push("thead_close","thead",-1);let k,x=0;for(r=e+2;r<t&&!(n.sCount[r]<n.blkIndent);r++){let v=!1;for(let _=0,S=p.length;_<S;_++)if(p[_](n,r,t,!0)){v=!0;break}if(v||(l=Pu(n,r).trim(),!l)||n.sCount[r]-n.blkIndent>=4||(u=hp(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),x+=d-u.length,x>eS))break;if(r===e+2){const _=n.push("tbody_open","tbody",1);_.map=k=[e+2,0]}const w=n.push("tr_open","tr",1);w.map=[r,r+1];for(let _=0;_<d;_++){const S=n.push("td_open","td",1);c[_]&&(S.attrs=[["style","text-align:"+c[_]]]);const B=n.push("inline","",0);B.content=u[_]?u[_].trim():"",B.children=[],n.push("td_close","td",-1)}n.push("tr_close","tr",-1)}return k&&(n.push("tbody_close","tbody",-1),k[1]=r),n.push("table_close","table",-1),m[1]=r,n.parentType=f,n.line=r,!0}function nS(n,e,t){if(n.sCount[e]-n.blkIndent<4)return!1;let i=e+1,r=i;for(;i<t;){if(n.isEmpty(i)){i++;continue}if(n.sCount[i]-n.blkIndent>=4){i++,r=i;continue}break}n.line=r;const o=n.push("code_block","code",0);return o.content=n.getLines(e,r,4+n.blkIndent,!1)+`
`,o.map=[e,n.line],!0}function iS(n,e,t,i){let r=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||r+3>o)return!1;const s=n.src.charCodeAt(r);if(s!==126&&s!==96)return!1;let a=r;r=n.skipChars(r,s);let l=r-a;if(l<3)return!1;const u=n.src.slice(a,r),c=n.src.slice(r,o);if(s===96&&c.indexOf(String.fromCharCode(s))>=0)return!1;if(i)return!0;let d=e,f=!1;for(;d++,!(d>=t||(r=a=n.bMarks[d]+n.tShift[d],o=n.eMarks[d],r<o&&n.sCount[d]<n.blkIndent));)if(n.src.charCodeAt(r)===s&&!(n.sCount[d]-n.blkIndent>=4)&&(r=n.skipChars(r,s),!(r-a<l)&&(r=n.skipSpaces(r),!(r<o)))){f=!0;break}l=n.sCount[e],n.line=d+(f?1:0);const p=n.push("fence","code",0);return p.info=c,p.content=n.getLines(e+1,d,l,!0),p.markup=u,p.map=[e,n.line],!0}function rS(n,e,t,i){let r=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];const s=n.lineMax;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(r)!==62)return!1;if(i)return!0;const a=[],l=[],u=[],c=[],d=n.md.block.ruler.getRules("blockquote"),f=n.parentType;n.parentType="blockquote";let p=!1,h;for(h=e;h<t;h++){const x=n.sCount[h]<n.blkIndent;if(r=n.bMarks[h]+n.tShift[h],o=n.eMarks[h],r>=o)break;if(n.src.charCodeAt(r++)===62&&!x){let w=n.sCount[h]+1,_,S;n.src.charCodeAt(r)===32?(r++,w++,S=!1,_=!0):n.src.charCodeAt(r)===9?(_=!0,(n.bsCount[h]+w)%4===3?(r++,w++,S=!1):S=!0):_=!1;let B=w;for(a.push(n.bMarks[h]),n.bMarks[h]=r;r<o;){const O=n.src.charCodeAt(r);if(Se(O))O===9?B+=4-(B+n.bsCount[h]+(S?1:0))%4:B++;else break;r++}p=r>=o,l.push(n.bsCount[h]),n.bsCount[h]=n.sCount[h]+1+(_?1:0),u.push(n.sCount[h]),n.sCount[h]=B-w,c.push(n.tShift[h]),n.tShift[h]=r-n.bMarks[h];continue}if(p)break;let v=!1;for(let w=0,_=d.length;w<_;w++)if(d[w](n,h,t,!0)){v=!0;break}if(v){n.lineMax=h,n.blkIndent!==0&&(a.push(n.bMarks[h]),l.push(n.bsCount[h]),c.push(n.tShift[h]),u.push(n.sCount[h]),n.sCount[h]-=n.blkIndent);break}a.push(n.bMarks[h]),l.push(n.bsCount[h]),c.push(n.tShift[h]),u.push(n.sCount[h]),n.sCount[h]=-1}const m=n.blkIndent;n.blkIndent=0;const g=n.push("blockquote_open","blockquote",1);g.markup=">";const y=[e,0];g.map=y,n.md.block.tokenize(n,e,h);const k=n.push("blockquote_close","blockquote",-1);k.markup=">",n.lineMax=s,n.parentType=f,y[1]=n.line;for(let x=0;x<c.length;x++)n.bMarks[x+e]=a[x],n.tShift[x+e]=c[x],n.sCount[x+e]=u[x],n.bsCount[x+e]=l[x];return n.blkIndent=m,!0}function oS(n,e,t,i){const r=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let o=n.bMarks[e]+n.tShift[e];const s=n.src.charCodeAt(o++);if(s!==42&&s!==45&&s!==95)return!1;let a=1;for(;o<r;){const u=n.src.charCodeAt(o++);if(u!==s&&!Se(u))return!1;u===s&&a++}if(a<3)return!1;if(i)return!0;n.line=e+1;const l=n.push("hr","hr",0);return l.map=[e,n.line],l.markup=Array(a+1).join(String.fromCharCode(s)),!0}function pp(n,e){const t=n.eMarks[e];let i=n.bMarks[e]+n.tShift[e];const r=n.src.charCodeAt(i++);if(r!==42&&r!==45&&r!==43)return-1;if(i<t){const o=n.src.charCodeAt(i);if(!Se(o))return-1}return i}function mp(n,e){const t=n.bMarks[e]+n.tShift[e],i=n.eMarks[e];let r=t;if(r+1>=i)return-1;let o=n.src.charCodeAt(r++);if(o<48||o>57)return-1;for(;;){if(r>=i)return-1;if(o=n.src.charCodeAt(r++),o>=48&&o<=57){if(r-t>=10)return-1;continue}if(o===41||o===46)break;return-1}return r<i&&(o=n.src.charCodeAt(r),!Se(o))?-1:r}function sS(n,e){const t=n.level+2;for(let i=e+2,r=n.tokens.length-2;i<r;i++)n.tokens[i].level===t&&n.tokens[i].type==="paragraph_open"&&(n.tokens[i+2].hidden=!0,n.tokens[i].hidden=!0,i+=2)}function aS(n,e,t,i){let r,o,s,a,l=e,u=!0;if(n.sCount[l]-n.blkIndent>=4||n.listIndent>=0&&n.sCount[l]-n.listIndent>=4&&n.sCount[l]<n.blkIndent)return!1;let c=!1;i&&n.parentType==="paragraph"&&n.sCount[l]>=n.blkIndent&&(c=!0);let d,f,p;if((p=mp(n,l))>=0){if(d=!0,s=n.bMarks[l]+n.tShift[l],f=Number(n.src.slice(s,p-1)),c&&f!==1)return!1}else if((p=pp(n,l))>=0)d=!1;else return!1;if(c&&n.skipSpaces(p)>=n.eMarks[l])return!1;if(i)return!0;const h=n.src.charCodeAt(p-1),m=n.tokens.length;d?(a=n.push("ordered_list_open","ol",1),f!==1&&(a.attrs=[["start",f]])):a=n.push("bullet_list_open","ul",1);const g=[l,0];a.map=g,a.markup=String.fromCharCode(h);let y=!1;const k=n.md.block.ruler.getRules("list"),x=n.parentType;for(n.parentType="list";l<t;){o=p,r=n.eMarks[l];const v=n.sCount[l]+p-(n.bMarks[l]+n.tShift[l]);let w=v;for(;o<r;){const A=n.src.charCodeAt(o);if(A===9)w+=4-(w+n.bsCount[l])%4;else if(A===32)w++;else break;o++}const _=o;let S;_>=r?S=1:S=w-v,S>4&&(S=1);const B=v+S;a=n.push("list_item_open","li",1),a.markup=String.fromCharCode(h);const O=[l,0];a.map=O,d&&(a.info=n.src.slice(s,p-1));const L=n.tight,F=n.tShift[l],I=n.sCount[l],W=n.listIndent;if(n.listIndent=n.blkIndent,n.blkIndent=B,n.tight=!0,n.tShift[l]=_-n.bMarks[l],n.sCount[l]=w,_>=r&&n.isEmpty(l+1)?n.line=Math.min(n.line+2,t):n.md.block.tokenize(n,l,t,!0),(!n.tight||y)&&(u=!1),y=n.line-l>1&&n.isEmpty(n.line-1),n.blkIndent=n.listIndent,n.listIndent=W,n.tShift[l]=F,n.sCount[l]=I,n.tight=L,a=n.push("list_item_close","li",-1),a.markup=String.fromCharCode(h),l=n.line,O[1]=l,l>=t||n.sCount[l]<n.blkIndent||n.sCount[l]-n.blkIndent>=4)break;let Z=!1;for(let A=0,V=k.length;A<V;A++)if(k[A](n,l,t,!0)){Z=!0;break}if(Z)break;if(d){if(p=mp(n,l),p<0)break;s=n.bMarks[l]+n.tShift[l]}else if(p=pp(n,l),p<0)break;if(h!==n.src.charCodeAt(p-1))break}return d?a=n.push("ordered_list_close","ol",-1):a=n.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(h),g[1]=l,n.line=l,n.parentType=x,u&&sS(n,m),!0}function lS(n,e,t,i){let r=n.bMarks[e]+n.tShift[e],o=n.eMarks[e],s=e+1;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(r)!==91)return!1;function a(k){const x=n.lineMax;if(k>=x||n.isEmpty(k))return null;let v=!1;if(n.sCount[k]-n.blkIndent>3&&(v=!0),n.sCount[k]<0&&(v=!0),!v){const S=n.md.block.ruler.getRules("reference"),B=n.parentType;n.parentType="reference";let O=!1;for(let L=0,F=S.length;L<F;L++)if(S[L](n,k,x,!0)){O=!0;break}if(n.parentType=B,O)return null}const w=n.bMarks[k]+n.tShift[k],_=n.eMarks[k];return n.src.slice(w,_+1)}let l=n.src.slice(r,o+1);o=l.length;let u=-1;for(r=1;r<o;r++){const k=l.charCodeAt(r);if(k===91)return!1;if(k===93){u=r;break}else if(k===10){const x=a(s);x!==null&&(l+=x,o=l.length,s++)}else if(k===92&&(r++,r<o&&l.charCodeAt(r)===10)){const x=a(s);x!==null&&(l+=x,o=l.length,s++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(r=u+2;r<o;r++){const k=l.charCodeAt(r);if(k===10){const x=a(s);x!==null&&(l+=x,o=l.length,s++)}else if(!Se(k))break}const c=n.md.helpers.parseLinkDestination(l,r,o);if(!c.ok)return!1;const d=n.md.normalizeLink(c.str);if(!n.md.validateLink(d))return!1;r=c.pos;const f=r,p=s,h=r;for(;r<o;r++){const k=l.charCodeAt(r);if(k===10){const x=a(s);x!==null&&(l+=x,o=l.length,s++)}else if(!Se(k))break}let m=n.md.helpers.parseLinkTitle(l,r,o);for(;m.can_continue;){const k=a(s);if(k===null)break;l+=k,r=o,o=l.length,s++,m=n.md.helpers.parseLinkTitle(l,r,o,m)}let g;for(r<o&&h!==r&&m.ok?(g=m.str,r=m.pos):(g="",r=f,s=p);r<o;){const k=l.charCodeAt(r);if(!Se(k))break;r++}if(r<o&&l.charCodeAt(r)!==10&&g)for(g="",r=f,s=p;r<o;){const k=l.charCodeAt(r);if(!Se(k))break;r++}if(r<o&&l.charCodeAt(r)!==10)return!1;const y=Ul(l.slice(1,u));return y?(i||(typeof n.env.references>"u"&&(n.env.references={}),typeof n.env.references[y]>"u"&&(n.env.references[y]={title:g,href:d}),n.line=s),!0):!1}const uS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cS="[a-zA-Z_:][a-zA-Z0-9:._-]*",dS="[^\"'=<>`\\x00-\\x20]+",fS="'[^']*'",hS='"[^"]*"',pS="(?:"+dS+"|"+fS+"|"+hS+")",mS="(?:\\s+"+cS+"(?:\\s*=\\s*"+pS+")?)",Hy="<[A-Za-z][A-Za-z0-9\\-]*"+mS+"*\\s*\\/?>",Wy="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",gS="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",yS="<[?][\\s\\S]*?[?]>",bS="<![A-Za-z][^>]*>",kS="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",vS=new RegExp("^(?:"+Hy+"|"+Wy+"|"+gS+"|"+yS+"|"+bS+"|"+kS+")"),wS=new RegExp("^(?:"+Hy+"|"+Wy+")"),Nr=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+uS.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(wS.source+"\\s*$"),/^$/,!1]];function xS(n,e,t,i){let r=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||!n.md.options.html||n.src.charCodeAt(r)!==60)return!1;let s=n.src.slice(r,o),a=0;for(;a<Nr.length&&!Nr[a][0].test(s);a++);if(a===Nr.length)return!1;if(i)return Nr[a][2];let l=e+1;if(!Nr[a][1].test(s)){for(;l<t&&!(n.sCount[l]<n.blkIndent);l++)if(r=n.bMarks[l]+n.tShift[l],o=n.eMarks[l],s=n.src.slice(r,o),Nr[a][1].test(s)){s.length!==0&&l++;break}}n.line=l;const u=n.push("html_block","",0);return u.map=[e,l],u.content=n.getLines(e,l,n.blkIndent,!0),!0}function _S(n,e,t,i){let r=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let s=n.src.charCodeAt(r);if(s!==35||r>=o)return!1;let a=1;for(s=n.src.charCodeAt(++r);s===35&&r<o&&a<=6;)a++,s=n.src.charCodeAt(++r);if(a>6||r<o&&!Se(s))return!1;if(i)return!0;o=n.skipSpacesBack(o,r);const l=n.skipCharsBack(o,35,r);l>r&&Se(n.src.charCodeAt(l-1))&&(o=l),n.line=e+1;const u=n.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[e,n.line];const c=n.push("inline","",0);c.content=n.src.slice(r,o).trim(),c.map=[e,n.line],c.children=[];const d=n.push("heading_close","h"+String(a),-1);return d.markup="########".slice(0,a),!0}function SS(n,e,t){const i=n.md.block.ruler.getRules("paragraph");if(n.sCount[e]-n.blkIndent>=4)return!1;const r=n.parentType;n.parentType="paragraph";let o=0,s,a=e+1;for(;a<t&&!n.isEmpty(a);a++){if(n.sCount[a]-n.blkIndent>3)continue;if(n.sCount[a]>=n.blkIndent){let p=n.bMarks[a]+n.tShift[a];const h=n.eMarks[a];if(p<h&&(s=n.src.charCodeAt(p),(s===45||s===61)&&(p=n.skipChars(p,s),p=n.skipSpaces(p),p>=h))){o=s===61?1:2;break}}if(n.sCount[a]<0)continue;let f=!1;for(let p=0,h=i.length;p<h;p++)if(i[p](n,a,t,!0)){f=!0;break}if(f)break}if(!o)return!1;const l=n.getLines(e,a,n.blkIndent,!1).trim();n.line=a+1;const u=n.push("heading_open","h"+String(o),1);u.markup=String.fromCharCode(s),u.map=[e,n.line];const c=n.push("inline","",0);c.content=l,c.map=[e,n.line-1],c.children=[];const d=n.push("heading_close","h"+String(o),-1);return d.markup=String.fromCharCode(s),n.parentType=r,!0}function jS(n,e,t){const i=n.md.block.ruler.getRules("paragraph"),r=n.parentType;let o=e+1;for(n.parentType="paragraph";o<t&&!n.isEmpty(o);o++){if(n.sCount[o]-n.blkIndent>3||n.sCount[o]<0)continue;let u=!1;for(let c=0,d=i.length;c<d;c++)if(i[c](n,o,t,!0)){u=!0;break}if(u)break}const s=n.getLines(e,o,n.blkIndent,!1).trim();n.line=o;const a=n.push("paragraph_open","p",1);a.map=[e,n.line];const l=n.push("inline","",0);return l.content=s,l.map=[e,n.line],l.children=[],n.push("paragraph_close","p",-1),n.parentType=r,!0}const Sa=[["table",tS,["paragraph","reference"]],["code",nS],["fence",iS,["paragraph","reference","blockquote","list"]],["blockquote",rS,["paragraph","reference","blockquote","list"]],["hr",oS,["paragraph","reference","blockquote","list"]],["list",aS,["paragraph","reference","blockquote"]],["reference",lS],["html_block",xS,["paragraph","reference","blockquote"]],["heading",_S,["paragraph","reference","blockquote"]],["lheading",SS],["paragraph",jS]];function Jl(){this.ruler=new Bt;for(let n=0;n<Sa.length;n++)this.ruler.push(Sa[n][0],Sa[n][1],{alt:(Sa[n][2]||[]).slice()})}Jl.prototype.tokenize=function(n,e,t){const i=this.ruler.getRules(""),r=i.length,o=n.md.options.maxNesting;let s=e,a=!1;for(;s<t&&(n.line=s=n.skipEmptyLines(s),!(s>=t||n.sCount[s]<n.blkIndent));){if(n.level>=o){n.line=t;break}const l=n.line;let u=!1;for(let c=0;c<r;c++)if(u=i[c](n,s,t,!1),u){if(l>=n.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");n.tight=!a,n.isEmpty(n.line-1)&&(a=!0),s=n.line,s<t&&n.isEmpty(s)&&(a=!0,s++,n.line=s)}};Jl.prototype.parse=function(n,e,t,i){if(!n)return;const r=new this.State(n,e,t,i);this.tokenize(r,r.line,r.lineMax)};Jl.prototype.State=Vn;function ta(n,e,t,i){this.src=n,this.env=t,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}ta.prototype.pushPending=function(){const n=new pn("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n};ta.prototype.push=function(n,e,t){this.pending&&this.pushPending();const i=new pn(n,e,t);let r=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i};ta.prototype.scanDelims=function(n,e){const t=this.posMax,i=this.src.charCodeAt(n),r=n>0?this.src.charCodeAt(n-1):32;let o=n;for(;o<t&&this.src.charCodeAt(o)===i;)o++;const s=o-n,a=o<t?this.src.charCodeAt(o):32,l=Ss(r)||_s(String.fromCharCode(r)),u=Ss(a)||_s(String.fromCharCode(a)),c=xs(r),d=xs(a),f=!d&&(!u||c||l),p=!c&&(!l||d||u);return{can_open:f&&(e||!p||l),can_close:p&&(e||!f||u),length:s}};ta.prototype.Token=pn;function CS(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function AS(n,e){let t=n.pos;for(;t<n.posMax&&!CS(n.src.charCodeAt(t));)t++;return t===n.pos?!1:(e||(n.pending+=n.src.slice(n.pos,t)),n.pos=t,!0)}const ES=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function OS(n,e){if(!n.md.options.linkify||n.linkLevel>0)return!1;const t=n.pos,i=n.posMax;if(t+3>i||n.src.charCodeAt(t)!==58||n.src.charCodeAt(t+1)!==47||n.src.charCodeAt(t+2)!==47)return!1;const r=n.pending.match(ES);if(!r)return!1;const o=r[1],s=n.md.linkify.matchAtStart(n.src.slice(t-o.length));if(!s)return!1;let a=s.url;if(a.length<=o.length)return!1;a=a.replace(/\*+$/,"");const l=n.md.normalizeLink(a);if(!n.md.validateLink(l))return!1;if(!e){n.pending=n.pending.slice(0,-o.length);const u=n.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=n.push("text","",0);c.content=n.md.normalizeLinkText(a);const d=n.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return n.pos+=a.length-o.length,!0}function DS(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==10)return!1;const i=n.pending.length-1,r=n.posMax;if(!e)if(i>=0&&n.pending.charCodeAt(i)===32)if(i>=1&&n.pending.charCodeAt(i-1)===32){let o=i-1;for(;o>=1&&n.pending.charCodeAt(o-1)===32;)o--;n.pending=n.pending.slice(0,o),n.push("hardbreak","br",0)}else n.pending=n.pending.slice(0,-1),n.push("softbreak","br",0);else n.push("softbreak","br",0);for(t++;t<r&&Se(n.src.charCodeAt(t));)t++;return n.pos=t,!0}const tf=[];for(let n=0;n<256;n++)tf.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){tf[n.charCodeAt(0)]=1});function TS(n,e){let t=n.pos;const i=n.posMax;if(n.src.charCodeAt(t)!==92||(t++,t>=i))return!1;let r=n.src.charCodeAt(t);if(r===10){for(e||n.push("hardbreak","br",0),t++;t<i&&(r=n.src.charCodeAt(t),!!Se(r));)t++;return n.pos=t,!0}let o=n.src[t];if(r>=55296&&r<=56319&&t+1<i){const a=n.src.charCodeAt(t+1);a>=56320&&a<=57343&&(o+=n.src[t+1],t++)}const s="\\"+o;if(!e){const a=n.push("text_special","",0);r<256&&tf[r]!==0?a.content=o:a.content=s,a.markup=s,a.info="escape"}return n.pos=t+1,!0}function PS(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==96)return!1;const r=t;t++;const o=n.posMax;for(;t<o&&n.src.charCodeAt(t)===96;)t++;const s=n.src.slice(r,t),a=s.length;if(n.backticksScanned&&(n.backticks[a]||0)<=r)return e||(n.pending+=s),n.pos+=a,!0;let l=t,u;for(;(u=n.src.indexOf("`",l))!==-1;){for(l=u+1;l<o&&n.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===a){if(!e){const d=n.push("code_inline","code",0);d.markup=s,d.content=n.src.slice(t,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return n.pos=l,!0}n.backticks[c]=u}return n.backticksScanned=!0,e||(n.pending+=s),n.pos+=a,!0}function MS(n,e){const t=n.pos,i=n.src.charCodeAt(t);if(e||i!==126)return!1;const r=n.scanDelims(n.pos,!0);let o=r.length;const s=String.fromCharCode(i);if(o<2)return!1;let a;o%2&&(a=n.push("text","",0),a.content=s,o--);for(let l=0;l<o;l+=2)a=n.push("text","",0),a.content=s+s,n.delimiters.push({marker:i,length:0,token:n.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return n.pos+=r.length,!0}function gp(n,e){let t;const i=[],r=e.length;for(let o=0;o<r;o++){const s=e[o];if(s.marker!==126||s.end===-1)continue;const a=e[s.end];t=n.tokens[s.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=n.tokens[a.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",n.tokens[a.token-1].type==="text"&&n.tokens[a.token-1].content==="~"&&i.push(a.token-1)}for(;i.length;){const o=i.pop();let s=o+1;for(;s<n.tokens.length&&n.tokens[s].type==="s_close";)s++;s--,o!==s&&(t=n.tokens[s],n.tokens[s]=n.tokens[o],n.tokens[o]=t)}}function FS(n){const e=n.tokens_meta,t=n.tokens_meta.length;gp(n,n.delimiters);for(let i=0;i<t;i++)e[i]&&e[i].delimiters&&gp(n,e[i].delimiters)}const Ky={tokenize:MS,postProcess:FS};function BS(n,e){const t=n.pos,i=n.src.charCodeAt(t);if(e||i!==95&&i!==42)return!1;const r=n.scanDelims(n.pos,i===42);for(let o=0;o<r.length;o++){const s=n.push("text","",0);s.content=String.fromCharCode(i),n.delimiters.push({marker:i,length:r.length,token:n.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return n.pos+=r.length,!0}function yp(n,e){const t=e.length;for(let i=t-1;i>=0;i--){const r=e[i];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;const o=e[r.end],s=i>0&&e[i-1].end===r.end+1&&e[i-1].marker===r.marker&&e[i-1].token===r.token-1&&e[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),l=n.tokens[r.token];l.type=s?"strong_open":"em_open",l.tag=s?"strong":"em",l.nesting=1,l.markup=s?a+a:a,l.content="";const u=n.tokens[o.token];u.type=s?"strong_close":"em_close",u.tag=s?"strong":"em",u.nesting=-1,u.markup=s?a+a:a,u.content="",s&&(n.tokens[e[i-1].token].content="",n.tokens[e[r.end+1].token].content="",i--)}}function NS(n){const e=n.tokens_meta,t=n.tokens_meta.length;yp(n,n.delimiters);for(let i=0;i<t;i++)e[i]&&e[i].delimiters&&yp(n,e[i].delimiters)}const Uy={tokenize:BS,postProcess:NS};function IS(n,e){let t,i,r,o,s="",a="",l=n.pos,u=!0;if(n.src.charCodeAt(n.pos)!==91)return!1;const c=n.pos,d=n.posMax,f=n.pos+1,p=n.md.helpers.parseLinkLabel(n,n.pos,!0);if(p<0)return!1;let h=p+1;if(h<d&&n.src.charCodeAt(h)===40){for(u=!1,h++;h<d&&(t=n.src.charCodeAt(h),!(!Se(t)&&t!==10));h++);if(h>=d)return!1;if(l=h,r=n.md.helpers.parseLinkDestination(n.src,h,n.posMax),r.ok){for(s=n.md.normalizeLink(r.str),n.md.validateLink(s)?h=r.pos:s="",l=h;h<d&&(t=n.src.charCodeAt(h),!(!Se(t)&&t!==10));h++);if(r=n.md.helpers.parseLinkTitle(n.src,h,n.posMax),h<d&&l!==h&&r.ok)for(a=r.str,h=r.pos;h<d&&(t=n.src.charCodeAt(h),!(!Se(t)&&t!==10));h++);}(h>=d||n.src.charCodeAt(h)!==41)&&(u=!0),h++}if(u){if(typeof n.env.references>"u")return!1;if(h<d&&n.src.charCodeAt(h)===91?(l=h+1,h=n.md.helpers.parseLinkLabel(n,h),h>=0?i=n.src.slice(l,h++):h=p+1):h=p+1,i||(i=n.src.slice(f,p)),o=n.env.references[Ul(i)],!o)return n.pos=c,!1;s=o.href,a=o.title}if(!e){n.pos=f,n.posMax=p;const m=n.push("link_open","a",1),g=[["href",s]];m.attrs=g,a&&g.push(["title",a]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,n.push("link_close","a",-1)}return n.pos=h,n.posMax=d,!0}function RS(n,e){let t,i,r,o,s,a,l,u,c="";const d=n.pos,f=n.posMax;if(n.src.charCodeAt(n.pos)!==33||n.src.charCodeAt(n.pos+1)!==91)return!1;const p=n.pos+2,h=n.md.helpers.parseLinkLabel(n,n.pos+1,!1);if(h<0)return!1;if(o=h+1,o<f&&n.src.charCodeAt(o)===40){for(o++;o<f&&(t=n.src.charCodeAt(o),!(!Se(t)&&t!==10));o++);if(o>=f)return!1;for(u=o,a=n.md.helpers.parseLinkDestination(n.src,o,n.posMax),a.ok&&(c=n.md.normalizeLink(a.str),n.md.validateLink(c)?o=a.pos:c=""),u=o;o<f&&(t=n.src.charCodeAt(o),!(!Se(t)&&t!==10));o++);if(a=n.md.helpers.parseLinkTitle(n.src,o,n.posMax),o<f&&u!==o&&a.ok)for(l=a.str,o=a.pos;o<f&&(t=n.src.charCodeAt(o),!(!Se(t)&&t!==10));o++);else l="";if(o>=f||n.src.charCodeAt(o)!==41)return n.pos=d,!1;o++}else{if(typeof n.env.references>"u")return!1;if(o<f&&n.src.charCodeAt(o)===91?(u=o+1,o=n.md.helpers.parseLinkLabel(n,o),o>=0?r=n.src.slice(u,o++):o=h+1):o=h+1,r||(r=n.src.slice(p,h)),s=n.env.references[Ul(r)],!s)return n.pos=d,!1;c=s.href,l=s.title}if(!e){i=n.src.slice(p,h);const m=[];n.md.inline.parse(i,n.md,n.env,m);const g=n.push("image","img",0),y=[["src",c],["alt",""]];g.attrs=y,g.children=m,g.content=i,l&&y.push(["title",l])}return n.pos=o,n.posMax=f,!0}const LS=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,VS=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function zS(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==60)return!1;const i=n.pos,r=n.posMax;for(;;){if(++t>=r)return!1;const s=n.src.charCodeAt(t);if(s===60)return!1;if(s===62)break}const o=n.src.slice(i+1,t);if(VS.test(o)){const s=n.md.normalizeLink(o);if(!n.md.validateLink(s))return!1;if(!e){const a=n.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const l=n.push("text","",0);l.content=n.md.normalizeLinkText(o);const u=n.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return n.pos+=o.length+2,!0}if(LS.test(o)){const s=n.md.normalizeLink("mailto:"+o);if(!n.md.validateLink(s))return!1;if(!e){const a=n.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const l=n.push("text","",0);l.content=n.md.normalizeLinkText(o);const u=n.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return n.pos+=o.length+2,!0}return!1}function $S(n){return/^<a[>\s]/i.test(n)}function qS(n){return/^<\/a\s*>/i.test(n)}function HS(n){const e=n|32;return e>=97&&e<=122}function WS(n,e){if(!n.md.options.html)return!1;const t=n.posMax,i=n.pos;if(n.src.charCodeAt(i)!==60||i+2>=t)return!1;const r=n.src.charCodeAt(i+1);if(r!==33&&r!==63&&r!==47&&!HS(r))return!1;const o=n.src.slice(i).match(vS);if(!o)return!1;if(!e){const s=n.push("html_inline","",0);s.content=o[0],$S(s.content)&&n.linkLevel++,qS(s.content)&&n.linkLevel--}return n.pos+=o[0].length,!0}const KS=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,US=/^&([a-z][a-z0-9]{1,31});/i;function JS(n,e){const t=n.pos,i=n.posMax;if(n.src.charCodeAt(t)!==38||t+1>=i)return!1;if(n.src.charCodeAt(t+1)===35){const o=n.src.slice(t).match(KS);if(o){if(!e){const s=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),a=n.push("text_special","",0);a.content=Qd(s)?vl(s):vl(65533),a.markup=o[0],a.info="entity"}return n.pos+=o[0].length,!0}}else{const o=n.src.slice(t).match(US);if(o){const s=Ly(o[0]);if(s!==o[0]){if(!e){const a=n.push("text_special","",0);a.content=s,a.markup=o[0],a.info="entity"}return n.pos+=o[0].length,!0}}}return!1}function bp(n){const e={},t=n.length;if(!t)return;let i=0,r=-2;const o=[];for(let s=0;s<t;s++){const a=n[s];if(o.push(0),(n[i].marker!==a.marker||r!==a.token-1)&&(i=s),r=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let u=i-o[i]-1,c=u;for(;u>l;u-=o[u]+1){const d=n[u];if(d.marker===a.marker&&d.open&&d.end<0){let f=!1;if((d.close||a.open)&&(d.length+a.length)%3===0&&(d.length%3!==0||a.length%3!==0)&&(f=!0),!f){const p=u>0&&!n[u-1].open?o[u-1]+1:0;o[s]=s-u+p,o[u]=p,a.open=!1,d.end=s,d.close=!1,c=-1,r=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function GS(n){const e=n.tokens_meta,t=n.tokens_meta.length;bp(n.delimiters);for(let i=0;i<t;i++)e[i]&&e[i].delimiters&&bp(e[i].delimiters)}function YS(n){let e,t,i=0;const r=n.tokens,o=n.tokens.length;for(e=t=0;e<o;e++)r[e].nesting<0&&i--,r[e].level=i,r[e].nesting>0&&i++,r[e].type==="text"&&e+1<o&&r[e+1].type==="text"?r[e+1].content=r[e].content+r[e+1].content:(e!==t&&(r[t]=r[e]),t++);e!==t&&(r.length=t)}const Mu=[["text",AS],["linkify",OS],["newline",DS],["escape",TS],["backticks",PS],["strikethrough",Ky.tokenize],["emphasis",Uy.tokenize],["link",IS],["image",RS],["autolink",zS],["html_inline",WS],["entity",JS]],Fu=[["balance_pairs",GS],["strikethrough",Ky.postProcess],["emphasis",Uy.postProcess],["fragments_join",YS]];function na(){this.ruler=new Bt;for(let n=0;n<Mu.length;n++)this.ruler.push(Mu[n][0],Mu[n][1]);this.ruler2=new Bt;for(let n=0;n<Fu.length;n++)this.ruler2.push(Fu[n][0],Fu[n][1])}na.prototype.skipToken=function(n){const e=n.pos,t=this.ruler.getRules(""),i=t.length,r=n.md.options.maxNesting,o=n.cache;if(typeof o[e]<"u"){n.pos=o[e];return}let s=!1;if(n.level<r){for(let a=0;a<i;a++)if(n.level++,s=t[a](n,!0),n.level--,s){if(e>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}else n.pos=n.posMax;s||n.pos++,o[e]=n.pos};na.prototype.tokenize=function(n){const e=this.ruler.getRules(""),t=e.length,i=n.posMax,r=n.md.options.maxNesting;for(;n.pos<i;){const o=n.pos;let s=!1;if(n.level<r){for(let a=0;a<t;a++)if(s=e[a](n,!1),s){if(o>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(n.pos>=i)break;continue}n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};na.prototype.parse=function(n,e,t,i){const r=new this.State(n,e,t,i);this.tokenize(r);const o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](r)};na.prototype.State=ta;function ZS(n){const e={};n=n||{},e.src_Any=Fy.source,e.src_Cc=By.source,e.src_Z=Iy.source,e.src_P=Zd.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const t="[><]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(n["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function Ic(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(i){n[i]=t[i]})}),n}function Gl(n){return Object.prototype.toString.call(n)}function XS(n){return Gl(n)==="[object String]"}function QS(n){return Gl(n)==="[object Object]"}function e3(n){return Gl(n)==="[object RegExp]"}function kp(n){return Gl(n)==="[object Function]"}function t3(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Jy={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function n3(n){return Object.keys(n||{}).reduce(function(e,t){return e||Jy.hasOwnProperty(t)},!1)}const i3={"http:":{validate:function(n,e,t){const i=n.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(i)?i.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,e,t){const i=n.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(i)?e>=3&&n[e-3]===":"||e>=3&&n[e-3]==="/"?0:i.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(n,e,t){const i=n.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(i)?i.match(t.re.mailto)[0].length:0}}},r3="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",o3="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function s3(n){n.__index__=-1,n.__text_cache__=""}function a3(n){return function(e,t){const i=e.slice(t);return n.test(i)?i.match(n)[0].length:0}}function vp(){return function(n,e){e.normalize(n)}}function wl(n){const e=n.re=ZS(n.__opts__),t=n.__tlds__.slice();n.onCompile(),n.__tlds_replaced__||t.push(r3),t.push(e.src_xn),e.src_tlds=t.join("|");function i(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const r=[];n.__compiled__={};function o(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(n.__schemas__).forEach(function(a){const l=n.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(n.__compiled__[a]=u,QS(l)){e3(l.validate)?u.validate=a3(l.validate):kp(l.validate)?u.validate=l.validate:o(a,l),kp(l.normalize)?u.normalize=l.normalize:l.normalize?o(a,l):u.normalize=vp();return}if(XS(l)){r.push(a);return}o(a,l)}),r.forEach(function(a){n.__compiled__[n.__schemas__[a]]&&(n.__compiled__[a].validate=n.__compiled__[n.__schemas__[a]].validate,n.__compiled__[a].normalize=n.__compiled__[n.__schemas__[a]].normalize)}),n.__compiled__[""]={validate:null,normalize:vp()};const s=Object.keys(n.__compiled__).filter(function(a){return a.length>0&&n.__compiled__[a]}).map(t3).join("|");n.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","i"),n.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","ig"),n.re.schema_at_start=RegExp("^"+n.re.schema_search.source,"i"),n.re.pretest=RegExp("("+n.re.schema_test.source+")|("+n.re.host_fuzzy_test.source+")|@","i"),s3(n)}function l3(n,e){const t=n.__index__,i=n.__last_index__,r=n.__text_cache__.slice(t,i);this.schema=n.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=i+e,this.raw=r,this.text=r,this.url=r}function Rc(n,e){const t=new l3(n,e);return n.__compiled__[t.schema].normalize(t,n),t}function Ht(n,e){if(!(this instanceof Ht))return new Ht(n,e);e||n3(n)&&(e=n,n={}),this.__opts__=Ic({},Jy,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ic({},i3,n),this.__compiled__={},this.__tlds__=o3,this.__tlds_replaced__=!1,this.re={},wl(this)}Ht.prototype.add=function(e,t){return this.__schemas__[e]=t,wl(this),this};Ht.prototype.set=function(e){return this.__opts__=Ic(this.__opts__,e),this};Ht.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,i,r,o,s,a,l,u,c;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(t=l.exec(e))!==null;)if(o=this.testSchemaAt(e,t[2],l.lastIndex),o){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=i.index+i[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(r=e.match(this.re.email_fuzzy))!==null&&(s=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};Ht.prototype.pretest=function(e){return this.re.pretest.test(e)};Ht.prototype.testSchemaAt=function(e,t,i){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,i,this):0};Ht.prototype.match=function(e){const t=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(Rc(this,i)),i=this.__last_index__);let r=i?e.slice(i):e;for(;this.test(r);)t.push(Rc(this,i)),r=r.slice(this.__last_index__),i+=this.__last_index__;return t.length?t:null};Ht.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const i=this.testSchemaAt(e,t[2],t[0].length);return i?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i,Rc(this,0)):null};Ht.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,r,o){return i!==o[r-1]}).reverse(),wl(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,wl(this),this)};Ht.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Ht.prototype.onCompile=function(){};const Jr=2147483647,An=36,nf=1,js=26,u3=38,c3=700,Gy=72,Yy=128,Zy="-",d3=/^xn--/,f3=/[^\0-\x7F]/,h3=/[\x2E\u3002\uFF0E\uFF61]/g,p3={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Bu=An-nf,En=Math.floor,Nu=String.fromCharCode;function yi(n){throw new RangeError(p3[n])}function m3(n,e){const t=[];let i=n.length;for(;i--;)t[i]=e(n[i]);return t}function Xy(n,e){const t=n.split("@");let i="";t.length>1&&(i=t[0]+"@",n=t[1]),n=n.replace(h3,".");const r=n.split("."),o=m3(r,e).join(".");return i+o}function Qy(n){const e=[];let t=0;const i=n.length;for(;t<i;){const r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){const o=n.charCodeAt(t++);(o&64512)==56320?e.push(((r&1023)<<10)+(o&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}const g3=n=>String.fromCodePoint(...n),y3=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:An},wp=function(n,e){return n+22+75*(n<26)-((e!=0)<<5)},eb=function(n,e,t){let i=0;for(n=t?En(n/c3):n>>1,n+=En(n/e);n>Bu*js>>1;i+=An)n=En(n/Bu);return En(i+(Bu+1)*n/(n+u3))},tb=function(n){const e=[],t=n.length;let i=0,r=Yy,o=Gy,s=n.lastIndexOf(Zy);s<0&&(s=0);for(let a=0;a<s;++a)n.charCodeAt(a)>=128&&yi("not-basic"),e.push(n.charCodeAt(a));for(let a=s>0?s+1:0;a<t;){const l=i;for(let c=1,d=An;;d+=An){a>=t&&yi("invalid-input");const f=y3(n.charCodeAt(a++));f>=An&&yi("invalid-input"),f>En((Jr-i)/c)&&yi("overflow"),i+=f*c;const p=d<=o?nf:d>=o+js?js:d-o;if(f<p)break;const h=An-p;c>En(Jr/h)&&yi("overflow"),c*=h}const u=e.length+1;o=eb(i-l,u,l==0),En(i/u)>Jr-r&&yi("overflow"),r+=En(i/u),i%=u,e.splice(i++,0,r)}return String.fromCodePoint(...e)},nb=function(n){const e=[];n=Qy(n);const t=n.length;let i=Yy,r=0,o=Gy;for(const l of n)l<128&&e.push(Nu(l));const s=e.length;let a=s;for(s&&e.push(Zy);a<t;){let l=Jr;for(const c of n)c>=i&&c<l&&(l=c);const u=a+1;l-i>En((Jr-r)/u)&&yi("overflow"),r+=(l-i)*u,i=l;for(const c of n)if(c<i&&++r>Jr&&yi("overflow"),c===i){let d=r;for(let f=An;;f+=An){const p=f<=o?nf:f>=o+js?js:f-o;if(d<p)break;const h=d-p,m=An-p;e.push(Nu(wp(p+h%m,0))),d=En(h/m)}e.push(Nu(wp(d,0))),o=eb(r,u,a===s),r=0,++a}++r,++i}return e.join("")},b3=function(n){return Xy(n,function(e){return d3.test(e)?tb(e.slice(4).toLowerCase()):e})},k3=function(n){return Xy(n,function(e){return f3.test(e)?"xn--"+nb(e):e})},ib={version:"2.3.1",ucs2:{decode:Qy,encode:g3},decode:tb,encode:nb,toASCII:k3,toUnicode:b3},v3={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},w3={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},x3={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},_3={default:v3,zero:w3,commonmark:x3},S3=/^(vbscript|javascript|file|data):/,j3=/^data:image\/(gif|png|jpeg|webp);/;function C3(n){const e=n.trim().toLowerCase();return S3.test(e)?j3.test(e):!0}const rb=["http:","https:","mailto:"];function A3(n){const e=Yd(n,!0);if(e.hostname&&(!e.protocol||rb.indexOf(e.protocol)>=0))try{e.hostname=ib.toASCII(e.hostname)}catch{}return ea(Gd(e))}function E3(n){const e=Yd(n,!0);if(e.hostname&&(!e.protocol||rb.indexOf(e.protocol)>=0))try{e.hostname=ib.toUnicode(e.hostname)}catch{}return io(Gd(e),io.defaultChars+"%")}function Qt(n,e){if(!(this instanceof Qt))return new Qt(n,e);e||Xd(n)||(e=n||{},n="default"),this.inline=new na,this.block=new Jl,this.core=new ef,this.renderer=new jo,this.linkify=new Ht,this.validateLink=C3,this.normalizeLink=A3,this.normalizeLinkText=E3,this.utils=D_,this.helpers=Kl({},F_),this.options={},this.configure(n),e&&this.set(e)}Qt.prototype.set=function(n){return Kl(this.options,n),this};Qt.prototype.configure=function(n){const e=this;if(Xd(n)){const t=n;if(n=_3[t],!n)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&e.set(n.options),n.components&&Object.keys(n.components).forEach(function(t){n.components[t].rules&&e[t].ruler.enableOnly(n.components[t].rules),n.components[t].rules2&&e[t].ruler2.enableOnly(n.components[t].rules2)}),this};Qt.prototype.enable=function(n,e){let t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(r){t=t.concat(this[r].ruler.enable(n,!0))},this),t=t.concat(this.inline.ruler2.enable(n,!0));const i=n.filter(function(r){return t.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Qt.prototype.disable=function(n,e){let t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(r){t=t.concat(this[r].ruler.disable(n,!0))},this),t=t.concat(this.inline.ruler2.disable(n,!0));const i=n.filter(function(r){return t.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Qt.prototype.use=function(n){const e=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,e),this};Qt.prototype.parse=function(n,e){if(typeof n!="string")throw new Error("Input data should be a String");const t=new this.core.State(n,this,e);return this.core.process(t),t.tokens};Qt.prototype.render=function(n,e){return e=e||{},this.renderer.render(this.parse(n,e),this.options,e)};Qt.prototype.parseInline=function(n,e){const t=new this.core.State(n,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens};Qt.prototype.renderInline=function(n,e){return e=e||{},this.renderer.render(this.parseInline(n,e),this.options,e)};const O3=new B0({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(n){return["h"+n.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:n=>({params:n.getAttribute("data-params")||""})}],toDOM(n){return["pre",n.attrs.params?{"data-params":n.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(n){return{order:n.hasAttribute("start")?+n.getAttribute("start"):1,tight:n.hasAttribute("data-tight")}}}],toDOM(n){return["ol",{start:n.attrs.order==1?null:n.attrs.order,"data-tight":n.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:n=>({tight:n.hasAttribute("data-tight")})}],toDOM(n){return["ul",{"data-tight":n.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(n){return{src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt")}}}],toDOM(n){return["img",n.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:n=>n.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name=="strong"},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(n){return{href:n.getAttribute("href"),title:n.getAttribute("title")}}}],toDOM(n){return["a",n.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function D3(n,e){if(n.isText&&e.isText&&ye.sameSet(n.marks,e.marks))return n.withText(n.text+e.text)}class T3{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:ye.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t=this.top(),i=t.content,r=i[i.length-1],o=this.schema.text(e,t.marks),s;r&&(s=D3(r,o))?i[i.length-1]=s:i.push(o)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let i=e[t],r=this.tokenHandlers[i.type];if(!r)throw new Error("Token type `"+i.type+"` not supported by Markdown parser");r(this,i,e,t)}}addNode(e,t,i){let r=this.top(),o=e.createAndFill(t,i,r?r.marks:[]);return o?(this.push(o),o):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:ye.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function Bo(n,e,t,i){return n.getAttrs?n.getAttrs(e,t,i):n.attrs instanceof Function?n.attrs(e):n.attrs}function Iu(n,e){return n.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}function xp(n){return n[n.length-1]==`
`?n.slice(0,n.length-1):n}function Ru(){}function P3(n,e){let t=Object.create(null);for(let i in e){let r=e[i];if(r.block){let o=n.nodeType(r.block);Iu(r,i)?t[i]=(s,a,l,u)=>{s.openNode(o,Bo(r,a,l,u)),s.addText(xp(a.content)),s.closeNode()}:(t[i+"_open"]=(s,a,l,u)=>s.openNode(o,Bo(r,a,l,u)),t[i+"_close"]=s=>s.closeNode())}else if(r.node){let o=n.nodeType(r.node);t[i]=(s,a,l,u)=>s.addNode(o,Bo(r,a,l,u))}else if(r.mark){let o=n.marks[r.mark];Iu(r,i)?t[i]=(s,a,l,u)=>{s.openMark(o.create(Bo(r,a,l,u))),s.addText(xp(a.content)),s.closeMark(o)}:(t[i+"_open"]=(s,a,l,u)=>s.openMark(o.create(Bo(r,a,l,u))),t[i+"_close"]=s=>s.closeMark(o))}else if(r.ignore)Iu(r,i)?t[i]=Ru:(t[i+"_open"]=Ru,t[i+"_close"]=Ru);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(r))}return t.text=(i,r)=>i.addText(r.content),t.inline=(i,r)=>i.parseTokens(r.children),t.softbreak=t.softbreak||(i=>i.addText(" ")),t}class M3{constructor(e,t,i){this.schema=e,this.tokenizer=t,this.tokens=i,this.tokenHandlers=P3(e,i)}parse(e,t={}){let i=new T3(this.schema,this.tokenHandlers),r;i.parseTokens(this.tokenizer.parse(e,t));do r=i.closeNode();while(i.stack.length);return r||this.schema.topNodeType.createAndFill()}}function _p(n,e){for(;++e<n.length;)if(n[e].type!="list_item_open")return n[e].hidden;return!1}new M3(O3,Qt("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(n,e,t)=>({tight:_p(e,t)})},ordered_list:{block:"ordered_list",getAttrs:(n,e,t)=>({order:+n.attrGet("start")||1,tight:_p(e,t)})},heading:{block:"heading",getAttrs:n=>({level:+n.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:n=>({params:n.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:n=>({src:n.attrGet("src"),title:n.attrGet("title")||null,alt:n.children[0]&&n.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:n=>({href:n.attrGet("href"),title:n.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const F3={open:"",close:"",mixable:!0};class ob{constructor(e,t,i={}){this.nodes=e,this.marks=t,this.options=i}serialize(e,t={}){t=Object.assign({},this.options,t);let i=new N3(this.nodes,this.marks,t);return i.renderContent(e),i.out}}const Sp=new ob({blockquote(n,e){n.wrapBlock("> ",null,e,()=>n.renderContent(e))},code_block(n,e){const t=e.textContent.match(/`{3,}/gm),i=t?t.sort().slice(-1)[0]+"`":"```";n.write(i+(e.attrs.params||"")+`
`),n.text(e.textContent,!1),n.write(`
`),n.write(i),n.closeBlock(e)},heading(n,e){n.write(n.repeat("#",e.attrs.level)+" "),n.renderInline(e,!1),n.closeBlock(e)},horizontal_rule(n,e){n.write(e.attrs.markup||"---"),n.closeBlock(e)},bullet_list(n,e){n.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(n,e){let t=e.attrs.order||1,i=String(t+e.childCount-1).length,r=n.repeat(" ",i+2);n.renderList(e,r,o=>{let s=String(t+o);return n.repeat(" ",i-s.length)+s+". "})},list_item(n,e){n.renderContent(e)},paragraph(n,e){n.renderInline(e),n.closeBlock(e)},image(n,e){n.write("!["+n.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(n,e,t,i){for(let r=i+1;r<t.childCount;r++)if(t.child(r).type!=e.type){n.write(`\\
`);return}},text(n,e){n.text(e.text,!n.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(n,e,t,i){return n.inAutolink=B3(e,t,i),n.inAutolink?"<":"["},close(n,e,t,i){let{inAutolink:r}=n;return n.inAutolink=void 0,r?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(n,e,t,i){return jp(t.child(i),-1)},close(n,e,t,i){return jp(t.child(i-1),1)},escape:!1}});function jp(n,e){let t=/`+/g,i,r=0;if(n.isText)for(;i=t.exec(n.text);)r=Math.max(r,i[0].length);let o=r>0&&e>0?" `":"`";for(let s=0;s<r;s++)o+="`";return r>0&&e<0&&(o+=" "),o}function B3(n,e,t){if(n.attrs.title||!/^\w+:/.test(n.attrs.href))return!1;let i=e.child(t);return!i.isText||i.text!=n.attrs.href||i.marks[i.marks.length-1]!=n?!1:t==e.childCount-1||!n.isInSet(e.child(t+1).marks)}class N3{constructor(e,t,i){this.nodes=e,this.marks=t,this.options=i,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let t=this.delim,i=/\s+$/.exec(t);i&&(t=t.slice(0,t.length-i[0].length));for(let r=1;r<e;r++)this.out+=t+`
`}this.closed=null}}getMark(e){let t=this.marks[e];if(!t){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);t=F3}return t}wrapBlock(e,t,i,r){let o=this.delim;this.write(t??e),this.delim+=e,r(),this.delim=o,this.closeBlock(i)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let i=e.split(`
`);for(let r=0;r<i.length;r++)this.write(),!t&&i[r][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(i[r],this.atBlockStart):i[r],r!=i.length-1&&(this.out+=`
`)}render(e,t,i){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,t,i);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((t,i,r)=>this.render(t,e,r))}renderInline(e,t=!0){this.atBlockStart=t;let i=[],r="",o=(s,a,l)=>{let u=s?s.marks:[];s&&s.type.name===this.options.hardBreakNodeName&&(u=u.filter(m=>{if(l+1==e.childCount)return!1;let g=e.child(l+1);return m.isInSet(g.marks)&&(!g.isText||/\S/.test(g.text))}));let c=r;if(r="",s&&s.isText&&u.some(m=>{let g=this.getMark(m.type.name);return g&&g.expelEnclosingWhitespace&&!m.isInSet(i)})){let[m,g,y]=/^(\s*)(.*)$/m.exec(s.text);g&&(c+=g,s=y?s.withText(y):null,s||(u=i))}if(s&&s.isText&&u.some(m=>{let g=this.getMark(m.type.name);return g&&g.expelEnclosingWhitespace&&(l==e.childCount-1||!m.isInSet(e.child(l+1).marks))})){let[m,g,y]=/^(.*?)(\s*)$/m.exec(s.text);y&&(r=y,s=g?s.withText(g):null,s||(u=i))}let d=u.length?u[u.length-1]:null,f=d&&this.getMark(d.type.name).escape===!1,p=u.length-(f?1:0);e:for(let m=0;m<p;m++){let g=u[m];if(!this.getMark(g.type.name).mixable)break;for(let y=0;y<i.length;y++){let k=i[y];if(!this.getMark(k.type.name).mixable)break;if(g.eq(k)){m>y?u=u.slice(0,y).concat(g).concat(u.slice(y,m)).concat(u.slice(m+1,p)):y>m&&(u=u.slice(0,m).concat(u.slice(m+1,y)).concat(g).concat(u.slice(y,p)));continue e}}}let h=0;for(;h<Math.min(i.length,p)&&u[h].eq(i[h]);)++h;for(;h<i.length;)this.text(this.markString(i.pop(),!1,e,l),!1);if(c&&this.text(c),s){for(;i.length<p;){let m=u[i.length];i.push(m),this.text(this.markString(m,!0,e,l),!1),this.atBlockStart=!1}f&&s.isText?this.text(this.markString(d,!0,e,l)+s.text+this.markString(d,!1,e,l+1),!1):this.render(s,e,l),this.atBlockStart=!1}s!=null&&s.isText&&s.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(o),o(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,i){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,o=this.inTightList;this.inTightList=r,e.forEach((s,a,l)=>{l&&r&&this.flushClose(1),this.wrapBlock(t,i(l),e,()=>this.render(s,e,l))}),this.inTightList=o}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,(i,r)=>i=="_"&&r>0&&r+1<e.length&&e[r-1].match(/\w/)&&e[r+1].match(/\w/)?i:"\\"+i),t&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return t[0]+e+t[1]}repeat(e,t){let i="";for(let r=0;r<t;r++)i+=e;return i}markString(e,t,i,r){let o=this.getMark(e.type.name),s=t?o.open:o.close;return typeof s=="string"?s:s(this,e,i,r)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}}const I3=n=>({group:n.group,attrs:{checked:{default:!1}},defining:!0,content:n.content,parseDOM:[{tag:"li.todo-item",getAttrs(e){if(typeof e=="string")return!1;const t=e.querySelector('.todo-item-content > input[type="checkbox"]');return t?{checked:t.checked}:!1},contentElement:".todo-item-content > .todo-content"}],toDOM(e){const t=document.createElement("div");t.className="todo",t.style.cssText="display:flex;align-items:baseline";const i=document.createElement("input");i.type="checkbox",i.toggleAttribute("checked",e.attrs.checked);const r=document.createElement("div");return r.className="todo-content",r.style.cssText="margin-left: 0.5em",t.appendChild(i),t.appendChild(r),{dom:t,contentDOM:r}}}),R3=(n,e)=>(t,i)=>{if(!(t.selection instanceof re))return!1;const{$from:r,empty:o}=t.selection;if(r.node(-1).type!==n||!o)return!1;if(i){const s=e.createChecked(null,n.createAndFill()),a=t.tr;i(a.insert(r.after(-2),s).setSelection(re.create(a.doc,r.after(-2)+3)).scrollIntoView())}return!0},L3=n=>(e,t)=>{if(!(e.selection instanceof re))return!1;const{$from:i,empty:r,from:o}=e.selection;if(i.node(-1).type!==n||!r)return!1;if(i.parentOffset===0&&i.index(-1)===0){if(t){const s=i.node(-1).content,a=e.tr;t(a.replaceRange(i.before(-1),i.after(-1),new K(s,0,0)).setSelection(re.create(a.doc,o-1)))}return!0}return!1},V3=n=>new Nt({props:{handleDOMEvents:{change:(e,t)=>{const i=t.target;if(!i||i.nodeName.toLowerCase()!=="input"||i.type!=="checkbox")return;const r=e.posAtDOM(i,0),o=e.state.doc.resolve(r);if(o.parent.type===n)return e.dispatch(e.state.tr.setNodeAttribute(o.before(),"checked",i.checked)),!0}}}}),z3=(n,e,t,i)=>{e.attrs.checked?n.write("[ ] "):n.write("[x] "),n.renderContent(e)};class sb{constructor(e,t,i,r,o,s,a){Le(this,"root",document.createElement("div"));Le(this,"vmApp");Le(this,"vmProps");Le(this,"vm",U());Le(this,"updateAttrs",e=>{var o;const t=(o=this.vmProps)==null?void 0:o.view;if(!t)return;const i=t.state.tr,r=this.vmProps.getPos();Object.entries(e).forEach(([s,a])=>{i.setNodeAttribute(r,s,a)}),t.dispatch(i)});Le(this,"update",(e,t,i)=>{var r;return e.type!==((r=this.vmProps)==null?void 0:r.node.type)?(this.destroy(),!1):this.vmProps?(this.vmProps.node=ft(e),this.vmProps.decorations=ft(t),this.vmProps.innerDecorations=ft(i),!0):!1});Le(this,"ignoreMutation",e=>e.type==="selection"?e.target.hasAttribute("data-prosemirror-ignore-selection-mutation"):!(this.contentDOM&&(this.contentDOM===e.target||this.contentDOM.contains(e.target))));Le(this,"destroy",()=>{var e;(e=this.vmApp)==null||e.unmount(),this.vmApp=null,this.vm.value=void 0,this.vmProps=null});this.vmProps=$k({node:ft(i),...Object.entries({view:r,getPos:o,decorations:s,innerDecorations:a}).reduce((l,[u,c])=>c?{...l,[u]:ft(c)}:l,{}),ref:this.vm,onUpdateAttrs:this.updateAttrs}),this.vmApp=Gs({render:()=>xo(e,this.vmProps)}),Reflect.ownKeys(t).forEach(l=>this.vmApp.provide(l,t[l])),this.vmApp.mount(this.root)}get dom(){var e;return this.root.querySelector("[data-prosemirror-dom]")||((e=this.vm.value)==null?void 0:e.$el)||this.root}get contentDOM(){var e,t;return this.root.querySelector("[data-prosemirror-content-dom]")||((t=(e=this.vm.value)==null?void 0:e.$el)==null?void 0:t.querySelector("[data-prosemirror-content-dom]"))||null}get selectNode(){var e;return(e=this.vm.value)==null?void 0:e.selectNode}get stopEvent(){var e;return(e=this.vm.value)==null?void 0:e.stopEvent}}const $3=(n,e,t)=>{const i=Object.entries(t).reduce((r,[o,s])=>n.nodes[o]?{...r,[o](l,u,c,d,f){return new sb(s,e,l,u,c,d,f)}}:r,{});return new Nt({props:{nodeViews:i}})},rf=(n,e)=>new sb(e,{},n),Un=(n,e,{checkForDefaultPrevented:t=!0}={})=>r=>{const o=n==null?void 0:n(r);if(t===!1||!o)return e==null?void 0:e(r)};var Cp;const Yt=typeof window<"u",q3=n=>typeof n=="string",ab=()=>{},H3=Yt&&((Cp=window==null?void 0:window.navigator)==null?void 0:Cp.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function lb(n){return typeof n=="function"?n():b(n)}function W3(n){return n}function of(n){return qk()?(Hk(n),!0):!1}function K3(n,e=!0){Mn()?et(n):e?n():_t(n)}function Di(n){var e;const t=lb(n);return(e=t==null?void 0:t.$el)!=null?e:t}const sf=Yt?window:void 0;function rs(...n){let e,t,i,r;if(q3(n[0])||Array.isArray(n[0])?([t,i,r]=n,e=sf):[e,t,i,r]=n,!e)return ab;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const o=[],s=()=>{o.forEach(c=>c()),o.length=0},a=(c,d,f,p)=>(c.addEventListener(d,f,p),()=>c.removeEventListener(d,f,p)),l=de(()=>[Di(e),lb(r)],([c,d])=>{s(),c&&o.push(...t.flatMap(f=>i.map(p=>a(c,f,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return of(u),u}let Ap=!1;function U3(n,e,t={}){const{window:i=sf,ignore:r=[],capture:o=!0,detectIframe:s=!1}=t;if(!i)return;H3&&!Ap&&(Ap=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",ab)));let a=!0;const l=f=>r.some(p=>{if(typeof p=="string")return Array.from(i.document.querySelectorAll(p)).some(h=>h===f.target||f.composedPath().includes(h));{const h=Di(p);return h&&(f.target===h||f.composedPath().includes(h))}}),c=[rs(i,"click",f=>{const p=Di(n);if(!(!p||p===f.target||f.composedPath().includes(p))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:o}),rs(i,"pointerdown",f=>{const p=Di(n);p&&(a=!f.composedPath().includes(p)&&!l(f))},{passive:!0}),s&&rs(i,"blur",f=>{var p;const h=Di(n);((p=i.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(h!=null&&h.contains(i.document.activeElement))&&e(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function J3(n,e=!1){const t=U(),i=()=>t.value=!!n();return i(),K3(i,e),t}const Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Op="__vueuse_ssr_handlers__";Ep[Op]=Ep[Op]||{};var Dp=Object.getOwnPropertySymbols,G3=Object.prototype.hasOwnProperty,Y3=Object.prototype.propertyIsEnumerable,Z3=(n,e)=>{var t={};for(var i in n)G3.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Dp)for(var i of Dp(n))e.indexOf(i)<0&&Y3.call(n,i)&&(t[i]=n[i]);return t};function X3(n,e,t={}){const i=t,{window:r=sf}=i,o=Z3(i,["window"]);let s;const a=J3(()=>r&&"ResizeObserver"in r),l=()=>{s&&(s.disconnect(),s=void 0)},u=de(()=>Di(n),d=>{l(),a.value&&r&&d&&(s=new ResizeObserver(e),s.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return of(c),{isSupported:a,stop:c}}var Tp;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Tp||(Tp={}));var Q3=Object.defineProperty,Pp=Object.getOwnPropertySymbols,ej=Object.prototype.hasOwnProperty,tj=Object.prototype.propertyIsEnumerable,Mp=(n,e,t)=>e in n?Q3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nj=(n,e)=>{for(var t in e||(e={}))ej.call(e,t)&&Mp(n,t,e[t]);if(Pp)for(var t of Pp(e))tj.call(e,t)&&Mp(n,t,e[t]);return n};const ij={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};nj({linear:W3},ij);const rj=()=>Yt&&/firefox/i.test(window.navigator.userAgent);var ub=typeof global=="object"&&global&&global.Object===Object&&global,oj=typeof self=="object"&&self&&self.Object===Object&&self,zn=ub||oj||Function("return this")(),In=zn.Symbol,cb=Object.prototype,sj=cb.hasOwnProperty,aj=cb.toString,No=In?In.toStringTag:void 0;function lj(n){var e=sj.call(n,No),t=n[No];try{n[No]=void 0;var i=!0}catch{}var r=aj.call(n);return i&&(e?n[No]=t:delete n[No]),r}var uj=Object.prototype,cj=uj.toString;function dj(n){return cj.call(n)}var fj="[object Null]",hj="[object Undefined]",Fp=In?In.toStringTag:void 0;function Co(n){return n==null?n===void 0?hj:fj:Fp&&Fp in Object(n)?lj(n):dj(n)}function oo(n){return n!=null&&typeof n=="object"}var pj="[object Symbol]";function Yl(n){return typeof n=="symbol"||oo(n)&&Co(n)==pj}function mj(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var oi=Array.isArray,gj=1/0,Bp=In?In.prototype:void 0,Np=Bp?Bp.toString:void 0;function db(n){if(typeof n=="string")return n;if(oi(n))return mj(n,db)+"";if(Yl(n))return Np?Np.call(n):"";var e=n+"";return e=="0"&&1/n==-gj?"-0":e}var yj=/\s/;function bj(n){for(var e=n.length;e--&&yj.test(n.charAt(e)););return e}var kj=/^\s+/;function vj(n){return n&&n.slice(0,bj(n)+1).replace(kj,"")}function vr(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Ip=NaN,wj=/^[-+]0x[0-9a-f]+$/i,xj=/^0b[01]+$/i,_j=/^0o[0-7]+$/i,Sj=parseInt;function Rp(n){if(typeof n=="number")return n;if(Yl(n))return Ip;if(vr(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=vr(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=vj(n);var t=xj.test(n);return t||_j.test(n)?Sj(n.slice(2),t?2:8):wj.test(n)?Ip:+n}function jj(n){return n}var Cj="[object AsyncFunction]",Aj="[object Function]",Ej="[object GeneratorFunction]",Oj="[object Proxy]";function fb(n){if(!vr(n))return!1;var e=Co(n);return e==Aj||e==Ej||e==Cj||e==Oj}var Lu=zn["__core-js_shared__"],Lp=function(){var n=/[^.]+$/.exec(Lu&&Lu.keys&&Lu.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Dj(n){return!!Lp&&Lp in n}var Tj=Function.prototype,Pj=Tj.toString;function Or(n){if(n!=null){try{return Pj.call(n)}catch{}try{return n+""}catch{}}return""}var Mj=/[\\^$.*+?()[\]{}|]/g,Fj=/^\[object .+?Constructor\]$/,Bj=Function.prototype,Nj=Object.prototype,Ij=Bj.toString,Rj=Nj.hasOwnProperty,Lj=RegExp("^"+Ij.call(Rj).replace(Mj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vj(n){if(!vr(n)||Dj(n))return!1;var e=fb(n)?Lj:Fj;return e.test(Or(n))}function zj(n,e){return n==null?void 0:n[e]}function Dr(n,e){var t=zj(n,e);return Vj(t)?t:void 0}var Lc=Dr(zn,"WeakMap");function $j(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var qj=800,Hj=16,Wj=Date.now;function Kj(n){var e=0,t=0;return function(){var i=Wj(),r=Hj-(i-t);if(t=i,r>0){if(++e>=qj)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Uj(n){return function(){return n}}var xl=function(){try{var n=Dr(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Jj=xl?function(n,e){return xl(n,"toString",{configurable:!0,enumerable:!1,value:Uj(e),writable:!0})}:jj,Gj=Kj(Jj),Yj=9007199254740991,Zj=/^(?:0|[1-9]\d*)$/;function af(n,e){var t=typeof n;return e=e??Yj,!!e&&(t=="number"||t!="symbol"&&Zj.test(n))&&n>-1&&n%1==0&&n<e}function Xj(n,e,t){e=="__proto__"&&xl?xl(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function lf(n,e){return n===e||n!==n&&e!==e}var Qj=Object.prototype,eC=Qj.hasOwnProperty;function tC(n,e,t){var i=n[e];(!(eC.call(n,e)&&lf(i,t))||t===void 0&&!(e in n))&&Xj(n,e,t)}var Vp=Math.max;function nC(n,e,t){return e=Vp(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,o=Vp(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(s),$j(n,this,a)}}var iC=9007199254740991;function uf(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=iC}function rC(n){return n!=null&&uf(n.length)&&!fb(n)}var oC=Object.prototype;function sC(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||oC;return n===t}function aC(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var lC="[object Arguments]";function zp(n){return oo(n)&&Co(n)==lC}var hb=Object.prototype,uC=hb.hasOwnProperty,cC=hb.propertyIsEnumerable,cf=zp(function(){return arguments}())?zp:function(n){return oo(n)&&uC.call(n,"callee")&&!cC.call(n,"callee")};function dC(){return!1}var pb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$p=pb&&typeof module=="object"&&module&&!module.nodeType&&module,fC=$p&&$p.exports===pb,qp=fC?zn.Buffer:void 0,hC=qp?qp.isBuffer:void 0,Vc=hC||dC,pC="[object Arguments]",mC="[object Array]",gC="[object Boolean]",yC="[object Date]",bC="[object Error]",kC="[object Function]",vC="[object Map]",wC="[object Number]",xC="[object Object]",_C="[object RegExp]",SC="[object Set]",jC="[object String]",CC="[object WeakMap]",AC="[object ArrayBuffer]",EC="[object DataView]",OC="[object Float32Array]",DC="[object Float64Array]",TC="[object Int8Array]",PC="[object Int16Array]",MC="[object Int32Array]",FC="[object Uint8Array]",BC="[object Uint8ClampedArray]",NC="[object Uint16Array]",IC="[object Uint32Array]",Ae={};Ae[OC]=Ae[DC]=Ae[TC]=Ae[PC]=Ae[MC]=Ae[FC]=Ae[BC]=Ae[NC]=Ae[IC]=!0;Ae[pC]=Ae[mC]=Ae[AC]=Ae[gC]=Ae[EC]=Ae[yC]=Ae[bC]=Ae[kC]=Ae[vC]=Ae[wC]=Ae[xC]=Ae[_C]=Ae[SC]=Ae[jC]=Ae[CC]=!1;function RC(n){return oo(n)&&uf(n.length)&&!!Ae[Co(n)]}function LC(n){return function(e){return n(e)}}var mb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ss=mb&&typeof module=="object"&&module&&!module.nodeType&&module,VC=ss&&ss.exports===mb,Vu=VC&&ub.process,Hp=function(){try{var n=ss&&ss.require&&ss.require("util").types;return n||Vu&&Vu.binding&&Vu.binding("util")}catch{}}(),Wp=Hp&&Hp.isTypedArray,gb=Wp?LC(Wp):RC,zC=Object.prototype,$C=zC.hasOwnProperty;function qC(n,e){var t=oi(n),i=!t&&cf(n),r=!t&&!i&&Vc(n),o=!t&&!i&&!r&&gb(n),s=t||i||r||o,a=s?aC(n.length,String):[],l=a.length;for(var u in n)$C.call(n,u)&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||af(u,l)))&&a.push(u);return a}function HC(n,e){return function(t){return n(e(t))}}var WC=HC(Object.keys,Object),KC=Object.prototype,UC=KC.hasOwnProperty;function JC(n){if(!sC(n))return WC(n);var e=[];for(var t in Object(n))UC.call(n,t)&&t!="constructor"&&e.push(t);return e}function GC(n){return rC(n)?qC(n):JC(n)}var YC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZC=/^\w*$/;function XC(n,e){if(oi(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Yl(n)?!0:ZC.test(n)||!YC.test(n)||e!=null&&n in Object(e)}var Cs=Dr(Object,"create");function QC(){this.__data__=Cs?Cs(null):{},this.size=0}function e6(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var t6="__lodash_hash_undefined__",n6=Object.prototype,i6=n6.hasOwnProperty;function r6(n){var e=this.__data__;if(Cs){var t=e[n];return t===t6?void 0:t}return i6.call(e,n)?e[n]:void 0}var o6=Object.prototype,s6=o6.hasOwnProperty;function a6(n){var e=this.__data__;return Cs?e[n]!==void 0:s6.call(e,n)}var l6="__lodash_hash_undefined__";function u6(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Cs&&e===void 0?l6:e,this}function wr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}wr.prototype.clear=QC;wr.prototype.delete=e6;wr.prototype.get=r6;wr.prototype.has=a6;wr.prototype.set=u6;function c6(){this.__data__=[],this.size=0}function Zl(n,e){for(var t=n.length;t--;)if(lf(n[t][0],e))return t;return-1}var d6=Array.prototype,f6=d6.splice;function h6(n){var e=this.__data__,t=Zl(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():f6.call(e,t,1),--this.size,!0}function p6(n){var e=this.__data__,t=Zl(e,n);return t<0?void 0:e[t][1]}function m6(n){return Zl(this.__data__,n)>-1}function g6(n,e){var t=this.__data__,i=Zl(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function ci(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ci.prototype.clear=c6;ci.prototype.delete=h6;ci.prototype.get=p6;ci.prototype.has=m6;ci.prototype.set=g6;var As=Dr(zn,"Map");function y6(){this.size=0,this.__data__={hash:new wr,map:new(As||ci),string:new wr}}function b6(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Xl(n,e){var t=n.__data__;return b6(e)?t[typeof e=="string"?"string":"hash"]:t.map}function k6(n){var e=Xl(this,n).delete(n);return this.size-=e?1:0,e}function v6(n){return Xl(this,n).get(n)}function w6(n){return Xl(this,n).has(n)}function x6(n,e){var t=Xl(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function di(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}di.prototype.clear=y6;di.prototype.delete=k6;di.prototype.get=v6;di.prototype.has=w6;di.prototype.set=x6;var _6="Expected a function";function df(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(_6);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var s=n.apply(this,i);return t.cache=o.set(r,s)||o,s};return t.cache=new(df.Cache||di),t}df.Cache=di;var S6=500;function j6(n){var e=df(n,function(i){return t.size===S6&&t.clear(),i}),t=e.cache;return e}var C6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A6=/\\(\\)?/g,E6=j6(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(C6,function(t,i,r,o){e.push(r?o.replace(A6,"$1"):i||t)}),e});function O6(n){return n==null?"":db(n)}function Ql(n,e){return oi(n)?n:XC(n,e)?[n]:E6(O6(n))}var D6=1/0;function ff(n){if(typeof n=="string"||Yl(n))return n;var e=n+"";return e=="0"&&1/n==-D6?"-0":e}function yb(n,e){e=Ql(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[ff(e[t++])];return t&&t==i?n:void 0}function T6(n,e,t){var i=n==null?void 0:yb(n,e);return i===void 0?t:i}function bb(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var Kp=In?In.isConcatSpreadable:void 0;function P6(n){return oi(n)||cf(n)||!!(Kp&&n&&n[Kp])}function M6(n,e,t,i,r){var o=-1,s=n.length;for(t||(t=P6),r||(r=[]);++o<s;){var a=n[o];t(a)?bb(r,a):r[r.length]=a}return r}function F6(n){var e=n==null?0:n.length;return e?M6(n):[]}function B6(n){return Gj(nC(n,void 0,F6),n+"")}function N6(){this.__data__=new ci,this.size=0}function I6(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function R6(n){return this.__data__.get(n)}function L6(n){return this.__data__.has(n)}var V6=200;function z6(n,e){var t=this.__data__;if(t instanceof ci){var i=t.__data__;if(!As||i.length<V6-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new di(i)}return t.set(n,e),this.size=t.size,this}function Ri(n){var e=this.__data__=new ci(n);this.size=e.size}Ri.prototype.clear=N6;Ri.prototype.delete=I6;Ri.prototype.get=R6;Ri.prototype.has=L6;Ri.prototype.set=z6;function $6(n,e){for(var t=-1,i=n==null?0:n.length,r=0,o=[];++t<i;){var s=n[t];e(s,t,n)&&(o[r++]=s)}return o}function q6(){return[]}var H6=Object.prototype,W6=H6.propertyIsEnumerable,Up=Object.getOwnPropertySymbols,K6=Up?function(n){return n==null?[]:(n=Object(n),$6(Up(n),function(e){return W6.call(n,e)}))}:q6;function U6(n,e,t){var i=e(n);return oi(n)?i:bb(i,t(n))}function Jp(n){return U6(n,GC,K6)}var zc=Dr(zn,"DataView"),$c=Dr(zn,"Promise"),qc=Dr(zn,"Set"),Gp="[object Map]",J6="[object Object]",Yp="[object Promise]",Zp="[object Set]",Xp="[object WeakMap]",Qp="[object DataView]",G6=Or(zc),Y6=Or(As),Z6=Or($c),X6=Or(qc),Q6=Or(Lc),bi=Co;(zc&&bi(new zc(new ArrayBuffer(1)))!=Qp||As&&bi(new As)!=Gp||$c&&bi($c.resolve())!=Yp||qc&&bi(new qc)!=Zp||Lc&&bi(new Lc)!=Xp)&&(bi=function(n){var e=Co(n),t=e==J6?n.constructor:void 0,i=t?Or(t):"";if(i)switch(i){case G6:return Qp;case Y6:return Gp;case Z6:return Yp;case X6:return Zp;case Q6:return Xp}return e});var em=zn.Uint8Array,eA="__lodash_hash_undefined__";function tA(n){return this.__data__.set(n,eA),this}function nA(n){return this.__data__.has(n)}function _l(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new di;++e<t;)this.add(n[e])}_l.prototype.add=_l.prototype.push=tA;_l.prototype.has=nA;function iA(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function rA(n,e){return n.has(e)}var oA=1,sA=2;function kb(n,e,t,i,r,o){var s=t&oA,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var d=-1,f=!0,p=t&sA?new _l:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var h=n[d],m=e[d];if(i)var g=s?i(m,h,d,e,n,o):i(h,m,d,n,e,o);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!iA(e,function(y,k){if(!rA(p,k)&&(h===y||r(h,y,t,i,o)))return p.push(k)})){f=!1;break}}else if(!(h===m||r(h,m,t,i,o))){f=!1;break}}return o.delete(n),o.delete(e),f}function aA(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function lA(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var uA=1,cA=2,dA="[object Boolean]",fA="[object Date]",hA="[object Error]",pA="[object Map]",mA="[object Number]",gA="[object RegExp]",yA="[object Set]",bA="[object String]",kA="[object Symbol]",vA="[object ArrayBuffer]",wA="[object DataView]",tm=In?In.prototype:void 0,zu=tm?tm.valueOf:void 0;function xA(n,e,t,i,r,o,s){switch(t){case wA:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case vA:return!(n.byteLength!=e.byteLength||!o(new em(n),new em(e)));case dA:case fA:case mA:return lf(+n,+e);case hA:return n.name==e.name&&n.message==e.message;case gA:case bA:return n==e+"";case pA:var a=aA;case yA:var l=i&uA;if(a||(a=lA),n.size!=e.size&&!l)return!1;var u=s.get(n);if(u)return u==e;i|=cA,s.set(n,e);var c=kb(a(n),a(e),i,r,o,s);return s.delete(n),c;case kA:if(zu)return zu.call(n)==zu.call(e)}return!1}var _A=1,SA=Object.prototype,jA=SA.hasOwnProperty;function CA(n,e,t,i,r,o){var s=t&_A,a=Jp(n),l=a.length,u=Jp(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:jA.call(e,f)))return!1}var p=o.get(n),h=o.get(e);if(p&&h)return p==e&&h==n;var m=!0;o.set(n,e),o.set(e,n);for(var g=s;++d<l;){f=a[d];var y=n[f],k=e[f];if(i)var x=s?i(k,y,f,e,n,o):i(y,k,f,n,e,o);if(!(x===void 0?y===k||r(y,k,t,i,o):x)){m=!1;break}g||(g=f=="constructor")}if(m&&!g){var v=n.constructor,w=e.constructor;v!=w&&"constructor"in n&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(n),o.delete(e),m}var AA=1,nm="[object Arguments]",im="[object Array]",ja="[object Object]",EA=Object.prototype,rm=EA.hasOwnProperty;function OA(n,e,t,i,r,o){var s=oi(n),a=oi(e),l=s?im:bi(n),u=a?im:bi(e);l=l==nm?ja:l,u=u==nm?ja:u;var c=l==ja,d=u==ja,f=l==u;if(f&&Vc(n)){if(!Vc(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Ri),s||gb(n)?kb(n,e,t,i,r,o):xA(n,e,l,t,i,r,o);if(!(t&AA)){var p=c&&rm.call(n,"__wrapped__"),h=d&&rm.call(e,"__wrapped__");if(p||h){var m=p?n.value():n,g=h?e.value():e;return o||(o=new Ri),r(m,g,t,i,o)}}return f?(o||(o=new Ri),CA(n,e,t,i,r,o)):!1}function vb(n,e,t,i,r){return n===e?!0:n==null||e==null||!oo(n)&&!oo(e)?n!==n&&e!==e:OA(n,e,t,i,vb,r)}function DA(n,e){return n!=null&&e in Object(n)}function TA(n,e,t){e=Ql(e,n);for(var i=-1,r=e.length,o=!1;++i<r;){var s=ff(e[i]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++i!=r?o:(r=n==null?0:n.length,!!r&&uf(r)&&af(s,r)&&(oi(n)||cf(n)))}function PA(n,e){return n!=null&&TA(n,e,DA)}var $u=function(){return zn.Date.now()},MA="Expected a function",FA=Math.max,BA=Math.min;function Es(n,e,t){var i,r,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(MA);e=Rp(e)||0,vr(t)&&(c=!!t.leading,d="maxWait"in t,o=d?FA(Rp(t.maxWait)||0,e):o,f="trailing"in t?!!t.trailing:f);function p(_){var S=i,B=r;return i=r=void 0,u=_,s=n.apply(B,S),s}function h(_){return u=_,a=setTimeout(y,e),c?p(_):s}function m(_){var S=_-l,B=_-u,O=e-S;return d?BA(O,o-B):O}function g(_){var S=_-l,B=_-u;return l===void 0||S>=e||S<0||d&&B>=o}function y(){var _=$u();if(g(_))return k(_);a=setTimeout(y,m(_))}function k(_){return a=void 0,f&&i?p(_):(i=r=void 0,s)}function x(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function v(){return a===void 0?s:k($u())}function w(){var _=$u(),S=g(_);if(i=arguments,r=this,l=_,S){if(a===void 0)return h(l);if(d)return clearTimeout(a),a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return w.cancel=x,w.flush=v,w}function Sl(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var r=n[e];i[r[0]]=r[1]}return i}function wb(n,e){return vb(n,e)}function ti(n){return n==null}function NA(n){return n===void 0}function IA(n,e,t,i){if(!vr(n))return n;e=Ql(e,n);for(var r=-1,o=e.length,s=o-1,a=n;a!=null&&++r<o;){var l=ff(e[r]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=s){var c=a[l];u=void 0,u===void 0&&(u=vr(c)?c:af(e[r+1])?[]:{})}tC(a,l,u),a=a[l]}return n}function RA(n,e,t){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=yb(n,s);t(a,s)&&IA(o,Ql(s,n),a)}return o}function LA(n,e){return RA(n,e,function(t,i){return PA(n,i)})}var xb=B6(function(n,e){return n==null?{}:LA(n,e)});const Go=n=>n===void 0,hf=n=>typeof n=="boolean",$e=n=>typeof n=="number",jl=n=>typeof Element>"u"?!1:n instanceof Element,VA=n=>Xn(n)?!Number.isNaN(Number(n)):!1;class zA extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function _b(n,e){throw new zA(`[${n}] ${e}`)}function Sb(n,e="px"){if(!n)return"";if($e(n)||VA(n))return`${n}${e}`;if(Xn(n))return n}/*! Element Plus Icons Vue v2.3.1 */var $A=Q({name:"ArrowDown",__name:"arrow-down",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),qA=$A,HA=Q({name:"ArrowUp",__name:"arrow-up",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),WA=HA,KA=Q({name:"CircleCheck",__name:"circle-check",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),UA=KA,JA=Q({name:"CircleClose",__name:"circle-close",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),jb=JA,GA=Q({name:"Hide",__name:"hide",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),YA=GA,ZA=Q({name:"Loading",__name:"loading",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Cb=ZA,XA=Q({name:"Minus",__name:"minus",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),QA=XA,eE=Q({name:"Plus",__name:"plus",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),tE=eE,nE=Q({name:"View",__name:"view",setup(n){return(e,t)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),iE=nE;const Ab="__epPropKey",ue=n=>n,rE=n=>hs(n)&&!!n[Ab],eu=(n,e)=>{if(!hs(n)||rE(n))return n;const{values:t,required:i,default:r,type:o,validator:s}=n,l={type:o,required:!!i,validator:t||s?u=>{let c=!1,d=[];if(t&&(d=Array.from(t),oh(n,"default")&&d.push(r),c||(c=d.includes(u))),s&&(c||(c=s(u))),!c&&d.length>0){const f=[...new Set(d)].map(p=>JSON.stringify(p)).join(", ");Wk(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[Ab]:!0};return oh(n,"default")&&(l.default=r),l},Ie=n=>Sl(Object.entries(n).map(([e,t])=>[e,eu(t,e)])),Os=ue([String,Object,Function]),oE={validating:Cb,success:UA,error:jb},Ki=(n,e)=>{if(n.install=t=>{for(const i of[n,...Object.values(e??{})])t.component(i.name,i)},e)for(const[t,i]of Object.entries(e))n[t]=i;return n},sE=(n,e)=>(n.install=t=>{t.directive(e,n)},n),aE=n=>(n.install=ps,n),Ds={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},zt="update:modelValue",tu="change",pr="input",lE=["","default","small","large"],uE=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),cE=n=>n,dE=["class","style"],fE=/^on[A-Z]/,hE=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,i=D(()=>((t==null?void 0:t.value)||[]).concat(dE)),r=Mn();return r?D(()=>{var o;return Sl(Object.entries((o=r.proxy)==null?void 0:o.$attrs).filter(([s])=>!i.value.includes(s)&&!(e&&fE.test(s))))}):D(()=>({}))},nu=({from:n,replacement:e,scope:t,version:i,ref:r,type:o="API"},s)=>{de(()=>b(s),a=>{},{immediate:!0})};var pE={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const mE=n=>(e,t)=>gE(e,t,b(n)),gE=(n,e,t)=>T6(t,n,n).replace(/\{(\w+)\}/g,(i,r)=>{var o;return`${(o=e==null?void 0:e[r])!=null?o:`{${r}}`}`}),yE=n=>{const e=D(()=>b(n).name),t=Kk(n)?n:U(n);return{lang:e,locale:t,t:mE(n)}},bE=Symbol("localeContextKey"),Eb=n=>{const e=De(bE,U());return yE(D(()=>e.value||pE))},qu="el",kE="is-",Yi=(n,e,t,i,r)=>{let o=`${n}-${e}`;return t&&(o+=`-${t}`),i&&(o+=`__${i}`),r&&(o+=`--${r}`),o},vE=Symbol("namespaceContextKey"),pf=n=>{const e=Mn()?De(vE,U(qu)):U(qu);return D(()=>b(e)||qu)},bt=(n,e)=>{const t=pf();return{namespace:t,b:(m="")=>Yi(t.value,n,m,"",""),e:m=>m?Yi(t.value,n,"",m,""):"",m:m=>m?Yi(t.value,n,"","",m):"",be:(m,g)=>m&&g?Yi(t.value,n,m,g,""):"",em:(m,g)=>m&&g?Yi(t.value,n,"",m,g):"",bm:(m,g)=>m&&g?Yi(t.value,n,m,"",g):"",bem:(m,g,y)=>m&&g&&y?Yi(t.value,n,m,g,y):"",is:(m,...g)=>{const y=g.length>=1?g[0]:!0;return m&&y?`${kE}${m}`:""},cssVar:m=>{const g={};for(const y in m)m[y]&&(g[`--${t.value}-${y}`]=m[y]);return g},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const g={};for(const y in m)m[y]&&(g[`--${t.value}-${n}-${y}`]=m[y]);return g},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}},wE=eu({type:ue(Boolean),default:null}),xE=eu({type:ue(Function)}),Ob=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,i=[e],r={[n]:wE,[t]:xE};return{useModelToggle:({indicator:s,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:d})=>{const f=Mn(),{emit:p}=f,h=f.props,m=D(()=>tr(h[t])),g=D(()=>h[n]===null),y=S=>{s.value!==!0&&(s.value=!0,a&&(a.value=S),tr(c)&&c(S))},k=S=>{s.value!==!1&&(s.value=!1,a&&(a.value=S),tr(d)&&d(S))},x=S=>{if(h.disabled===!0||tr(u)&&!u())return;const B=m.value&&Yt;B&&p(e,!0),(g.value||!B)&&y(S)},v=S=>{if(h.disabled===!0||!Yt)return;const B=m.value&&Yt;B&&p(e,!1),(g.value||!B)&&k(S)},w=S=>{hf(S)&&(h.disabled&&S?m.value&&p(e,!1):s.value!==S&&(S?y():k()))},_=()=>{s.value?v():x()};return de(()=>h[n],w),l&&f.appContext.config.globalProperties.$route!==void 0&&de(()=>({...f.proxy.$route}),()=>{l.value&&s.value&&v()}),et(()=>{w(h[n])}),{hide:v,show:x,toggle:_,hasUpdateHandler:m}},useModelToggleProps:r,useModelToggleEmits:i}};Ob("modelValue");const Db=n=>{const e=Mn();return D(()=>{var t,i;return(i=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:i[n]})};var Mt="top",en="bottom",tn="right",Ft="left",mf="auto",ia=[Mt,en,tn,Ft],so="start",Ts="end",_E="clippingParents",Tb="viewport",Io="popper",SE="reference",om=ia.reduce(function(n,e){return n.concat([e+"-"+so,e+"-"+Ts])},[]),ra=[].concat(ia,[mf]).reduce(function(n,e){return n.concat([e,e+"-"+so,e+"-"+Ts])},[]),jE="beforeRead",CE="read",AE="afterRead",EE="beforeMain",OE="main",DE="afterMain",TE="beforeWrite",PE="write",ME="afterWrite",FE=[jE,CE,AE,EE,OE,DE,TE,PE,ME];function Rn(n){return n?(n.nodeName||"").toLowerCase():null}function mn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ao(n){var e=mn(n).Element;return n instanceof e||n instanceof Element}function Zt(n){var e=mn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function gf(n){if(typeof ShadowRoot>"u")return!1;var e=mn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function BE(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!Zt(o)||!Rn(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function NE(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,u){return l[u]="",l},{});!Zt(r)||!Rn(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var Pb={name:"applyStyles",enabled:!0,phase:"write",fn:BE,effect:NE,requires:["computeStyles"]};function Pn(n){return n.split("-")[0]}var mr=Math.max,Cl=Math.min,lo=Math.round;function uo(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),i=1,r=1;if(Zt(n)&&e){var o=n.offsetHeight,s=n.offsetWidth;s>0&&(i=lo(t.width)/s||1),o>0&&(r=lo(t.height)/o||1)}return{width:t.width/i,height:t.height/r,top:t.top/r,right:t.right/i,bottom:t.bottom/r,left:t.left/i,x:t.left/i,y:t.top/r}}function yf(n){var e=uo(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Mb(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&gf(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function si(n){return mn(n).getComputedStyle(n)}function IE(n){return["table","td","th"].indexOf(Rn(n))>=0}function Ui(n){return((ao(n)?n.ownerDocument:n.document)||window.document).documentElement}function iu(n){return Rn(n)==="html"?n:n.assignedSlot||n.parentNode||(gf(n)?n.host:null)||Ui(n)}function sm(n){return!Zt(n)||si(n).position==="fixed"?null:n.offsetParent}function RE(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Zt(n)){var i=si(n);if(i.position==="fixed")return null}var r=iu(n);for(gf(r)&&(r=r.host);Zt(r)&&["html","body"].indexOf(Rn(r))<0;){var o=si(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function oa(n){for(var e=mn(n),t=sm(n);t&&IE(t)&&si(t).position==="static";)t=sm(t);return t&&(Rn(t)==="html"||Rn(t)==="body"&&si(t).position==="static")?e:t||RE(n)||e}function bf(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function as(n,e,t){return mr(n,Cl(e,t))}function LE(n,e,t){var i=as(n,e,t);return i>t?t:i}function Fb(){return{top:0,right:0,bottom:0,left:0}}function Bb(n){return Object.assign({},Fb(),n)}function Nb(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var VE=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,Bb(typeof n!="number"?n:Nb(n,ia))};function zE(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Pn(t.placement),l=bf(a),u=[Ft,tn].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=VE(r.padding,t),f=yf(o),p=l==="y"?Mt:Ft,h=l==="y"?en:tn,m=t.rects.reference[c]+t.rects.reference[l]-s[l]-t.rects.popper[c],g=s[l]-t.rects.reference[l],y=oa(o),k=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,x=m/2-g/2,v=d[p],w=k-f[c]-d[h],_=k/2-f[c]/2+x,S=as(v,_,w),B=l;t.modifiersData[i]=(e={},e[B]=S,e.centerOffset=S-_,e)}}function $E(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!Mb(e.elements.popper,r)||(e.elements.arrow=r))}var qE={name:"arrow",enabled:!0,phase:"main",fn:zE,effect:$E,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function co(n){return n.split("-")[1]}var HE={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WE(n){var e=n.x,t=n.y,i=window,r=i.devicePixelRatio||1;return{x:lo(e*r)/r||0,y:lo(t*r)/r||0}}function am(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,f=s.x,p=f===void 0?0:f,h=s.y,m=h===void 0?0:h,g=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),x=Ft,v=Mt,w=window;if(u){var _=oa(t),S="clientHeight",B="clientWidth";if(_===mn(t)&&(_=Ui(t),si(_).position!=="static"&&a==="absolute"&&(S="scrollHeight",B="scrollWidth")),_=_,r===Mt||(r===Ft||r===tn)&&o===Ts){v=en;var O=d&&_===w&&w.visualViewport?w.visualViewport.height:_[S];m-=O-i.height,m*=l?1:-1}if(r===Ft||(r===Mt||r===en)&&o===Ts){x=tn;var L=d&&_===w&&w.visualViewport?w.visualViewport.width:_[B];p-=L-i.width,p*=l?1:-1}}var F=Object.assign({position:a},u&&HE),I=c===!0?WE({x:p,y:m}):{x:p,y:m};if(p=I.x,m=I.y,l){var W;return Object.assign({},F,(W={},W[v]=k?"0":"",W[x]=y?"0":"",W.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",W))}return Object.assign({},F,(e={},e[v]=k?m+"px":"",e[x]=y?p+"px":"",e.transform="",e))}function KE(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:Pn(e.placement),variation:co(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,am(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,am(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ib={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:KE,data:{}},Ca={passive:!0};function UE(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=mn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",t.update,Ca)}),a&&l.addEventListener("resize",t.update,Ca),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",t.update,Ca)}),a&&l.removeEventListener("resize",t.update,Ca)}}var Rb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UE,data:{}},JE={left:"right",right:"left",bottom:"top",top:"bottom"};function Za(n){return n.replace(/left|right|bottom|top/g,function(e){return JE[e]})}var GE={start:"end",end:"start"};function lm(n){return n.replace(/start|end/g,function(e){return GE[e]})}function kf(n){var e=mn(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function vf(n){return uo(Ui(n)).left+kf(n).scrollLeft}function YE(n){var e=mn(n),t=Ui(n),i=e.visualViewport,r=t.clientWidth,o=t.clientHeight,s=0,a=0;return i&&(r=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:r,height:o,x:s+vf(n),y:a}}function ZE(n){var e,t=Ui(n),i=kf(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=mr(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=mr(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+vf(n),l=-i.scrollTop;return si(r||t).direction==="rtl"&&(a+=mr(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function wf(n){var e=si(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Lb(n){return["html","body","#document"].indexOf(Rn(n))>=0?n.ownerDocument.body:Zt(n)&&wf(n)?n:Lb(iu(n))}function ls(n,e){var t;e===void 0&&(e=[]);var i=Lb(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=mn(i),s=r?[o].concat(o.visualViewport||[],wf(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(ls(iu(s)))}function Hc(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function XE(n){var e=uo(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function um(n,e){return e===Tb?Hc(YE(n)):ao(e)?XE(e):Hc(ZE(Ui(n)))}function QE(n){var e=ls(iu(n)),t=["absolute","fixed"].indexOf(si(n).position)>=0,i=t&&Zt(n)?oa(n):n;return ao(i)?e.filter(function(r){return ao(r)&&Mb(r,i)&&Rn(r)!=="body"}):[]}function e4(n,e,t){var i=e==="clippingParents"?QE(n):[].concat(e),r=[].concat(i,[t]),o=r[0],s=r.reduce(function(a,l){var u=um(n,l);return a.top=mr(u.top,a.top),a.right=Cl(u.right,a.right),a.bottom=Cl(u.bottom,a.bottom),a.left=mr(u.left,a.left),a},um(n,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Vb(n){var e=n.reference,t=n.element,i=n.placement,r=i?Pn(i):null,o=i?co(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case Mt:l={x:s,y:e.y-t.height};break;case en:l={x:s,y:e.y+e.height};break;case tn:l={x:e.x+e.width,y:a};break;case Ft:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?bf(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case so:l[u]=l[u]-(e[c]/2-t[c]/2);break;case Ts:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function Ps(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.boundary,s=o===void 0?_E:o,a=t.rootBoundary,l=a===void 0?Tb:a,u=t.elementContext,c=u===void 0?Io:u,d=t.altBoundary,f=d===void 0?!1:d,p=t.padding,h=p===void 0?0:p,m=Bb(typeof h!="number"?h:Nb(h,ia)),g=c===Io?SE:Io,y=n.rects.popper,k=n.elements[f?g:c],x=e4(ao(k)?k:k.contextElement||Ui(n.elements.popper),s,l),v=uo(n.elements.reference),w=Vb({reference:v,element:y,strategy:"absolute",placement:r}),_=Hc(Object.assign({},y,w)),S=c===Io?_:v,B={top:x.top-S.top+m.top,bottom:S.bottom-x.bottom+m.bottom,left:x.left-S.left+m.left,right:S.right-x.right+m.right},O=n.modifiersData.offset;if(c===Io&&O){var L=O[r];Object.keys(B).forEach(function(F){var I=[tn,en].indexOf(F)>=0?1:-1,W=[Mt,en].indexOf(F)>=0?"y":"x";B[F]+=L[W]*I})}return B}function t4(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?ra:l,c=co(i),d=c?a?om:om.filter(function(h){return co(h)===c}):ia,f=d.filter(function(h){return u.indexOf(h)>=0});f.length===0&&(f=d);var p=f.reduce(function(h,m){return h[m]=Ps(n,{placement:m,boundary:r,rootBoundary:o,padding:s})[Pn(m)],h},{});return Object.keys(p).sort(function(h,m){return p[h]-p[m]})}function n4(n){if(Pn(n)===mf)return[];var e=Za(n);return[lm(n),e,lm(e)]}function i4(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,c=t.boundary,d=t.rootBoundary,f=t.altBoundary,p=t.flipVariations,h=p===void 0?!0:p,m=t.allowedAutoPlacements,g=e.options.placement,y=Pn(g),k=y===g,x=l||(k||!h?[Za(g)]:n4(g)),v=[g].concat(x).reduce(function(we,Ce){return we.concat(Pn(Ce)===mf?t4(e,{placement:Ce,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):Ce)},[]),w=e.rects.reference,_=e.rects.popper,S=new Map,B=!0,O=v[0],L=0;L<v.length;L++){var F=v[L],I=Pn(F),W=co(F)===so,Z=[Mt,en].indexOf(I)>=0,A=Z?"width":"height",V=Ps(e,{placement:F,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),M=Z?W?tn:Ft:W?en:Mt;w[A]>_[A]&&(M=Za(M));var X=Za(M),G=[];if(o&&G.push(V[I]<=0),a&&G.push(V[M]<=0,V[X]<=0),G.every(function(we){return we})){O=F,B=!1;break}S.set(F,G)}if(B)for(var ee=h?3:1,me=function(we){var Ce=v.find(function(se){var We=S.get(se);if(We)return We.slice(0,we).every(function(Ke){return Ke})});if(Ce)return O=Ce,"break"},J=ee;J>0;J--){var te=me(J);if(te==="break")break}e.placement!==O&&(e.modifiersData[i]._skip=!0,e.placement=O,e.reset=!0)}}var r4={name:"flip",enabled:!0,phase:"main",fn:i4,requiresIfExists:["offset"],data:{_skip:!1}};function cm(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function dm(n){return[Mt,tn,en,Ft].some(function(e){return n[e]>=0})}function o4(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ps(e,{elementContext:"reference"}),a=Ps(e,{altBoundary:!0}),l=cm(s,i),u=cm(a,r,o),c=dm(l),d=dm(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var s4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:o4};function a4(n,e,t){var i=Pn(n),r=[Ft,Mt].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Ft,tn].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function l4(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=ra.reduce(function(c,d){return c[d]=a4(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}var u4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:l4};function c4(n){var e=n.state,t=n.name;e.modifiersData[t]=Vb({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var zb={name:"popperOffsets",enabled:!0,phase:"read",fn:c4,data:{}};function d4(n){return n==="x"?"y":"x"}function f4(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,d=t.padding,f=t.tether,p=f===void 0?!0:f,h=t.tetherOffset,m=h===void 0?0:h,g=Ps(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Pn(e.placement),k=co(e.placement),x=!k,v=bf(y),w=d4(v),_=e.modifiersData.popperOffsets,S=e.rects.reference,B=e.rects.popper,O=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,L=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(_){if(o){var W,Z=v==="y"?Mt:Ft,A=v==="y"?en:tn,V=v==="y"?"height":"width",M=_[v],X=M+g[Z],G=M-g[A],ee=p?-B[V]/2:0,me=k===so?S[V]:B[V],J=k===so?-B[V]:-S[V],te=e.elements.arrow,we=p&&te?yf(te):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fb(),se=Ce[Z],We=Ce[A],Ke=as(0,S[V],we[V]),Oo=x?S[V]/2-ee-Ke-se-L.mainAxis:me-Ke-se-L.mainAxis,Ue=x?-S[V]/2+ee+Ke+We+L.mainAxis:J+Ke+We+L.mainAxis,wt=e.elements.arrow&&oa(e.elements.arrow),Do=wt?v==="y"?wt.clientTop||0:wt.clientLeft||0:0,To=(W=F==null?void 0:F[v])!=null?W:0,pa=M+Oo-To-Do,ma=M+Ue-To,Po=as(p?Cl(X,pa):X,M,p?mr(G,ma):G);_[v]=Po,I[v]=Po-M}if(a){var ga,ya=v==="x"?Mt:Ft,gu=v==="x"?en:tn,qn=_[w],Pr=w==="y"?"height":"width",Mo=qn+g[ya],ba=qn-g[gu],Mr=[Mt,Ft].indexOf(y)!==-1,N=(ga=F==null?void 0:F[w])!=null?ga:0,he=Mr?Mo:qn-S[Pr]-B[Pr]-N+L.altAxis,Re=Mr?qn+S[Pr]+B[Pr]-N-L.altAxis:ba,Gi=p&&Mr?LE(he,qn,Re):as(p?he:Mo,qn,p?Re:ba);_[w]=Gi,I[w]=Gi-qn}e.modifiersData[i]=I}}var h4={name:"preventOverflow",enabled:!0,phase:"main",fn:f4,requiresIfExists:["offset"]};function p4(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function m4(n){return n===mn(n)||!Zt(n)?kf(n):p4(n)}function g4(n){var e=n.getBoundingClientRect(),t=lo(e.width)/n.offsetWidth||1,i=lo(e.height)/n.offsetHeight||1;return t!==1||i!==1}function y4(n,e,t){t===void 0&&(t=!1);var i=Zt(e),r=Zt(e)&&g4(e),o=Ui(e),s=uo(n,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Rn(e)!=="body"||wf(o))&&(a=m4(e)),Zt(e)?(l=uo(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=vf(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function b4(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function k4(n){var e=b4(n);return FE.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function v4(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function w4(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var fm={placement:"bottom",modifiers:[],strategy:"absolute"};function hm(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function xf(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?fm:r;return function(s,a,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},fm,o),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},c=[],d=!1,f={state:u,setOptions:function(m){var g=typeof m=="function"?m(u.options):m;h(),u.options=Object.assign({},o,u.options,g),u.scrollParents={reference:ao(s)?ls(s):s.contextElement?ls(s.contextElement):[],popper:ls(a)};var y=k4(w4([].concat(i,u.options.modifiers)));return u.orderedModifiers=y.filter(function(k){return k.enabled}),p(),f.update()},forceUpdate:function(){if(!d){var m=u.elements,g=m.reference,y=m.popper;if(hm(g,y)){u.rects={reference:y4(g,oa(y),u.options.strategy==="fixed"),popper:yf(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(B){return u.modifiersData[B.name]=Object.assign({},B.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var x=u.orderedModifiers[k],v=x.fn,w=x.options,_=w===void 0?{}:w,S=x.name;typeof v=="function"&&(u=v({state:u,options:_,name:S,instance:f})||u)}}}},update:v4(function(){return new Promise(function(m){f.forceUpdate(),m(u)})}),destroy:function(){h(),d=!0}};if(!hm(s,a))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var g=m.name,y=m.options,k=y===void 0?{}:y,x=m.effect;if(typeof x=="function"){var v=x({state:u,name:g,instance:f,options:k}),w=function(){};c.push(v||w)}})}function h(){c.forEach(function(m){return m()}),c=[]}return f}}xf();var x4=[Rb,zb,Ib,Pb];xf({defaultModifiers:x4});var _4=[Rb,zb,Ib,Pb,u4,r4,h4,qE,s4],S4=xf({defaultModifiers:_4});const j4=(n,e,t={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=C4(l);Object.assign(s.value,u)},requires:["computeStyles"]},r=D(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:d}=b(t);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...d||[],i,{name:"applyStyles",enabled:!1}]}}),o=qr(),s=U({styles:{popper:{position:b(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return de(r,l=>{const u=b(o);u&&u.setOptions(l)},{deep:!0}),de([n,e],([l,u])=>{a(),!(!l||!u)&&(o.value=S4(l,u,b(r)))}),rn(()=>{a()}),{state:D(()=>{var l;return{...((l=b(o))==null?void 0:l.state)||{}}}),styles:D(()=>b(s).styles),attributes:D(()=>b(s).attributes),update:()=>{var l;return(l=b(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=b(o))==null?void 0:l.forceUpdate()},instanceRef:D(()=>b(o))}};function C4(n){const e=Object.keys(n.elements),t=Sl(e.map(r=>[r,n.styles[r]||{}])),i=Sl(e.map(r=>[r,n.attributes[r]]));return{styles:t,attributes:i}}function pm(){let n;const e=(i,r)=>{t(),n=window.setTimeout(i,r)},t=()=>window.clearTimeout(n);return of(()=>t()),{registerTimeout:e,cancelTimeout:t}}const mm={prefix:Math.floor(Math.random()*1e4),current:0},A4=Symbol("elIdInjection"),$b=()=>Mn()?De(A4,mm):mm,qb=n=>{const e=$b(),t=pf();return D(()=>b(n)||`${t.value}-id-${e.prefix}-${e.current++}`)};let zr=[];const gm=n=>{const e=n;e.key===Ds.esc&&zr.forEach(t=>t(e))},E4=n=>{et(()=>{zr.length===0&&document.addEventListener("keydown",gm),Yt&&zr.push(n)}),rn(()=>{zr=zr.filter(e=>e!==n),zr.length===0&&Yt&&document.removeEventListener("keydown",gm)})};let ym;const Hb=()=>{const n=pf(),e=$b(),t=D(()=>`${n.value}-popper-container-${e.prefix}`),i=D(()=>`#${t.value}`);return{id:t,selector:i}},O4=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},D4=()=>{const{id:n,selector:e}=Hb();return m0(()=>{Yt&&!ym&&!document.body.querySelector(e.value)&&(ym=O4(n.value))}),{id:n,selector:e}},T4=Ie({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),P4=({showAfter:n,hideAfter:e,autoClose:t,open:i,close:r})=>{const{registerTimeout:o}=pm(),{registerTimeout:s,cancelTimeout:a}=pm();return{onOpen:c=>{o(()=>{i(c);const d=b(t);$e(d)&&d>0&&s(()=>{r(c)},d)},b(n))},onClose:c=>{a(),o(()=>{r(c)},b(e))}}},Wb=Symbol("elForwardRef"),M4=n=>{Fn(Wb,{setForwardRef:t=>{n.value=t}})},F4=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),bm={current:0},km=U(0),B4=2e3,vm=Symbol("elZIndexContextKey"),N4=Symbol("zIndexContextKey"),I4=n=>{const e=Mn()?De(vm,bm):bm,t=Mn()?De(N4,void 0):void 0,i=D(()=>{const s=b(t);return $e(s)?s:B4}),r=D(()=>i.value+km.value),o=()=>(e.current++,km.value=e.current,r.value);return!Yt&&De(vm),{initialZIndex:i,currentZIndex:r,nextZIndex:o}};function R4(n){const e=U();function t(){if(n.value==null)return;const{selectionStart:r,selectionEnd:o,value:s}=n.value;if(r==null||o==null)return;const a=s.slice(0,Math.max(0,r)),l=s.slice(Math.max(0,o));e.value={selectionStart:r,selectionEnd:o,value:s,beforeTxt:a,afterTxt:l}}function i(){if(n.value==null||e.value==null)return;const{value:r}=n.value,{beforeTxt:o,afterTxt:s,selectionStart:a}=e.value;if(o==null||s==null||a==null)return;let l=r.length;if(r.endsWith(s))l=r.length-s.length;else if(r.startsWith(o))l=o.length;else{const u=o[a-1],c=r.indexOf(u,a-1);c!==-1&&(l=c+1)}n.value.setSelectionRange(l,l)}return[t,i]}const Ms=eu({type:String,values:lE,required:!1}),L4=Symbol("size"),V4=()=>{const n=De(L4,{});return D(()=>b(n.size)||"")};function z4(n,{afterFocus:e,beforeBlur:t,afterBlur:i}={}){const r=Mn(),{emit:o}=r,s=qr(),a=U(!1),l=d=>{a.value||(a.value=!0,o("focus",d),e==null||e())},u=d=>{var f;tr(t)&&t(d)||d.relatedTarget&&((f=s.value)!=null&&f.contains(d.relatedTarget))||(a.value=!1,o("blur",d),i==null||i())},c=()=>{var d;(d=n.value)==null||d.focus()};return de(s,d=>{d&&d.setAttribute("tabindex","-1")}),rs(s,"click",c),{wrapperRef:s,isFocused:a,handleFocus:l,handleBlur:u}}const $4=Ie({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),sa=n=>xb($4,n),q4=Symbol(),wm=U();function H4(n,e=void 0){const t=Mn()?De(q4,wm):wm;return D(()=>{var i,r;return(r=(i=t.value)==null?void 0:i[n])!=null?r:e})}var tt=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t};const W4=Ie({size:{type:ue([Number,String])},color:{type:String}}),K4=Q({name:"ElIcon",inheritAttrs:!1}),U4=Q({...K4,props:W4,setup(n){const e=n,t=bt("icon"),i=D(()=>{const{size:r,color:o}=e;return!r&&!o?{}:{fontSize:Go(r)?void 0:Sb(r),"--color":o}});return(r,o)=>(P(),H("i",Qn({class:b(t).b(),style:b(i)},r.$attrs),[Pe(r.$slots,"default")],16))}});var J4=tt(U4,[["__file","icon.vue"]]);const Gn=Ki(J4),_f=Symbol("formContextKey"),Al=Symbol("formItemContextKey"),ru=(n,e={})=>{const t=U(void 0),i=e.prop?t:Db("size"),r=e.global?t:V4(),o=e.form?{size:void 0}:De(_f,void 0),s=e.formItem?{size:void 0}:De(Al,void 0);return D(()=>i.value||b(n)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||r.value||"")},ou=n=>{const e=Db("disabled"),t=De(_f,void 0);return D(()=>e.value||b(n)||(t==null?void 0:t.disabled)||!1)},su=()=>{const n=De(_f,void 0),e=De(Al,void 0);return{form:n,formItem:e}},Kb=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:i})=>{t||(t=U(!1)),i||(i=U(!1));const r=U();let o;const s=D(()=>{var a;return!!(!(n.label||n.ariaLabel)&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return et(()=>{o=de([Yn(n,"id"),t],([a,l])=>{const u=a??(l?void 0:qb().value);u!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(i!=null&&i.value)&&!l&&u&&e.addInputId(u)),r.value=u)},{immediate:!0})}),Uk(()=>{o&&o(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:s,inputId:r}};let sn;const G4=`
  height:0 !important;
  visibility:hidden !important;
  ${rj()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Y4=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Z4(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Y4.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:t}}function xm(n,e=1,t){var i;sn||(sn=document.createElement("textarea"),document.body.appendChild(sn));const{paddingSize:r,borderSize:o,boxSizing:s,contextStyle:a}=Z4(n);sn.setAttribute("style",`${a};${G4}`),sn.value=n.value||n.placeholder||"";let l=sn.scrollHeight;const u={};s==="border-box"?l=l+o:s==="content-box"&&(l=l-r),sn.value="";const c=sn.scrollHeight-r;if($e(e)){let d=c*e;s==="border-box"&&(d=d+r+o),l=Math.max(d,l),u.minHeight=`${d}px`}if($e(t)){let d=c*t;s==="border-box"&&(d=d+r+o),l=Math.min(d,l)}return u.height=`${l}px`,(i=sn.parentNode)==null||i.removeChild(sn),sn=void 0,u}const X4=Ie({id:{type:String,default:void 0},size:Ms,disabled:Boolean,modelValue:{type:ue([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ue([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Os},prefixIcon:{type:Os},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ue([Object,Array,String]),default:()=>cE({})},autofocus:Boolean,rows:{type:Number,default:2},...sa(["ariaLabel"])}),Q4={[zt]:n=>Xn(n),input:n=>Xn(n),change:n=>Xn(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},e8=["role"],t8=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],n8=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows"],i8=Q({name:"ElInput",inheritAttrs:!1}),r8=Q({...i8,props:X4,emits:Q4,setup(n,{expose:e,emit:t}){const i=n,r=Jk(),o=g0(),s=D(()=>{const N={};return i.containerRole==="combobox"&&(N["aria-haspopup"]=r["aria-haspopup"],N["aria-owns"]=r["aria-owns"],N["aria-expanded"]=r["aria-expanded"]),N}),a=D(()=>[i.type==="textarea"?g.b():m.b(),m.m(p.value),m.is("disabled",h.value),m.is("exceed",we.value),{[m.b("group")]:o.prepend||o.append,[m.m("prefix")]:o.prefix||i.prefixIcon,[m.m("suffix")]:o.suffix||i.suffixIcon||i.clearable||i.showPassword,[m.bm("suffix","password-clear")]:ee.value&&me.value,[m.b("hidden")]:i.type==="hidden"},r.class]),l=D(()=>[m.e("wrapper"),m.is("focus",L.value)]),u=hE({excludeKeys:D(()=>Object.keys(s.value))}),{form:c,formItem:d}=su(),{inputId:f}=Kb(i,{formItemContext:d}),p=ru(),h=ou(),m=bt("input"),g=bt("textarea"),y=qr(),k=qr(),x=U(!1),v=U(!1),w=U(!1),_=U(),S=qr(i.inputStyle),B=D(()=>y.value||k.value),{wrapperRef:O,isFocused:L,handleFocus:F,handleBlur:I}=z4(B,{afterBlur(){var N;i.validateEvent&&((N=d==null?void 0:d.validate)==null||N.call(d,"blur").catch(he=>void 0))}}),W=D(()=>{var N;return(N=c==null?void 0:c.statusIcon)!=null?N:!1}),Z=D(()=>(d==null?void 0:d.validateState)||""),A=D(()=>Z.value&&oE[Z.value]),V=D(()=>w.value?iE:YA),M=D(()=>[r.style]),X=D(()=>[i.inputStyle,S.value,{resize:i.resize}]),G=D(()=>ti(i.modelValue)?"":String(i.modelValue)),ee=D(()=>i.clearable&&!h.value&&!i.readonly&&!!G.value&&(L.value||x.value)),me=D(()=>i.showPassword&&!h.value&&!i.readonly&&!!G.value&&(!!G.value||L.value)),J=D(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!h.value&&!i.readonly&&!i.showPassword),te=D(()=>G.value.length),we=D(()=>!!J.value&&te.value>Number(i.maxlength)),Ce=D(()=>!!o.suffix||!!i.suffixIcon||ee.value||i.showPassword||J.value||!!Z.value&&W.value),[se,We]=R4(y);X3(k,N=>{if(Ue(),!J.value||i.resize!=="both")return;const he=N[0],{width:Re}=he.contentRect;_.value={right:`calc(100% - ${Re+15+6}px)`}});const Ke=()=>{const{type:N,autosize:he}=i;if(!(!Yt||N!=="textarea"||!k.value))if(he){const Re=hs(he)?he.minRows:void 0,Gi=hs(he)?he.maxRows:void 0,rh=xm(k.value,Re,Gi);S.value={overflowY:"hidden",...rh},_t(()=>{k.value.offsetHeight,S.value=rh})}else S.value={minHeight:xm(k.value).minHeight}},Ue=(N=>{let he=!1;return()=>{var Re;if(he||!i.autosize)return;((Re=k.value)==null?void 0:Re.offsetParent)===null||(N(),he=!0)}})(Ke),wt=()=>{const N=B.value,he=i.formatter?i.formatter(G.value):G.value;!N||N.value===he||(N.value=he)},Do=async N=>{se();let{value:he}=N.target;if(i.formatter&&(he=i.parser?i.parser(he):he),!v.value){if(he===G.value){wt();return}t(zt,he),t("input",he),await _t(),wt(),We()}},To=N=>{t("change",N.target.value)},pa=N=>{t("compositionstart",N),v.value=!0},ma=N=>{var he;t("compositionupdate",N);const Re=(he=N.target)==null?void 0:he.value,Gi=Re[Re.length-1]||"";v.value=!uE(Gi)},Po=N=>{t("compositionend",N),v.value&&(v.value=!1,Do(N))},ga=()=>{w.value=!w.value,ya()},ya=async()=>{var N;await _t(),(N=B.value)==null||N.focus()},gu=()=>{var N;return(N=B.value)==null?void 0:N.blur()},qn=N=>{x.value=!1,t("mouseleave",N)},Pr=N=>{x.value=!0,t("mouseenter",N)},Mo=N=>{t("keydown",N)},ba=()=>{var N;(N=B.value)==null||N.select()},Mr=()=>{t(zt,""),t("change",""),t("clear"),t("input","")};return de(()=>i.modelValue,()=>{var N;_t(()=>Ke()),i.validateEvent&&((N=d==null?void 0:d.validate)==null||N.call(d,"change").catch(he=>void 0))}),de(G,()=>wt()),de(()=>i.type,async()=>{await _t(),wt(),Ke()}),et(()=>{!i.formatter&&i.parser,wt(),_t(Ke)}),nu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},D(()=>!!i.label)),e({input:y,textarea:k,ref:B,textareaStyle:X,autosize:Yn(i,"autosize"),focus:ya,blur:gu,select:ba,clear:Mr,resizeTextarea:Ke}),(N,he)=>(P(),H("div",Qn(b(s),{class:[b(a),{[b(m).bm("group","append")]:N.$slots.append,[b(m).bm("group","prepend")]:N.$slots.prepend}],style:b(M),role:N.containerRole,onMouseenter:Pr,onMouseleave:qn}),[le(" input "),N.type!=="textarea"?(P(),H(pt,{key:0},[le(" prepend slot "),N.$slots.prepend?(P(),H("div",{key:0,class:ne(b(m).be("group","prepend"))},[Pe(N.$slots,"prepend")],2)):le("v-if",!0),z("div",{ref_key:"wrapperRef",ref:O,class:ne(b(l))},[le(" prefix slot "),N.$slots.prefix||N.prefixIcon?(P(),H("span",{key:0,class:ne(b(m).e("prefix"))},[z("span",{class:ne(b(m).e("prefix-inner"))},[Pe(N.$slots,"prefix"),N.prefixIcon?(P(),ge(b(Gn),{key:0,class:ne(b(m).e("icon"))},{default:ae(()=>[(P(),ge(nr(N.prefixIcon)))]),_:1},8,["class"])):le("v-if",!0)],2)],2)):le("v-if",!0),z("input",Qn({id:b(f),ref_key:"input",ref:y,class:b(m).e("inner")},b(u),{minlength:N.minlength,maxlength:N.maxlength,type:N.showPassword?w.value?"text":"password":N.type,disabled:b(h),readonly:N.readonly,autocomplete:N.autocomplete,tabindex:N.tabindex,"aria-label":N.label||N.ariaLabel,placeholder:N.placeholder,style:N.inputStyle,form:N.form,autofocus:N.autofocus,onCompositionstart:pa,onCompositionupdate:ma,onCompositionend:Po,onInput:Do,onFocus:he[0]||(he[0]=(...Re)=>b(F)&&b(F)(...Re)),onBlur:he[1]||(he[1]=(...Re)=>b(I)&&b(I)(...Re)),onChange:To,onKeydown:Mo}),null,16,t8),le(" suffix slot "),b(Ce)?(P(),H("span",{key:1,class:ne(b(m).e("suffix"))},[z("span",{class:ne(b(m).e("suffix-inner"))},[!b(ee)||!b(me)||!b(J)?(P(),H(pt,{key:0},[Pe(N.$slots,"suffix"),N.suffixIcon?(P(),ge(b(Gn),{key:0,class:ne(b(m).e("icon"))},{default:ae(()=>[(P(),ge(nr(N.suffixIcon)))]),_:1},8,["class"])):le("v-if",!0)],64)):le("v-if",!0),b(ee)?(P(),ge(b(Gn),{key:1,class:ne([b(m).e("icon"),b(m).e("clear")]),onMousedown:ur(b(ps),["prevent"]),onClick:Mr},{default:ae(()=>[ve(b(jb))]),_:1},8,["class","onMousedown"])):le("v-if",!0),b(me)?(P(),ge(b(Gn),{key:2,class:ne([b(m).e("icon"),b(m).e("password")]),onClick:ga},{default:ae(()=>[(P(),ge(nr(b(V))))]),_:1},8,["class"])):le("v-if",!0),b(J)?(P(),H("span",{key:3,class:ne(b(m).e("count"))},[z("span",{class:ne(b(m).e("count-inner"))},qe(b(te))+" / "+qe(N.maxlength),3)],2)):le("v-if",!0),b(Z)&&b(A)&&b(W)?(P(),ge(b(Gn),{key:4,class:ne([b(m).e("icon"),b(m).e("validateIcon"),b(m).is("loading",b(Z)==="validating")])},{default:ae(()=>[(P(),ge(nr(b(A))))]),_:1},8,["class"])):le("v-if",!0)],2)],2)):le("v-if",!0)],2),le(" append slot "),N.$slots.append?(P(),H("div",{key:1,class:ne(b(m).be("group","append"))},[Pe(N.$slots,"append")],2)):le("v-if",!0)],64)):(P(),H(pt,{key:1},[le(" textarea "),z("textarea",Qn({id:b(f),ref_key:"textarea",ref:k,class:[b(g).e("inner"),b(m).is("focus",b(L))]},b(u),{minlength:N.minlength,maxlength:N.maxlength,tabindex:N.tabindex,disabled:b(h),readonly:N.readonly,autocomplete:N.autocomplete,style:b(X),"aria-label":N.label||N.ariaLabel,placeholder:N.placeholder,form:N.form,autofocus:N.autofocus,rows:N.rows,onCompositionstart:pa,onCompositionupdate:ma,onCompositionend:Po,onInput:Do,onFocus:he[2]||(he[2]=(...Re)=>b(F)&&b(F)(...Re)),onBlur:he[3]||(he[3]=(...Re)=>b(I)&&b(I)(...Re)),onChange:To,onKeydown:Mo}),null,16,n8),b(J)?(P(),H("span",{key:0,style:Ye(_.value),class:ne(b(m).e("count"))},qe(b(te))+" / "+qe(N.maxlength),7)):le("v-if",!0)],64))],16,e8))}});var o8=tt(r8,[["__file","input.vue"]]);const Sf=Ki(o8),jf=Symbol("popper"),Ub=Symbol("popperContent"),s8=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Jb=Ie({role:{type:String,values:s8,default:"tooltip"}}),a8=Q({name:"ElPopper",inheritAttrs:!1}),l8=Q({...a8,props:Jb,setup(n,{expose:e}){const t=n,i=U(),r=U(),o=U(),s=U(),a=D(()=>t.role),l={triggerRef:i,popperInstanceRef:r,contentRef:o,referenceRef:s,role:a};return e(l),Fn(jf,l),(u,c)=>Pe(u.$slots,"default")}});var u8=tt(l8,[["__file","popper.vue"]]);const Gb=Ie({arrowOffset:{type:Number,default:5}}),c8=Q({name:"ElPopperArrow",inheritAttrs:!1}),d8=Q({...c8,props:Gb,setup(n,{expose:e}){const t=n,i=bt("popper"),{arrowOffset:r,arrowRef:o,arrowStyle:s}=De(Ub,void 0);return de(()=>t.arrowOffset,a=>{r.value=a}),rn(()=>{o.value=void 0}),e({arrowRef:o}),(a,l)=>(P(),H("span",{ref_key:"arrowRef",ref:o,class:ne(b(i).e("arrow")),style:Ye(b(s)),"data-popper-arrow":""},null,6))}});var f8=tt(d8,[["__file","arrow.vue"]]);const h8="ElOnlyChild",p8=Q({name:h8,setup(n,{slots:e,attrs:t}){var i;const r=De(Wb),o=F4((i=r==null?void 0:r.setForwardRef)!=null?i:ps);return()=>{var s;const a=(s=e.default)==null?void 0:s.call(e,t);if(!a||a.length>1)return null;const l=Yb(a);return l?ul(Gk(l,t),[[o]]):null}}});function Yb(n){if(!n)return null;const e=n;for(const t of e){if(hs(t))switch(t.type){case Yk:continue;case y0:case"svg":return _m(t);case pt:return Yb(t.children);default:return t}return _m(t)}return null}function _m(n){const e=bt("only-child");return ve("span",{class:e.e("content")},[n])}const Zb=Ie({virtualRef:{type:ue(Object)},virtualTriggering:Boolean,onMouseenter:{type:ue(Function)},onMouseleave:{type:ue(Function)},onClick:{type:ue(Function)},onKeydown:{type:ue(Function)},onFocus:{type:ue(Function)},onBlur:{type:ue(Function)},onContextmenu:{type:ue(Function)},id:String,open:Boolean}),m8=Q({name:"ElPopperTrigger",inheritAttrs:!1}),g8=Q({...m8,props:Zb,setup(n,{expose:e}){const t=n,{role:i,triggerRef:r}=De(jf,void 0);M4(r);const o=D(()=>a.value?t.id:void 0),s=D(()=>{if(i&&i.value==="tooltip")return t.open&&t.id?t.id:void 0}),a=D(()=>{if(i&&i.value!=="tooltip")return i.value}),l=D(()=>a.value?`${t.open}`:void 0);let u;return et(()=>{de(()=>t.virtualRef,c=>{c&&(r.value=Di(c))},{immediate:!0}),de(r,(c,d)=>{u==null||u(),u=void 0,jl(c)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var p;const h=t[f];h&&(c.addEventListener(f.slice(2).toLowerCase(),h),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,f.slice(2).toLowerCase(),h))}),u=de([o,s,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,h)=>{ti(f[h])?c.removeAttribute(p):c.setAttribute(p,f[h])})},{immediate:!0})),jl(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),rn(()=>{u==null||u(),u=void 0}),e({triggerRef:r}),(c,d)=>c.virtualTriggering?le("v-if",!0):(P(),ge(b(p8),Qn({key:0},c.$attrs,{"aria-controls":b(o),"aria-describedby":b(s),"aria-expanded":b(l),"aria-haspopup":b(a)}),{default:ae(()=>[Pe(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var y8=tt(g8,[["__file","trigger.vue"]]);const Hu="focus-trap.focus-after-trapped",Wu="focus-trap.focus-after-released",b8="focus-trap.focusout-prevented",Sm={cancelable:!0,bubbles:!1},k8={cancelable:!0,bubbles:!1},jm="focusAfterTrapped",Cm="focusAfterReleased",v8=Symbol("elFocusTrap"),Cf=U(),au=U(0),Af=U(0);let Aa=0;const Xb=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},Am=(n,e)=>{for(const t of n)if(!w8(t,e))return t},w8=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},x8=n=>{const e=Xb(n),t=Am(e,n),i=Am(e.reverse(),n);return[t,i]},_8=n=>n instanceof HTMLInputElement&&"select"in n,mi=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),Af.value=window.performance.now(),n!==t&&_8(n)&&e&&n.select()}};function Em(n,e){const t=[...n],i=n.indexOf(e);return i!==-1&&t.splice(i,1),t}const S8=()=>{let n=[];return{push:i=>{const r=n[0];r&&i!==r&&r.pause(),n=Em(n,i),n.unshift(i)},remove:i=>{var r,o;n=Em(n,i),(o=(r=n[0])==null?void 0:r.resume)==null||o.call(r)}}},j8=(n,e=!1)=>{const t=document.activeElement;for(const i of n)if(mi(i,e),document.activeElement!==t)return},Om=S8(),C8=()=>au.value>Af.value,Ea=()=>{Cf.value="pointer",au.value=window.performance.now()},Dm=()=>{Cf.value="keyboard",au.value=window.performance.now()},A8=()=>(et(()=>{Aa===0&&(document.addEventListener("mousedown",Ea),document.addEventListener("touchstart",Ea),document.addEventListener("keydown",Dm)),Aa++}),rn(()=>{Aa--,Aa<=0&&(document.removeEventListener("mousedown",Ea),document.removeEventListener("touchstart",Ea),document.removeEventListener("keydown",Dm))}),{focusReason:Cf,lastUserFocusTimestamp:au,lastAutomatedFocusTimestamp:Af}),Oa=n=>new CustomEvent(b8,{...k8,detail:n}),E8=Q({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[jm,Cm,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=U();let i,r;const{focusReason:o}=A8();E4(h=>{n.trapped&&!s.paused&&e("release-requested",h)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=h=>{if(!n.loop&&!n.trapped||s.paused)return;const{key:m,altKey:g,ctrlKey:y,metaKey:k,currentTarget:x,shiftKey:v}=h,{loop:w}=n,_=m===Ds.tab&&!g&&!y&&!k,S=document.activeElement;if(_&&S){const B=x,[O,L]=x8(B);if(O&&L){if(!v&&S===L){const I=Oa({focusReason:o.value});e("focusout-prevented",I),I.defaultPrevented||(h.preventDefault(),w&&mi(O,!0))}else if(v&&[O,B].includes(S)){const I=Oa({focusReason:o.value});e("focusout-prevented",I),I.defaultPrevented||(h.preventDefault(),w&&mi(L,!0))}}else if(S===B){const I=Oa({focusReason:o.value});e("focusout-prevented",I),I.defaultPrevented||h.preventDefault()}}};Fn(v8,{focusTrapRef:t,onKeydown:a}),de(()=>n.focusTrapEl,h=>{h&&(t.value=h)},{immediate:!0}),de([t],([h],[m])=>{h&&(h.addEventListener("keydown",a),h.addEventListener("focusin",c),h.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",c),m.removeEventListener("focusout",d))});const l=h=>{e(jm,h)},u=h=>e(Cm,h),c=h=>{const m=b(t);if(!m)return;const g=h.target,y=h.relatedTarget,k=g&&m.contains(g);n.trapped||y&&m.contains(y)||(i=y),k&&e("focusin",h),!s.paused&&n.trapped&&(k?r=g:mi(r,!0))},d=h=>{const m=b(t);if(!(s.paused||!m))if(n.trapped){const g=h.relatedTarget;!ti(g)&&!m.contains(g)&&setTimeout(()=>{if(!s.paused&&n.trapped){const y=Oa({focusReason:o.value});e("focusout-prevented",y),y.defaultPrevented||mi(r,!0)}},0)}else{const g=h.target;g&&m.contains(g)||e("focusout",h)}};async function f(){await _t();const h=b(t);if(h){Om.push(s);const m=h.contains(document.activeElement)?i:document.activeElement;if(i=m,!h.contains(m)){const y=new Event(Hu,Sm);h.addEventListener(Hu,l),h.dispatchEvent(y),y.defaultPrevented||_t(()=>{let k=n.focusStartEl;Xn(k)||(mi(k),document.activeElement!==k&&(k="first")),k==="first"&&j8(Xb(h),!0),(document.activeElement===m||k==="container")&&mi(h)})}}}function p(){const h=b(t);if(h){h.removeEventListener(Hu,l);const m=new CustomEvent(Wu,{...Sm,detail:{focusReason:o.value}});h.addEventListener(Wu,u),h.dispatchEvent(m),!m.defaultPrevented&&(o.value=="keyboard"||!C8()||h.contains(document.activeElement))&&mi(i??document.body),h.removeEventListener(Wu,u),Om.remove(s)}}return et(()=>{n.trapped&&f(),de(()=>n.trapped,h=>{h?f():p()})}),rn(()=>{n.trapped&&p()}),{onKeydown:a}}});function O8(n,e,t,i,r,o){return Pe(n.$slots,"default",{handleKeydown:n.onKeydown})}var D8=tt(E8,[["render",O8],["__file","focus-trap.vue"]]);const T8=["fixed","absolute"],P8=Ie({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ue(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:ra,default:"bottom"},popperOptions:{type:ue(Object),default:()=>({})},strategy:{type:String,values:T8,default:"absolute"}}),Qb=Ie({...P8,id:String,style:{type:ue([String,Array,Object])},className:{type:ue([String,Array,Object])},effect:{type:ue(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ue([String,Array,Object])},popperStyle:{type:ue([String,Array,Object])},referenceEl:{type:ue(Object)},triggerTargetEl:{type:ue(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...sa(["ariaLabel"])}),M8={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},F8=(n,e=[])=>{const{placement:t,strategy:i,popperOptions:r}=n,o={placement:t,strategy:i,...r,modifiers:[...N8(n),...e]};return I8(o,r==null?void 0:r.modifiers),o},B8=n=>{if(Yt)return Di(n)};function N8(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function I8(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const R8=0,L8=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:i,role:r}=De(jf,void 0),o=U(),s=U(),a=D(()=>({name:"eventListeners",enabled:!!n.visible})),l=D(()=>{var y;const k=b(o),x=(y=b(s))!=null?y:R8;return{name:"arrow",enabled:!NA(k),options:{element:k,padding:x}}}),u=D(()=>({onFirstUpdate:()=>{h()},...F8(n,[b(l),b(a)])})),c=D(()=>B8(n.referenceEl)||b(i)),{attributes:d,state:f,styles:p,update:h,forceUpdate:m,instanceRef:g}=j4(c,t,u);return de(g,y=>e.value=y),et(()=>{de(()=>{var y;return(y=b(c))==null?void 0:y.getBoundingClientRect()},()=>{h()})}),{attributes:d,arrowRef:o,contentRef:t,instanceRef:g,state:f,styles:p,role:r,forceUpdate:m,update:h}},V8=(n,{attributes:e,styles:t,role:i})=>{const{nextZIndex:r}=I4(),o=bt("popper"),s=D(()=>b(e).popper),a=U($e(n.zIndex)?n.zIndex:r()),l=D(()=>[o.b(),o.is("pure",n.pure),o.is(n.effect),n.popperClass]),u=D(()=>[{zIndex:b(a)},b(t).popper,n.popperStyle||{}]),c=D(()=>i.value==="dialog"?"false":void 0),d=D(()=>b(t).arrow||{});return{ariaModal:c,arrowStyle:d,contentAttrs:s,contentClass:l,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=$e(n.zIndex)?n.zIndex:r()}}},z8=(n,e)=>{const t=U(!1),i=U();return{focusStartRef:i,trapped:t,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{n.visible&&!t.value&&(u.target&&(i.value=u.target),t.value=!0)},onFocusoutPrevented:u=>{n.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},$8=Q({name:"ElPopperContent"}),q8=Q({...$8,props:Qb,emits:M8,setup(n,{expose:e,emit:t}){const i=n,{focusStartRef:r,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=z8(i,t),{attributes:d,arrowRef:f,contentRef:p,styles:h,instanceRef:m,role:g,update:y}=L8(i),{ariaModal:k,arrowStyle:x,contentAttrs:v,contentClass:w,contentStyle:_,updateZIndex:S}=V8(i,{styles:h,attributes:d,role:g}),B=De(Al,void 0),O=U();Fn(Ub,{arrowStyle:x,arrowRef:f,arrowOffset:O}),B&&Fn(Al,{...B,addInputId:ps,removeInputId:ps});let L;const F=(W=!0)=>{y(),W&&S()},I=()=>{F(!1),i.visible&&i.focusOnShow?o.value=!0:i.visible===!1&&(o.value=!1)};return et(()=>{de(()=>i.triggerTargetEl,(W,Z)=>{L==null||L(),L=void 0;const A=b(W||p.value),V=b(Z||p.value);jl(A)&&(L=de([g,()=>i.ariaLabel,k,()=>i.id],M=>{["role","aria-label","aria-modal","id"].forEach((X,G)=>{ti(M[G])?A.removeAttribute(X):A.setAttribute(X,M[G])})},{immediate:!0})),V!==A&&jl(V)&&["role","aria-label","aria-modal","id"].forEach(M=>{V.removeAttribute(M)})},{immediate:!0}),de(()=>i.visible,I,{immediate:!0})}),rn(()=>{L==null||L(),L=void 0}),e({popperContentRef:p,popperInstanceRef:m,updatePopper:F,contentStyle:_}),(W,Z)=>(P(),H("div",Qn({ref_key:"contentRef",ref:p},b(v),{style:b(_),class:b(w),tabindex:"-1",onMouseenter:Z[0]||(Z[0]=A=>W.$emit("mouseenter",A)),onMouseleave:Z[1]||(Z[1]=A=>W.$emit("mouseleave",A))}),[ve(b(D8),{trapped:b(o),"trap-on-focus-in":!0,"focus-trap-el":b(p),"focus-start-el":b(r),onFocusAfterTrapped:b(a),onFocusAfterReleased:b(s),onFocusin:b(l),onFocusoutPrevented:b(u),onReleaseRequested:b(c)},{default:ae(()=>[Pe(W.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var H8=tt(q8,[["__file","content.vue"]]);const W8=Ki(u8),Ef=Symbol("elTooltip"),Wt=Ie({...T4,...Qb,appendTo:{type:ue([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:ue(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...sa(["ariaLabel"])}),Fs=Ie({...Zb,disabled:Boolean,trigger:{type:ue([String,Array]),default:"hover"},triggerKeys:{type:ue(Array),default:()=>[Ds.enter,Ds.space]}}),{useModelToggleProps:K8,useModelToggleEmits:U8,useModelToggle:J8}=Ob("visible"),G8=Ie({...Jb,...K8,...Wt,...Fs,...Gb,showArrow:{type:Boolean,default:!0}}),Y8=[...U8,"before-show","before-hide","show","hide","open","close"],Z8=(n,e)=>b0(n)?n.includes(e):n===e,Ir=(n,e,t)=>i=>{Z8(b(n),e)&&t(i)},X8=Q({name:"ElTooltipTrigger"}),Q8=Q({...X8,props:Fs,setup(n,{expose:e}){const t=n,i=bt("tooltip"),{controlled:r,id:o,open:s,onOpen:a,onClose:l,onToggle:u}=De(Ef,void 0),c=U(null),d=()=>{if(b(r)||t.disabled)return!0},f=Yn(t,"trigger"),p=Un(d,Ir(f,"hover",a)),h=Un(d,Ir(f,"hover",l)),m=Un(d,Ir(f,"click",v=>{v.button===0&&u(v)})),g=Un(d,Ir(f,"focus",a)),y=Un(d,Ir(f,"focus",l)),k=Un(d,Ir(f,"contextmenu",v=>{v.preventDefault(),u(v)})),x=Un(d,v=>{const{code:w}=v;t.triggerKeys.includes(w)&&(v.preventDefault(),u(v))});return e({triggerRef:c}),(v,w)=>(P(),ge(b(y8),{id:b(o),"virtual-ref":v.virtualRef,open:b(s),"virtual-triggering":v.virtualTriggering,class:ne(b(i).e("trigger")),onBlur:b(y),onClick:b(m),onContextmenu:b(k),onFocus:b(g),onMouseenter:b(p),onMouseleave:b(h),onKeydown:b(x)},{default:ae(()=>[Pe(v.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var eO=tt(Q8,[["__file","trigger.vue"]]);const tO=Q({name:"ElTooltipContent",inheritAttrs:!1}),nO=Q({...tO,props:Wt,setup(n,{expose:e}){const t=n,{selector:i}=Hb(),r=bt("tooltip"),o=U(null),s=U(!1),{controlled:a,id:l,open:u,trigger:c,onClose:d,onOpen:f,onShow:p,onHide:h,onBeforeShow:m,onBeforeHide:g}=De(Ef,void 0),y=D(()=>t.transition||`${r.namespace.value}-fade-in-linear`),k=D(()=>t.persistent);rn(()=>{s.value=!0});const x=D(()=>b(k)?!0:b(u)),v=D(()=>t.disabled?!1:b(u)),w=D(()=>t.appendTo||i.value),_=D(()=>{var M;return(M=t.style)!=null?M:{}}),S=D(()=>!b(u)),B=()=>{h()},O=()=>{if(b(a))return!0},L=Un(O,()=>{t.enterable&&b(c)==="hover"&&f()}),F=Un(O,()=>{b(c)==="hover"&&d()}),I=()=>{var M,X;(X=(M=o.value)==null?void 0:M.updatePopper)==null||X.call(M),m==null||m()},W=()=>{g==null||g()},Z=()=>{p(),V=U3(D(()=>{var M;return(M=o.value)==null?void 0:M.popperContentRef}),()=>{if(b(a))return;b(c)!=="hover"&&d()})},A=()=>{t.virtualTriggering||d()};let V;return de(()=>b(u),M=>{M||V==null||V()},{flush:"post"}),de(()=>t.content,()=>{var M,X;(X=(M=o.value)==null?void 0:M.updatePopper)==null||X.call(M)}),e({contentRef:o}),(M,X)=>(P(),ge(Qk,{disabled:!M.teleported,to:b(w)},[ve(Xk,{name:b(y),onAfterLeave:B,onBeforeEnter:I,onAfterEnter:Z,onBeforeLeave:W},{default:ae(()=>[b(x)?ul((P(),ge(b(H8),Qn({key:0,id:b(l),ref_key:"contentRef",ref:o},M.$attrs,{"aria-label":M.ariaLabel,"aria-hidden":b(S),"boundaries-padding":M.boundariesPadding,"fallback-placements":M.fallbackPlacements,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,placement:M.placement,"popper-options":M.popperOptions,strategy:M.strategy,effect:M.effect,enterable:M.enterable,pure:M.pure,"popper-class":M.popperClass,"popper-style":[M.popperStyle,b(_)],"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,visible:b(v),"z-index":M.zIndex,onMouseenter:b(L),onMouseleave:b(F),onBlur:A,onClose:b(d)}),{default:ae(()=>[s.value?le("v-if",!0):Pe(M.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Zk,b(v)]]):le("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var iO=tt(nO,[["__file","content.vue"]]);const rO=["innerHTML"],oO={key:1},sO=Q({name:"ElTooltip"}),aO=Q({...sO,props:G8,emits:Y8,setup(n,{expose:e,emit:t}){const i=n;D4();const r=qb(),o=U(),s=U(),a=()=>{var y;const k=b(o);k&&((y=k.popperInstanceRef)==null||y.update())},l=U(!1),u=U(),{show:c,hide:d,hasUpdateHandler:f}=J8({indicator:l,toggleReason:u}),{onOpen:p,onClose:h}=P4({showAfter:Yn(i,"showAfter"),hideAfter:Yn(i,"hideAfter"),autoClose:Yn(i,"autoClose"),open:c,close:d}),m=D(()=>hf(i.visible)&&!f.value);Fn(Ef,{controlled:m,id:r,open:ev(l),trigger:Yn(i,"trigger"),onOpen:y=>{p(y)},onClose:y=>{h(y)},onToggle:y=>{b(l)?h(y):p(y)},onShow:()=>{t("show",u.value)},onHide:()=>{t("hide",u.value)},onBeforeShow:()=>{t("before-show",u.value)},onBeforeHide:()=>{t("before-hide",u.value)},updatePopper:a}),de(()=>i.disabled,y=>{y&&l.value&&(l.value=!1)});const g=y=>{var k,x;const v=(x=(k=s.value)==null?void 0:k.contentRef)==null?void 0:x.popperContentRef,w=(y==null?void 0:y.relatedTarget)||document.activeElement;return v&&v.contains(w)};return tv(()=>l.value&&d()),e({popperRef:o,contentRef:s,isFocusInsideContent:g,updatePopper:a,onOpen:p,onClose:h,hide:d}),(y,k)=>(P(),ge(b(W8),{ref_key:"popperRef",ref:o,role:y.role},{default:ae(()=>[ve(eO,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:ae(()=>[y.$slots.default?Pe(y.$slots,"default",{key:0}):le("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ve(iO,{ref_key:"contentRef",ref:s,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:ae(()=>[Pe(y.$slots,"content",{},()=>[y.rawContent?(P(),H("span",{key:0,innerHTML:y.content},null,8,rO)):(P(),H("span",oO,qe(y.content),1))]),y.showArrow?(P(),ge(b(f8),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):le("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var lO=tt(aO,[["__file","tooltip.vue"]]);const aa=Ki(lO),e1=Symbol("buttonGroupContextKey"),uO=(n,e)=>{nu({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},D(()=>n.type==="text"));const t=De(e1,void 0),i=H4("button"),{form:r}=su(),o=ru(D(()=>t==null?void 0:t.size)),s=ou(),a=U(),l=g0(),u=D(()=>n.type||(t==null?void 0:t.type)||""),c=D(()=>{var h,m,g;return(g=(m=n.autoInsertSpace)!=null?m:(h=i.value)==null?void 0:h.autoInsertSpace)!=null?g:!1}),d=D(()=>n.tag==="button"?{ariaDisabled:s.value||n.loading,disabled:s.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=D(()=>{var h;const m=(h=l.default)==null?void 0:h.call(l);if(c.value&&(m==null?void 0:m.length)===1){const g=m[0];if((g==null?void 0:g.type)===y0){const y=g.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(y.trim())}}return!1});return{_disabled:s,_size:o,_type:u,_ref:a,_props:d,shouldAddSpace:f,handleClick:h=>{n.nativeType==="reset"&&(r==null||r.resetFields()),e("click",h)}}},cO=["default","primary","success","warning","info","danger","text",""],dO=["button","submit","reset"],Wc=Ie({size:Ms,disabled:Boolean,type:{type:String,values:cO,default:""},icon:{type:Os},nativeType:{type:String,values:dO,default:"button"},loading:Boolean,loadingIcon:{type:Os,default:()=>Cb},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ue([String,Object]),default:"button"}}),fO={click:n=>n instanceof MouseEvent};function at(n,e){hO(n)&&(n="100%");var t=pO(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Da(n){return Math.min(1,Math.max(0,n))}function hO(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function pO(n){return typeof n=="string"&&n.indexOf("%")!==-1}function t1(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Ta(n){return n<=1?"".concat(Number(n)*100,"%"):n}function or(n){return n.length===1?"0"+n:String(n)}function mO(n,e,t){return{r:at(n,255)*255,g:at(e,255)*255,b:at(t,255)*255}}function Tm(n,e,t){n=at(n,255),e=at(e,255),t=at(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,s=0,a=(i+r)/2;if(i===r)s=0,o=0;else{var l=i-r;switch(s=a>.5?l/(2-i-r):l/(i+r),i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,l:a}}function Ku(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function gO(n,e,t){var i,r,o;if(n=at(n,360),e=at(e,100),t=at(t,100),e===0)r=t,o=t,i=t;else{var s=t<.5?t*(1+e):t+e-t*e,a=2*t-s;i=Ku(a,s,n+1/3),r=Ku(a,s,n),o=Ku(a,s,n-1/3)}return{r:i*255,g:r*255,b:o*255}}function Pm(n,e,t){n=at(n,255),e=at(e,255),t=at(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,s=i,a=i-r,l=i===0?0:a/i;if(i===r)o=0;else{switch(i){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function yO(n,e,t){n=at(n,360)*6,e=at(e,100),t=at(t,100);var i=Math.floor(n),r=n-i,o=t*(1-e),s=t*(1-r*e),a=t*(1-(1-r)*e),l=i%6,u=[t,s,o,o,a,t][l],c=[a,t,t,s,o,o][l],d=[o,o,a,t,t,s][l];return{r:u*255,g:c*255,b:d*255}}function Mm(n,e,t,i){var r=[or(Math.round(n).toString(16)),or(Math.round(e).toString(16)),or(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function bO(n,e,t,i,r){var o=[or(Math.round(n).toString(16)),or(Math.round(e).toString(16)),or(Math.round(t).toString(16)),or(kO(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function kO(n){return Math.round(parseFloat(n)*255).toString(16)}function Fm(n){return It(n)/255}function It(n){return parseInt(n,16)}function vO(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Kc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wO(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,o=null,s=!1,a=!1;return typeof n=="string"&&(n=SO(n)),typeof n=="object"&&(Wn(n.r)&&Wn(n.g)&&Wn(n.b)?(e=mO(n.r,n.g,n.b),s=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Wn(n.h)&&Wn(n.s)&&Wn(n.v)?(i=Ta(n.s),r=Ta(n.v),e=yO(n.h,i,r),s=!0,a="hsv"):Wn(n.h)&&Wn(n.s)&&Wn(n.l)&&(i=Ta(n.s),o=Ta(n.l),e=gO(n.h,i,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=t1(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var xO="[-\\+]?\\d+%?",_O="[-\\+]?\\d*\\.\\d+%?",Ti="(?:".concat(_O,")|(?:").concat(xO,")"),Uu="[\\s|\\(]+(".concat(Ti,")[,|\\s]+(").concat(Ti,")[,|\\s]+(").concat(Ti,")\\s*\\)?"),Ju="[\\s|\\(]+(".concat(Ti,")[,|\\s]+(").concat(Ti,")[,|\\s]+(").concat(Ti,")[,|\\s]+(").concat(Ti,")\\s*\\)?"),an={CSS_UNIT:new RegExp(Ti),rgb:new RegExp("rgb"+Uu),rgba:new RegExp("rgba"+Ju),hsl:new RegExp("hsl"+Uu),hsla:new RegExp("hsla"+Ju),hsv:new RegExp("hsv"+Uu),hsva:new RegExp("hsva"+Ju),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function SO(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(Kc[n])n=Kc[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=an.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=an.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=an.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=an.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=an.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=an.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=an.hex8.exec(n),t?{r:It(t[1]),g:It(t[2]),b:It(t[3]),a:Fm(t[4]),format:e?"name":"hex8"}:(t=an.hex6.exec(n),t?{r:It(t[1]),g:It(t[2]),b:It(t[3]),format:e?"name":"hex"}:(t=an.hex4.exec(n),t?{r:It(t[1]+t[1]),g:It(t[2]+t[2]),b:It(t[3]+t[3]),a:Fm(t[4]+t[4]),format:e?"name":"hex8"}:(t=an.hex3.exec(n),t?{r:It(t[1]+t[1]),g:It(t[2]+t[2]),b:It(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Wn(n){return!!an.CSS_UNIT.exec(String(n))}var jO=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=vO(e)),this.originalInput=e;var r=wO(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,r,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=t1(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=Pm(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=Pm(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=Tm(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=Tm(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),Mm(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),bO(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(at(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(at(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Mm(this.r,this.g,this.b,!1),t=0,i=Object.entries(Kc);t<i.length;t++){var r=i[t],o=r[0],s=r[1];if(e===s)return o}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,o=!t&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Da(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Da(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Da(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Da(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),r=new n(e).toRgb(),o=t/100,s={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),r=360/t,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new n(i));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,r=t.s,o=t.v,s=[],a=1/e;e--;)s.push(new n({h:i,s:r,v:o})),o=(o+a)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),r=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,r=[this],o=360/e,s=1;s<e;s++)r.push(new n({h:(i+s*o)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function fi(n,e=20){return n.mix("#141414",e).toString()}function CO(n){const e=ou(),t=bt("button");return D(()=>{let i={},r=n.color;if(r){const o=r.match(/var\((.*?)\)/);o&&(r=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const s=new jO(r),a=n.dark?s.tint(20).toString():fi(s,20);if(n.plain)i=t.cssVarBlock({"bg-color":n.dark?fi(s,90):s.tint(90).toString(),"text-color":r,"border-color":n.dark?fi(s,50):s.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":a,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(i[t.cssVarBlockName("disabled-bg-color")]=n.dark?fi(s,90):s.tint(90).toString(),i[t.cssVarBlockName("disabled-text-color")]=n.dark?fi(s,50):s.tint(50).toString(),i[t.cssVarBlockName("disabled-border-color")]=n.dark?fi(s,80):s.tint(80).toString());else{const l=n.dark?fi(s,30):s.tint(30).toString(),u=s.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(i=t.cssVarBlock({"bg-color":r,"text-color":u,"border-color":r,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":a,"active-border-color":a}),e.value){const c=n.dark?fi(s,50):s.tint(50).toString();i[t.cssVarBlockName("disabled-bg-color")]=c,i[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,i[t.cssVarBlockName("disabled-border-color")]=c}}}return i})}const AO=Q({name:"ElButton"}),EO=Q({...AO,props:Wc,emits:fO,setup(n,{expose:e,emit:t}){const i=n,r=CO(i),o=bt("button"),{_ref:s,_size:a,_type:l,_disabled:u,_props:c,shouldAddSpace:d,handleClick:f}=uO(i,t),p=D(()=>[o.b(),o.m(l.value),o.m(a.value),o.is("disabled",u.value),o.is("loading",i.loading),o.is("plain",i.plain),o.is("round",i.round),o.is("circle",i.circle),o.is("text",i.text),o.is("link",i.link),o.is("has-bg",i.bg)]);return e({ref:s,size:a,type:l,disabled:u,shouldAddSpace:d}),(h,m)=>(P(),ge(nr(h.tag),Qn({ref_key:"_ref",ref:s},b(c),{class:b(p),style:b(r),onClick:b(f)}),{default:ae(()=>[h.loading?(P(),H(pt,{key:0},[h.$slots.loading?Pe(h.$slots,"loading",{key:0}):(P(),ge(b(Gn),{key:1,class:ne(b(o).is("loading"))},{default:ae(()=>[(P(),ge(nr(h.loadingIcon)))]),_:1},8,["class"]))],64)):h.icon||h.$slots.icon?(P(),ge(b(Gn),{key:1},{default:ae(()=>[h.icon?(P(),ge(nr(h.icon),{key:0})):Pe(h.$slots,"icon",{key:1})]),_:3})):le("v-if",!0),h.$slots.default?(P(),H("span",{key:2,class:ne({[b(o).em("text","expand")]:b(d)})},[Pe(h.$slots,"default")],2)):le("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var OO=tt(EO,[["__file","button.vue"]]);const DO={size:Wc.size,type:Wc.type},TO=Q({name:"ElButtonGroup"}),PO=Q({...TO,props:DO,setup(n){const e=n;Fn(e1,Cr({size:Yn(e,"size"),type:Yn(e,"type")}));const t=bt("button");return(i,r)=>(P(),H("div",{class:ne(b(t).b("group"))},[Pe(i.$slots,"default")],2))}});var n1=tt(PO,[["__file","button-group.vue"]]);const Uc=Ki(OO,{ButtonGroup:n1});aE(n1);const MO=100,FO=600,Bm={beforeMount(n,e){const t=e.value,{interval:i=MO,delay:r=FO}=tr(t)?{}:t;let o,s;const a=()=>tr(t)?t():t.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};n.addEventListener("mousedown",u=>{u.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),s=setTimeout(()=>{o=setInterval(()=>{a()},i)},r))})}},BO=Q({inheritAttrs:!1});function NO(n,e,t,i,r,o){return Pe(n.$slots,"default")}var IO=tt(BO,[["render",NO],["__file","collection.vue"]]);const RO=Q({name:"ElCollectionItem",inheritAttrs:!1});function LO(n,e,t,i,r,o){return Pe(n.$slots,"default")}var VO=tt(RO,[["render",LO],["__file","collection-item.vue"]]);const zO="data-el-collection-item",$O=n=>{const e=`El${n}Collection`,t=`${e}Item`,i=Symbol(e),r=Symbol(t),o={...IO,name:e,setup(){const a=U(null),l=new Map;Fn(i,{itemMap:l,getItems:()=>{const c=b(a);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${zO}]`));return[...l.values()].sort((p,h)=>d.indexOf(p.ref)-d.indexOf(h.ref))},collectionRef:a})}},s={...VO,name:t,setup(a,{attrs:l}){const u=U(null),c=De(i,void 0);Fn(r,{collectionItemRef:u}),et(()=>{const d=b(u);d&&c.itemMap.set(d,{ref:d,...l})}),rn(()=>{const d=b(u);c.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:o,ElCollectionItem:s}},Gu=Ie({trigger:Fs.trigger,effect:{...Wt.effect,default:"light"},type:{type:ue(String)},placement:{type:ue(String),default:"bottom"},popperOptions:{type:ue(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ue([Number,String]),default:0},maxHeight:{type:ue([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:ue(Object)},teleported:Wt.teleported});Ie({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Os}});Ie({onKeydown:{type:ue(Function)}});$O("Dropdown");const qO=Ie({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ms,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||$e(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),HO={[tu]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[pr]:n=>$e(n)||ti(n),[zt]:n=>$e(n)||ti(n)},WO=["aria-label","onKeydown"],KO=["aria-label","onKeydown"],UO=Q({name:"ElInputNumber"}),JO=Q({...UO,props:qO,emits:HO,setup(n,{expose:e,emit:t}){const i=n,{t:r}=Eb(),o=bt("input-number"),s=U(),a=Cr({currentValue:i.modelValue,userInput:null}),{formItem:l}=su(),u=D(()=>$e(i.modelValue)&&i.modelValue<=i.min),c=D(()=>$e(i.modelValue)&&i.modelValue>=i.max),d=D(()=>{const A=y(i.step);return Go(i.precision)?Math.max(y(i.modelValue),A):(A>i.precision,i.precision)}),f=D(()=>i.controls&&i.controlsPosition==="right"),p=ru(),h=ou(),m=D(()=>{if(a.userInput!==null)return a.userInput;let A=a.currentValue;if(ti(A))return"";if($e(A)){if(Number.isNaN(A))return"";Go(i.precision)||(A=A.toFixed(i.precision))}return A}),g=(A,V)=>{if(Go(V)&&(V=d.value),V===0)return Math.round(A);let M=String(A);const X=M.indexOf(".");if(X===-1||!M.replace(".","").split("")[X+V])return A;const me=M.length;return M.charAt(me-1)==="5"&&(M=`${M.slice(0,Math.max(0,me-1))}6`),Number.parseFloat(Number(M).toFixed(V))},y=A=>{if(ti(A))return 0;const V=A.toString(),M=V.indexOf(".");let X=0;return M!==-1&&(X=V.length-M-1),X},k=(A,V=1)=>$e(A)?g(A+i.step*V):a.currentValue,x=()=>{if(i.readonly||h.value||c.value)return;const A=Number(m.value)||0,V=k(A);_(V),t(pr,a.currentValue),W()},v=()=>{if(i.readonly||h.value||u.value)return;const A=Number(m.value)||0,V=k(A,-1);_(V),t(pr,a.currentValue),W()},w=(A,V)=>{const{max:M,min:X,step:G,precision:ee,stepStrictly:me,valueOnClear:J}=i;M<X&&_b("InputNumber","min should not be greater than max.");let te=Number(A);if(ti(A)||Number.isNaN(te))return null;if(A===""){if(J===null)return null;te=Xn(J)?{min:X,max:M}[J]:J}return me&&(te=g(Math.round(te/G)*G,ee)),Go(ee)||(te=g(te,ee)),(te>M||te<X)&&(te=te>M?M:X,V&&t(zt,te)),te},_=(A,V=!0)=>{var M;const X=a.currentValue,G=w(A);if(!V){t(zt,G);return}X===G&&A||(a.userInput=null,t(zt,G),X!==G&&t(tu,G,X),i.validateEvent&&((M=l==null?void 0:l.validate)==null||M.call(l,"change").catch(ee=>void 0)),a.currentValue=G)},S=A=>{a.userInput=A;const V=A===""?null:Number(A);t(pr,V),_(V,!1)},B=A=>{const V=A!==""?Number(A):"";($e(V)&&!Number.isNaN(V)||A==="")&&_(V),W(),a.userInput=null},O=()=>{var A,V;(V=(A=s.value)==null?void 0:A.focus)==null||V.call(A)},L=()=>{var A,V;(V=(A=s.value)==null?void 0:A.blur)==null||V.call(A)},F=A=>{t("focus",A)},I=A=>{var V;a.userInput=null,t("blur",A),i.validateEvent&&((V=l==null?void 0:l.validate)==null||V.call(l,"blur").catch(M=>void 0))},W=()=>{a.currentValue!==i.modelValue&&(a.currentValue=i.modelValue)},Z=A=>{document.activeElement===A.target&&A.preventDefault()};return de(()=>i.modelValue,(A,V)=>{const M=w(A,!0);a.userInput===null&&M!==V&&(a.currentValue=M)},{immediate:!0}),et(()=>{var A;const{min:V,max:M,modelValue:X}=i,G=(A=s.value)==null?void 0:A.input;if(G.setAttribute("role","spinbutton"),Number.isFinite(M)?G.setAttribute("aria-valuemax",String(M)):G.removeAttribute("aria-valuemax"),Number.isFinite(V)?G.setAttribute("aria-valuemin",String(V)):G.removeAttribute("aria-valuemin"),G.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),G.setAttribute("aria-disabled",String(h.value)),!$e(X)&&X!=null){let ee=Number(X);Number.isNaN(ee)&&(ee=null),t(zt,ee)}G.addEventListener("wheel",Z,{passive:!1})}),nv(()=>{var A,V;const M=(A=s.value)==null?void 0:A.input;M==null||M.setAttribute("aria-valuenow",`${(V=a.currentValue)!=null?V:""}`)}),nu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},D(()=>!!i.label)),e({focus:O,blur:L}),(A,V)=>(P(),H("div",{class:ne([b(o).b(),b(o).m(b(p)),b(o).is("disabled",b(h)),b(o).is("without-controls",!A.controls),b(o).is("controls-right",b(f))]),onDragstart:V[0]||(V[0]=ur(()=>{},["prevent"]))},[A.controls?ul((P(),H("span",{key:0,role:"button","aria-label":b(r)("el.inputNumber.decrease"),class:ne([b(o).e("decrease"),b(o).is("disabled",b(u))]),onKeydown:ka(v,["enter"])},[Pe(A.$slots,"decrease-icon",{},()=>[ve(b(Gn),null,{default:ae(()=>[b(f)?(P(),ge(b(qA),{key:0})):(P(),ge(b(QA),{key:1}))]),_:1})])],42,WO)),[[b(Bm),v]]):le("v-if",!0),A.controls?ul((P(),H("span",{key:1,role:"button","aria-label":b(r)("el.inputNumber.increase"),class:ne([b(o).e("increase"),b(o).is("disabled",b(c))]),onKeydown:ka(x,["enter"])},[Pe(A.$slots,"increase-icon",{},()=>[ve(b(Gn),null,{default:ae(()=>[b(f)?(P(),ge(b(WA),{key:0})):(P(),ge(b(tE),{key:1}))]),_:1})])],42,KO)),[[b(Bm),x]]):le("v-if",!0),ve(b(Sf),{id:A.id,ref_key:"input",ref:s,type:"number",step:A.step,"model-value":b(m),placeholder:A.placeholder,readonly:A.readonly,disabled:b(h),size:b(p),max:A.max,min:A.min,name:A.name,"aria-label":A.label||A.ariaLabel,"validate-event":!1,onKeydown:[ka(ur(x,["prevent"]),["up"]),ka(ur(v,["prevent"]),["down"])],onBlur:I,onFocus:F,onInput:S,onChange:B},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var GO=tt(JO,[["__file","input-number.vue"]]);const YO=Ki(GO),ZO=Ie({trigger:Fs.trigger,placement:Gu.placement,disabled:Fs.disabled,visible:Wt.visible,transition:Wt.transition,popperOptions:Gu.popperOptions,tabindex:Gu.tabindex,content:Wt.content,popperStyle:Wt.popperStyle,popperClass:Wt.popperClass,enterable:{...Wt.enterable,default:!0},effect:{...Wt.effect,default:"light"},teleported:Wt.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),XO={"update:visible":n=>hf(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},QO="onUpdate:visible",eD=Q({name:"ElPopover"}),tD=Q({...eD,props:ZO,emits:XO,setup(n,{expose:e,emit:t}){const i=n,r=D(()=>i[QO]),o=bt("popover"),s=U(),a=D(()=>{var g;return(g=b(s))==null?void 0:g.popperRef}),l=D(()=>[{width:Sb(i.width)},i.popperStyle]),u=D(()=>[o.b(),i.popperClass,{[o.m("plain")]:!!i.content}]),c=D(()=>i.transition===`${o.namespace.value}-fade-in-linear`),d=()=>{var g;(g=s.value)==null||g.hide()},f=()=>{t("before-enter")},p=()=>{t("before-leave")},h=()=>{t("after-enter")},m=()=>{t("update:visible",!1),t("after-leave")};return e({popperRef:a,hide:d}),(g,y)=>(P(),ge(b(aa),Qn({ref_key:"tooltipRef",ref:s},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":b(u),"popper-style":b(l),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":b(c),"onUpdate:visible":b(r),onBeforeShow:f,onBeforeHide:p,onShow:h,onHide:m}),{content:ae(()=>[g.title?(P(),H("div",{key:0,class:ne(b(o).e("title")),role:"title"},qe(g.title),3)):le("v-if",!0),Pe(g.$slots,"default",{},()=>[kc(qe(g.content),1)])]),default:ae(()=>[g.$slots.reference?Pe(g.$slots,"reference",{key:0}):le("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var nD=tt(tD,[["__file","popover.vue"]]);const Nm=(n,e)=>{const t=e.arg||e.value,i=t==null?void 0:t.popperRef;i&&(i.triggerRef=n)};var iD={mounted(n,e){Nm(n,e)},updated(n,e){Nm(n,e)}};const rD="popover",oD=sE(iD,rD),Bs=Ki(nD,{directive:oD}),i1=Symbol("sliderContextKey"),sD=Ie({modelValue:{type:ue([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ms,inputSize:Ms,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ue(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ue(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ra,default:"top"},marks:{type:ue(Object)},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),Yu=n=>$e(n)||b0(n)&&n.every($e),aD={[zt]:Yu,[pr]:Yu,[tu]:Yu},lD=(n,e,t)=>{const i=U();return et(async()=>{n.range?(Array.isArray(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof n.modelValue!="number"||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),rs(window,"resize",t),await _t(),t()}),{sliderWrapper:i}},uD=n=>D(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((t,i)=>t-i).filter(t=>t<=n.max&&t>=n.min).map(t=>({point:t,position:(t-n.min)*100/(n.max-n.min),mark:n.marks[t]})):[]),cD=(n,e,t)=>{const{form:i,formItem:r}=su(),o=qr(),s=U(),a=U(),l={firstButton:s,secondButton:a},u=D(()=>n.disabled||(i==null?void 0:i.disabled)||!1),c=D(()=>Math.min(e.firstValue,e.secondValue)),d=D(()=>Math.max(e.firstValue,e.secondValue)),f=D(()=>n.range?`${100*(d.value-c.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),p=D(()=>n.range?`${100*(c.value-n.min)/(n.max-n.min)}%`:"0%"),h=D(()=>n.vertical?{height:n.height}:{}),m=D(()=>n.vertical?{height:f.value,bottom:p.value}:{width:f.value,left:p.value}),g=()=>{o.value&&(e.sliderSize=o.value[`client${n.vertical?"Height":"Width"}`])},y=F=>{const I=n.min+F*(n.max-n.min)/100;if(!n.range)return s;let W;return Math.abs(c.value-I)<Math.abs(d.value-I)?W=e.firstValue<e.secondValue?"firstButton":"secondButton":W=e.firstValue>e.secondValue?"firstButton":"secondButton",l[W]},k=F=>{const I=y(F);return I.value.setPosition(F),I},x=F=>{e.firstValue=F,w(n.range?[c.value,d.value]:F)},v=F=>{e.secondValue=F,n.range&&w([c.value,d.value])},w=F=>{t(zt,F),t(pr,F)},_=async()=>{await _t(),t(tu,n.range?[c.value,d.value]:n.modelValue)},S=F=>{var I,W,Z,A,V,M;if(u.value||e.dragging)return;g();let X=0;if(n.vertical){const G=(Z=(W=(I=F.touches)==null?void 0:I.item(0))==null?void 0:W.clientY)!=null?Z:F.clientY;X=(o.value.getBoundingClientRect().bottom-G)/e.sliderSize*100}else{const G=(M=(V=(A=F.touches)==null?void 0:A.item(0))==null?void 0:V.clientX)!=null?M:F.clientX,ee=o.value.getBoundingClientRect().left;X=(G-ee)/e.sliderSize*100}if(!(X<0||X>100))return k(X)};return{elFormItem:r,slider:o,firstButton:s,secondButton:a,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:h,barStyle:m,resetSize:g,setPosition:k,emitChange:_,onSliderWrapperPrevent:F=>{var I,W;((I=l.firstButton.value)!=null&&I.dragging||(W=l.secondButton.value)!=null&&W.dragging)&&F.preventDefault()},onSliderClick:F=>{S(F)&&_()},onSliderDown:async F=>{const I=S(F);I&&(await _t(),I.value.onButtonDown(F))},setFirstValue:x,setSecondValue:v}},{left:dD,down:fD,right:hD,up:pD,home:mD,end:gD,pageUp:yD,pageDown:bD}=Ds,kD=(n,e,t)=>{const i=U(),r=U(!1),o=D(()=>e.value instanceof Function),s=D(()=>o.value&&e.value(n.modelValue)||n.modelValue),a=Es(()=>{t.value&&(r.value=!0)},50),l=Es(()=>{t.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:s,displayTooltip:a,hideTooltip:l}},vD=(n,e,t)=>{const{disabled:i,min:r,max:o,step:s,showTooltip:a,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:f,updateDragging:p}=De(i1),{tooltip:h,tooltipVisible:m,formatValue:g,displayTooltip:y,hideTooltip:k}=kD(n,c,a),x=U(),v=D(()=>`${(n.modelValue-r.value)/(o.value-r.value)*100}%`),w=D(()=>n.vertical?{bottom:v.value}:{left:v.value}),_=()=>{e.hovering=!0,y()},S=()=>{e.hovering=!1,e.dragging||k()},B=J=>{i.value||(J.preventDefault(),X(J),window.addEventListener("mousemove",G),window.addEventListener("touchmove",G),window.addEventListener("mouseup",ee),window.addEventListener("touchend",ee),window.addEventListener("contextmenu",ee),x.value.focus())},O=J=>{i.value||(e.newPosition=Number.parseFloat(v.value)+J/(o.value-r.value)*100,me(e.newPosition),d())},L=()=>{O(-s.value)},F=()=>{O(s.value)},I=()=>{O(-s.value*4)},W=()=>{O(s.value*4)},Z=()=>{i.value||(me(0),d())},A=()=>{i.value||(me(100),d())},V=J=>{let te=!0;[dD,fD].includes(J.key)?L():[hD,pD].includes(J.key)?F():J.key===mD?Z():J.key===gD?A():J.key===bD?I():J.key===yD?W():te=!1,te&&J.preventDefault()},M=J=>{let te,we;return J.type.startsWith("touch")?(we=J.touches[0].clientY,te=J.touches[0].clientX):(we=J.clientY,te=J.clientX),{clientX:te,clientY:we}},X=J=>{e.dragging=!0,e.isClick=!0;const{clientX:te,clientY:we}=M(J);n.vertical?e.startY=we:e.startX=te,e.startPosition=Number.parseFloat(v.value),e.newPosition=e.startPosition},G=J=>{if(e.dragging){e.isClick=!1,y(),f();let te;const{clientX:we,clientY:Ce}=M(J);n.vertical?(e.currentY=Ce,te=(e.startY-e.currentY)/u.value*100):(e.currentX=we,te=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+te,me(e.newPosition)}},ee=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||k(),e.isClick||me(e.newPosition),d()},0),window.removeEventListener("mousemove",G),window.removeEventListener("touchmove",G),window.removeEventListener("mouseup",ee),window.removeEventListener("touchend",ee),window.removeEventListener("contextmenu",ee))},me=async J=>{if(J===null||Number.isNaN(+J))return;J<0?J=0:J>100&&(J=100);const te=100/((o.value-r.value)/s.value);let Ce=Math.round(J/te)*te*(o.value-r.value)*.01+r.value;Ce=Number.parseFloat(Ce.toFixed(l.value)),Ce!==n.modelValue&&t(zt,Ce),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await _t(),e.dragging&&y(),h.value.updatePopper()};return de(()=>e.dragging,J=>{p(J)}),{disabled:i,button:x,tooltip:h,tooltipVisible:m,showTooltip:a,wrapperStyle:w,formatValue:g,handleMouseEnter:_,handleMouseLeave:S,onButtonDown:B,onKeyDown:V,setPosition:me}},wD=(n,e,t,i)=>({stops:D(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const s=(n.max-n.min)/n.step,a=100*n.step/(n.max-n.min),l=Array.from({length:s-1}).map((u,c)=>(c+1)*a);return n.range?l.filter(u=>u<100*(t.value-n.min)/(n.max-n.min)||u>100*(i.value-n.min)/(n.max-n.min)):l.filter(u=>u>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:s=>n.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),xD=(n,e,t,i,r,o)=>{const s=u=>{r(zt,u),r(pr,u)},a=()=>n.range?![t.value,i.value].every((u,c)=>u===e.oldValue[c]):n.modelValue!==e.oldValue,l=()=>{var u,c;n.min>n.max&&_b("Slider","min should not be greater than max.");const d=n.modelValue;n.range&&Array.isArray(d)?d[1]<n.min?s([n.min,n.min]):d[0]>n.max?s([n.max,n.max]):d[0]<n.min?s([n.min,d[1]]):d[1]>n.max?s([d[0],n.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&(n.validateEvent&&((u=o==null?void 0:o.validate)==null||u.call(o,"change").catch(f=>void 0)),e.oldValue=d.slice())):!n.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<n.min?s(n.min):d>n.max?s(n.max):(e.firstValue=d,a()&&(n.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(f=>void 0)),e.oldValue=d)))};l(),de(()=>e.dragging,u=>{u||l()}),de(()=>n.modelValue,(u,c)=>{e.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((d,f)=>d===c[f])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),de(()=>[n.min,n.max],()=>{l()})},_D=Ie({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ra,default:"top"}}),SD={[zt]:n=>$e(n)},jD=["tabindex"],CD=Q({name:"ElSliderButton"}),AD=Q({...CD,props:_D,emits:SD,setup(n,{expose:e,emit:t}){const i=n,r=bt("slider"),o=Cr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:s,button:a,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:d,formatValue:f,handleMouseEnter:p,handleMouseLeave:h,onButtonDown:m,onKeyDown:g,setPosition:y}=vD(i,o,t),{hovering:k,dragging:x}=vc(o);return e({onButtonDown:m,onKeyDown:g,setPosition:y,hovering:k,dragging:x}),(v,w)=>(P(),H("div",{ref_key:"button",ref:a,class:ne([b(r).e("button-wrapper"),{hover:b(k),dragging:b(x)}]),style:Ye(b(d)),tabindex:b(s)?-1:0,onMouseenter:w[0]||(w[0]=(..._)=>b(p)&&b(p)(..._)),onMouseleave:w[1]||(w[1]=(..._)=>b(h)&&b(h)(..._)),onMousedown:w[2]||(w[2]=(..._)=>b(m)&&b(m)(..._)),onTouchstart:w[3]||(w[3]=(..._)=>b(m)&&b(m)(..._)),onFocus:w[4]||(w[4]=(..._)=>b(p)&&b(p)(..._)),onBlur:w[5]||(w[5]=(..._)=>b(h)&&b(h)(..._)),onKeydown:w[6]||(w[6]=(..._)=>b(g)&&b(g)(..._))},[ve(b(aa),{ref_key:"tooltip",ref:l,visible:b(c),placement:v.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":v.tooltipClass,disabled:!b(u),persistent:""},{content:ae(()=>[z("span",null,qe(b(f)),1)]),default:ae(()=>[z("div",{class:ne([b(r).e("button"),{hover:b(k),dragging:b(x)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,jD))}});var Im=tt(AD,[["__file","button.vue"]]);const ED=Ie({mark:{type:ue([String,Object]),default:void 0}});var OD=Q({name:"ElSliderMarker",props:ED,setup(n){const e=bt("slider"),t=D(()=>Xn(n.mark)?n.mark:n.mark.label),i=D(()=>Xn(n.mark)?void 0:n.mark.style);return()=>xo("div",{class:e.e("marks-text"),style:i.value},t.value)}});const DD=["id","role","aria-label","aria-labelledby"],TD={key:1},PD=Q({name:"ElSlider"}),MD=Q({...PD,props:sD,emits:aD,setup(n,{expose:e,emit:t}){const i=n,r=bt("slider"),{t:o}=Eb(),s=Cr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:l,firstButton:u,secondButton:c,sliderDisabled:d,minValue:f,maxValue:p,runwayStyle:h,barStyle:m,resetSize:g,emitChange:y,onSliderWrapperPrevent:k,onSliderClick:x,onSliderDown:v,setFirstValue:w,setSecondValue:_}=cD(i,s,t),{stops:S,getStopStyle:B}=wD(i,s,f,p),{inputId:O,isLabeledByFormItem:L}=Kb(i,{formItemContext:a}),F=ru(),I=D(()=>i.inputSize||F.value),W=D(()=>i.label||i.ariaLabel||o("el.slider.defaultLabel",{min:i.min,max:i.max})),Z=D(()=>i.range?i.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):W.value),A=D(()=>i.formatValueText?i.formatValueText(J.value):`${J.value}`),V=D(()=>i.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),M=D(()=>i.formatValueText?i.formatValueText(te.value):`${te.value}`),X=D(()=>[r.b(),r.m(F.value),r.is("vertical",i.vertical),{[r.m("with-input")]:i.showInput}]),G=uD(i);xD(i,s,f,p,t,a);const ee=D(()=>{const se=[i.min,i.max,i.step].map(We=>{const Ke=`${We}`.split(".")[1];return Ke?Ke.length:0});return Math.max.apply(null,se)}),{sliderWrapper:me}=lD(i,s,g),{firstValue:J,secondValue:te,sliderSize:we}=vc(s),Ce=se=>{s.dragging=se};return Fn(i1,{...vc(i),sliderSize:we,disabled:d,precision:ee,emitChange:y,resetSize:g,updateDragging:Ce}),nu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},D(()=>!!i.label)),e({onSliderClick:x}),(se,We)=>{var Ke,Oo;return P(),H("div",{id:se.range?b(O):void 0,ref_key:"sliderWrapper",ref:me,class:ne(b(X)),role:se.range?"group":void 0,"aria-label":se.range&&!b(L)?b(W):void 0,"aria-labelledby":se.range&&b(L)?(Ke=b(a))==null?void 0:Ke.labelId:void 0,onTouchstart:We[2]||(We[2]=(...Ue)=>b(k)&&b(k)(...Ue)),onTouchmove:We[3]||(We[3]=(...Ue)=>b(k)&&b(k)(...Ue))},[z("div",{ref_key:"slider",ref:l,class:ne([b(r).e("runway"),{"show-input":se.showInput&&!se.range},b(r).is("disabled",b(d))]),style:Ye(b(h)),onMousedown:We[0]||(We[0]=(...Ue)=>b(v)&&b(v)(...Ue)),onTouchstart:We[1]||(We[1]=(...Ue)=>b(v)&&b(v)(...Ue))},[z("div",{class:ne(b(r).e("bar")),style:Ye(b(m))},null,6),ve(Im,{id:se.range?void 0:b(O),ref_key:"firstButton",ref:u,"model-value":b(J),vertical:se.vertical,"tooltip-class":se.tooltipClass,placement:se.placement,role:"slider","aria-label":se.range||!b(L)?b(Z):void 0,"aria-labelledby":!se.range&&b(L)?(Oo=b(a))==null?void 0:Oo.labelId:void 0,"aria-valuemin":se.min,"aria-valuemax":se.range?b(te):se.max,"aria-valuenow":b(J),"aria-valuetext":b(A),"aria-orientation":se.vertical?"vertical":"horizontal","aria-disabled":b(d),"onUpdate:modelValue":b(w)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),se.range?(P(),ge(Im,{key:0,ref_key:"secondButton",ref:c,"model-value":b(te),vertical:se.vertical,"tooltip-class":se.tooltipClass,placement:se.placement,role:"slider","aria-label":b(V),"aria-valuemin":b(J),"aria-valuemax":se.max,"aria-valuenow":b(te),"aria-valuetext":b(M),"aria-orientation":se.vertical?"vertical":"horizontal","aria-disabled":b(d),"onUpdate:modelValue":b(_)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):le("v-if",!0),se.showStops?(P(),H("div",TD,[(P(!0),H(pt,null,Fi(b(S),(Ue,wt)=>(P(),H("div",{key:wt,class:ne(b(r).e("stop")),style:Ye(b(B)(Ue))},null,6))),128))])):le("v-if",!0),b(G).length>0?(P(),H(pt,{key:2},[z("div",null,[(P(!0),H(pt,null,Fi(b(G),(Ue,wt)=>(P(),H("div",{key:wt,style:Ye(b(B)(Ue.position)),class:ne([b(r).e("stop"),b(r).e("marks-stop")])},null,6))),128))]),z("div",{class:ne(b(r).e("marks"))},[(P(!0),H(pt,null,Fi(b(G),(Ue,wt)=>(P(),ge(b(OD),{key:wt,mark:Ue.mark,style:Ye(b(B)(Ue.position))},null,8,["mark","style"]))),128))],2)],64)):le("v-if",!0)],38),se.showInput&&!se.range?(P(),ge(b(YO),{key:0,ref:"input","model-value":b(J),class:ne(b(r).e("input")),step:se.step,disabled:b(d),controls:se.showInputControls,min:se.min,max:se.max,debounce:se.debounce,size:b(I),"onUpdate:modelValue":b(w),onChange:b(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):le("v-if",!0)],42,DD)}}});var FD=tt(MD,[["__file","slider.vue"]]);const r1=Ki(FD),BD={class:"link-input"},ND={class:"form-item"},ID={class:"form-item btns"},RD=Q({__name:"LinkInput",props:{href:{}},emits:["change","clear"],setup(n,{emit:e}){const t=n,i=e,r=U({href:""});iv(()=>{r.value={href:t.href??""}});const o=()=>{i("change",r.value)},s=()=>{i("clear")};return(a,l)=>(P(),H("div",BD,[z("div",ND,[ve(b(Sf),{modelValue:r.value.href,"onUpdate:modelValue":l[0]||(l[0]=u=>r.value.href=u),placeholder:"",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),z("div",ID,[ve(b(Uc),{onClick:s,size:"small"},{default:ae(()=>[kc("")]),_:1}),ve(b(Uc),{onClick:o,type:"primary",size:"small"},{default:ae(()=>[kc("")]),_:1})])]))}}),o1=Dt(RD,[["__scopeId","data-v-0bcd72b5"]]),LD=n=>new Promise(e=>{const t=document.createElement("input");t.type="file",t.accept=n,t.addEventListener("change",()=>{var r;const i=(r=t.files)==null?void 0:r.item(0);i&&e(i)}),t.click()}),VD=n=>new Promise((e,t)=>{const i=new Image;i.addEventListener("load",()=>{e({width:i.naturalWidth,height:i.naturalHeight})}),i.addEventListener("error",r=>{t(r)}),i.src=n}),s1=Symbol("upload"),a1=n=>(Ar("data-v-a9345d15"),n=n(),Er(),n),zD=["href"],$D=["src"],qD=["src"],HD={key:0,class:"action-list"},WD={class:"action-item size-action",title:""},KD=a1(()=>z("li",null,null,-1)),UD=a1(()=>z("figcaption",{"data-prosemirror-content-dom":"",class:"editor-image-node-title"},null,-1)),JD=Q({__name:"ImageView",props:{node:{},view:{},getPos:{type:Function},decorations:{},innerDecorations:{}},emits:["updateAttrs"],setup(n,{emit:e}){const t=n,i=e,r=De(s1),o=U(),s=U(200),a=U(!1),l=D(()=>{var p;return(p=t.view)==null?void 0:p.editable});et(()=>{s.value=o.value.parentElement.getBoundingClientRect().width});const u=p=>{i("updateAttrs",{size:p})},c=p=>{i("updateAttrs",{align:p})},d=p=>{i("updateAttrs",{href:p}),a.value=!1},f=async()=>{const p=await LD("image/*"),h=URL.createObjectURL(p),m=await VD(h);console.log(r),i("updateAttrs",{ratio:`${m.width}/${m.height}`,src:h}),r&&i("updateAttrs",{src:await r(p)})};return(p,h)=>(P(),H("figure",{"data-prosemirror-dom":"",class:ne(["editor-image-node","align-"+p.node.attrs.align]),ref_key:"containerEl",ref:o,style:Ye({width:p.node.attrs.size+"%",marginLeft:p.node.attrs.align==="left"?"0":"auto",marginRight:p.node.attrs.align==="right"?"0":"auto"})},[ve(b(aa),{placement:"top",trigger:"click",width:"fit-content",onAfterLeave:h[8]||(h[8]=m=>a.value=!1),disabled:!l.value,"trigger-keys":[]},{content:ae(()=>[a.value?(P(),ge(o1,{key:1,href:p.node.attrs.href,onChange:h[6]||(h[6]=m=>d(m.href)),onClear:h[7]||(h[7]=m=>d(null))},null,8,["href"])):(P(),H("ul",HD,[z("li",{class:"action-item replace-action material-symbols-outlined",title:"",onClick:f},"image"),z("li",{class:ne(["action-item align-action material-symbols-outlined",{selected:p.node.attrs.align==="left"}]),onClick:h[0]||(h[0]=m=>c("left")),title:""},"align_horizontal_left",2),z("li",{class:ne(["action-item align-action material-symbols-outlined",{selected:p.node.attrs.align==="center"}]),onClick:h[1]||(h[1]=m=>c("center")),title:""},"align_horizontal_center",2),z("li",{class:ne(["action-item align-action material-symbols-outlined",{selected:p.node.attrs.align==="right"}]),onClick:h[2]||(h[2]=m=>c("right")),title:""},"align_horizontal_right",2),p.node.attrs.href?(P(),H("li",{key:1,class:ne(["action-item link-action material-symbols-outlined",{selected:!!p.node.attrs.href}]),title:"",onClick:h[4]||(h[4]=m=>a.value=!0)},"link",2)):(P(),H("li",{key:0,class:"action-item link-action material-symbols-outlined",title:"",onClick:h[3]||(h[3]=m=>a.value=!0)},"add_link")),p.node.attrs.href?(P(),H("li",{key:2,class:"action-item link-action material-symbols-outlined",title:"",onClick:h[5]||(h[5]=m=>d(null))},"link_off")):le("",!0),z("li",WD,[ve(b(r1),{"model-value":p.node.attrs.size,min:10,max:100,"onUpdate:modelValue":u},null,8,["model-value"])]),KD]))]),default:ae(()=>[p.node.attrs.href?(P(),H("a",{key:0,href:p.node.attrs.href,class:"editor-image-node-link"},[z("img",{draggable:"false",class:"editor-image-node-image",src:p.node.attrs.src||"https://fakeimg.pl/200",style:Ye({aspectRatio:p.node.attrs.ratio}),alt:""},null,12,$D)],8,zD)):(P(),H("img",{key:1,draggable:"false",class:"editor-image-node-image",src:p.node.attrs.src||"https://fakeimg.pl/200",style:Ye({aspectRatio:p.node.attrs.ratio}),alt:""},null,12,qD))]),_:1},8,["disabled"]),UD],6))}}),l1=Dt(JD,[["__scopeId","data-v-a9345d15"]]);function u1(n){for(let e=0;e<n.edgeCount;e++){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const GD=(n,e,t)=>{for(let i=e.depth;i>=0;i-=1){const r=e.node(i);if(r&&t(r,i))return{node:r,depth:i}}return null},c1=(n,e,t)=>GD(n,e,i=>i.type===t),YD=(n,e,t)=>t.reduce((i,r)=>i||c1(n,e,r),null),ZD=()=>({tag:"figure.editor-image-node",getAttrs(n){if(typeof n=="string")return!1;const e=n.querySelector("img.editor-image-node-image"),t=e==null?void 0:e.src;if(!t)return!1;const i=parseInt(n.style.width)>100?null:parseInt(n.style.width),r=n.style.aspectRatio??null,o=n.style.marginLeft==="auto"&&n.style.marginRight==="auto"?"center":n.style.marginLeft==="auto"?"right":"left",s=n.querySelector("a.editor-image-node-link");return{src:t,size:i,align:o,ratio:r,href:(s==null?void 0:s.href)??null}},contentElement:"figcaption.editor-image-node-title"}),XD=n=>({attrs:{src:{},ratio:{default:null},size:{default:null},align:{default:"center"},href:{default:null}},content:n.content,marks:"",group:n.group,selectable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return typeof e=="string"?!1:{src:e.getAttribute("src"),title:e.getAttribute("title")||e.getAttribute("alt")}}},ZD()],toDOM:e=>rf(e,l1)}),QD=n=>(e,t)=>{const{selection:i}=e;if(!(i instanceof re))return!1;if(i.$from.node(-1).type===n){const{$from:r}=i,o=r.node(-2).contentMatchAt(r.indexAfter(-1)),s=u1(o);if(s){const a=e.tr,l=r.after(-1);return a.insert(l,s.createAndFill()).setSelection(re.create(a.doc,l+1)),t&&t(a.scrollIntoView()),!0}}return!1},eT=(n,e,t,i)=>{const r=`![${n.esc(e.textContent)}](${e.attrs.src}#align-${e.attrs.align} ${JSON.stringify(e.textContent)})`,o=e.attrs.href?`[${r}](${e.attrs.href||""})`:r;n.write(o),n.ensureNewLine()},tT=n=>({details_summary:{selectable:!0,content:n.summaryContent,parseDOM:[{tag:"summary"}],toDOM(){return["summary",0]}},details:{group:n.detailsGroup,marks:"",attrs:{open:{default:!0}},content:`details_summary ${n.detailsContent}`,toDOM(e){return console.log("toDOM"),["details",e.attrs.open?{open:!0}:{},0]},parseDOM:[{tag:"details",getAttrs(e){return typeof e=="string"?null:{open:e.hasAttribute("open")}}}]}}),nT=n=>(e,t)=>{const{$from:i,$to:r}=e.selection;if(i.parent.type!==n||i.node(-1).attrs.open)return!1;const o=i.node(-2).contentMatchAt(r.indexAfter(-1)),s=u1(o);if(!s)return!1;const a=s.createAndFill();if(!a)return!1;if(t){const l=r.after(-1),u=e.tr.insert(l,a);t(u.setSelection(re.create(u.doc,l+1)).scrollIntoView())}return!0},iT=n=>new Nt({appendTransaction(e,t,i){const{$from:r}=e[e.length-1].selection,o=c1(i,r,n);if(!o||o.node.attrs.open||r.index(o.depth)===0)return null;const a=i.doc.resolve(r.before(o.depth)+2);return i.tr.setSelection(re.create(i.doc,a.end()))}}),rT=(n,e,t,i)=>{const r=()=>{for(let o=1;o<e.childCount;o+=1)n.render(e.child(o),e,o)};n.write("<details>"),n.ensureNewLine(),e.firstChild&&(n.render(e.firstChild,e,0),r()),n.write("</details>"),n.ensureNewLine()},oT=(n,e,t,i)=>{n.write("<summary>"),n.ensureNewLine(),n.renderContent(e),n.ensureNewLine(),n.write("</summary>"),n.ensureNewLine()},sT=n=>({attrs:{language:{}},content:n.content,marks:"",group:n.group,code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}}),aT=(n,e,t,i)=>{n.write(`\`\`\`${e.attrs.language||""}`),n.ensureNewLine(),n.text(e.textContent,!1),n.ensureNewLine(),n.write("```"),n.closeBlock(e)},Rm=[{emoji:"",names:["grinning"],tags:["smile","happy"],description:"grinning face",category:"Smileys & Emotion"},{emoji:"",names:["smiley"],tags:["happy","joy","haha"],description:"grinning face with big eyes",category:"Smileys & Emotion"},{emoji:"",names:["smile"],tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",category:"Smileys & Emotion"},{emoji:"",names:["grin"],tags:[],description:"beaming face with smiling eyes",category:"Smileys & Emotion"},{emoji:"",names:["laughing","satisfied"],tags:["happy","haha"],description:"grinning squinting face",category:"Smileys & Emotion"},{emoji:"",names:["sweat_smile"],tags:["hot"],description:"grinning face with sweat",category:"Smileys & Emotion"},{emoji:"",names:["rofl"],tags:["lol","laughing"],description:"rolling on the floor laughing",category:"Smileys & Emotion"},{emoji:"",names:["joy"],tags:["tears"],description:"face with tears of joy",category:"Smileys & Emotion"},{emoji:"",names:["slightly_smiling_face"],tags:[],description:"slightly smiling face",category:"Smileys & Emotion"},{emoji:"",names:["upside_down_face"],tags:[],description:"upside-down face",category:"Smileys & Emotion"},{emoji:"",names:["melting_face"],tags:["sarcasm","dread"],description:"melting face",category:"Smileys & Emotion"},{emoji:"",names:["wink"],tags:["flirt"],description:"winking face",category:"Smileys & Emotion"},{emoji:"",names:["blush"],tags:["proud"],description:"smiling face with smiling eyes",category:"Smileys & Emotion"},{emoji:"",names:["innocent"],tags:["angel"],description:"smiling face with halo",category:"Smileys & Emotion"},{emoji:"",names:["smiling_face_with_three_hearts"],tags:["love"],description:"smiling face with hearts",category:"Smileys & Emotion"},{emoji:"",names:["heart_eyes"],tags:["love","crush"],description:"smiling face with heart-eyes",category:"Smileys & Emotion"},{emoji:"",names:["star_struck"],tags:["eyes"],description:"star-struck",category:"Smileys & Emotion"},{emoji:"",names:["kissing_heart"],tags:["flirt"],description:"face blowing a kiss",category:"Smileys & Emotion"},{emoji:"",names:["kissing"],tags:[],description:"kissing face",category:"Smileys & Emotion"},{emoji:"",names:["relaxed"],tags:["blush","pleased"],description:"smiling face",category:"Smileys & Emotion"},{emoji:"",names:["kissing_closed_eyes"],tags:[],description:"kissing face with closed eyes",category:"Smileys & Emotion"},{emoji:"",names:["kissing_smiling_eyes"],tags:[],description:"kissing face with smiling eyes",category:"Smileys & Emotion"},{emoji:"",names:["smiling_face_with_tear"],tags:[],description:"smiling face with tear",category:"Smileys & Emotion"},{emoji:"",names:["yum"],tags:["tongue","lick"],description:"face savoring food",category:"Smileys & Emotion"},{emoji:"",names:["stuck_out_tongue"],tags:[],description:"face with tongue",category:"Smileys & Emotion"},{emoji:"",names:["stuck_out_tongue_winking_eye"],tags:["prank","silly"],description:"winking face with tongue",category:"Smileys & Emotion"},{emoji:"",names:["zany_face"],tags:["goofy","wacky"],description:"zany face",category:"Smileys & Emotion"},{emoji:"",names:["stuck_out_tongue_closed_eyes"],tags:["prank"],description:"squinting face with tongue",category:"Smileys & Emotion"},{emoji:"",names:["money_mouth_face"],tags:["rich"],description:"money-mouth face",category:"Smileys & Emotion"},{emoji:"",names:["hugs"],tags:[],description:"smiling face with open hands",category:"Smileys & Emotion"},{emoji:"",names:["hand_over_mouth"],tags:["quiet","whoops"],description:"face with hand over mouth",category:"Smileys & Emotion"},{emoji:"",names:["face_with_open_eyes_and_hand_over_mouth"],tags:["gasp","shock"],description:"face with open eyes and hand over mouth",category:"Smileys & Emotion"},{emoji:"",names:["face_with_peeking_eye"],tags:[],description:"face with peeking eye",category:"Smileys & Emotion"},{emoji:"",names:["shushing_face"],tags:["silence","quiet"],description:"shushing face",category:"Smileys & Emotion"},{emoji:"",names:["thinking"],tags:[],description:"thinking face",category:"Smileys & Emotion"},{emoji:"",names:["saluting_face"],tags:["respect"],description:"saluting face",category:"Smileys & Emotion"},{emoji:"",names:["zipper_mouth_face"],tags:["silence","hush"],description:"zipper-mouth face",category:"Smileys & Emotion"},{emoji:"",names:["raised_eyebrow"],tags:["suspicious"],description:"face with raised eyebrow",category:"Smileys & Emotion"},{emoji:"",names:["neutral_face"],tags:["meh"],description:"neutral face",category:"Smileys & Emotion"},{emoji:"",names:["expressionless"],tags:[],description:"expressionless face",category:"Smileys & Emotion"},{emoji:"",names:["no_mouth"],tags:["mute","silence"],description:"face without mouth",category:"Smileys & Emotion"},{emoji:"",names:["dotted_line_face"],tags:["invisible"],description:"dotted line face",category:"Smileys & Emotion"},{emoji:"",names:["face_in_clouds"],tags:[],description:"face in clouds",category:"Smileys & Emotion"},{emoji:"",names:["smirk"],tags:["smug"],description:"smirking face",category:"Smileys & Emotion"},{emoji:"",names:["unamused"],tags:["meh"],description:"unamused face",category:"Smileys & Emotion"},{emoji:"",names:["roll_eyes"],tags:[],description:"face with rolling eyes",category:"Smileys & Emotion"},{emoji:"",names:["grimacing"],tags:[],description:"grimacing face",category:"Smileys & Emotion"},{emoji:"",names:["face_exhaling"],tags:[],description:"face exhaling",category:"Smileys & Emotion"},{emoji:"",names:["lying_face"],tags:["liar"],description:"lying face",category:"Smileys & Emotion"},{emoji:"",names:["shaking_face"],tags:["shock"],description:"shaking face",category:"Smileys & Emotion"},{emoji:"",names:["relieved"],tags:["whew"],description:"relieved face",category:"Smileys & Emotion"},{emoji:"",names:["pensive"],tags:[],description:"pensive face",category:"Smileys & Emotion"},{emoji:"",names:["sleepy"],tags:["tired"],description:"sleepy face",category:"Smileys & Emotion"},{emoji:"",names:["drooling_face"],tags:[],description:"drooling face",category:"Smileys & Emotion"},{emoji:"",names:["sleeping"],tags:["zzz"],description:"sleeping face",category:"Smileys & Emotion"},{emoji:"",names:["mask"],tags:["sick","ill"],description:"face with medical mask",category:"Smileys & Emotion"},{emoji:"",names:["face_with_thermometer"],tags:["sick"],description:"face with thermometer",category:"Smileys & Emotion"},{emoji:"",names:["face_with_head_bandage"],tags:["hurt"],description:"face with head-bandage",category:"Smileys & Emotion"},{emoji:"",names:["nauseated_face"],tags:["sick","barf","disgusted"],description:"nauseated face",category:"Smileys & Emotion"},{emoji:"",names:["vomiting_face"],tags:["barf","sick"],description:"face vomiting",category:"Smileys & Emotion"},{emoji:"",names:["sneezing_face"],tags:["achoo","sick"],description:"sneezing face",category:"Smileys & Emotion"},{emoji:"",names:["hot_face"],tags:["heat","sweating"],description:"hot face",category:"Smileys & Emotion"},{emoji:"",names:["cold_face"],tags:["freezing","ice"],description:"cold face",category:"Smileys & Emotion"},{emoji:"",names:["woozy_face"],tags:["groggy"],description:"woozy face",category:"Smileys & Emotion"},{emoji:"",names:["dizzy_face"],tags:[],description:"face with crossed-out eyes",category:"Smileys & Emotion"},{emoji:"",names:["face_with_spiral_eyes"],tags:[],description:"face with spiral eyes",category:"Smileys & Emotion"},{emoji:"",names:["exploding_head"],tags:["mind","blown"],description:"exploding head",category:"Smileys & Emotion"},{emoji:"",names:["cowboy_hat_face"],tags:[],description:"cowboy hat face",category:"Smileys & Emotion"},{emoji:"",names:["partying_face"],tags:["celebration","birthday"],description:"partying face",category:"Smileys & Emotion"},{emoji:"",names:["disguised_face"],tags:[],description:"disguised face",category:"Smileys & Emotion"},{emoji:"",names:["sunglasses"],tags:["cool"],description:"smiling face with sunglasses",category:"Smileys & Emotion"},{emoji:"",names:["nerd_face"],tags:["geek","glasses"],description:"nerd face",category:"Smileys & Emotion"},{emoji:"",names:["monocle_face"],tags:[],description:"face with monocle",category:"Smileys & Emotion"},{emoji:"",names:["confused"],tags:[],description:"confused face",category:"Smileys & Emotion"},{emoji:"",names:["face_with_diagonal_mouth"],tags:["confused"],description:"face with diagonal mouth",category:"Smileys & Emotion"},{emoji:"",names:["worried"],tags:["nervous"],description:"worried face",category:"Smileys & Emotion"},{emoji:"",names:["slightly_frowning_face"],tags:[],description:"slightly frowning face",category:"Smileys & Emotion"},{emoji:"",names:["frowning_face"],tags:[],description:"frowning face",category:"Smileys & Emotion"},{emoji:"",names:["open_mouth"],tags:["surprise","impressed","wow"],description:"face with open mouth",category:"Smileys & Emotion"},{emoji:"",names:["hushed"],tags:["silence","speechless"],description:"hushed face",category:"Smileys & Emotion"},{emoji:"",names:["astonished"],tags:["amazed","gasp"],description:"astonished face",category:"Smileys & Emotion"},{emoji:"",names:["flushed"],tags:[],description:"flushed face",category:"Smileys & Emotion"},{emoji:"",names:["pleading_face"],tags:["puppy","eyes"],description:"pleading face",category:"Smileys & Emotion"},{emoji:"",names:["face_holding_back_tears"],tags:["tears","gratitude"],description:"face holding back tears",category:"Smileys & Emotion"},{emoji:"",names:["frowning"],tags:[],description:"frowning face with open mouth",category:"Smileys & Emotion"},{emoji:"",names:["anguished"],tags:["stunned"],description:"anguished face",category:"Smileys & Emotion"},{emoji:"",names:["fearful"],tags:["scared","shocked","oops"],description:"fearful face",category:"Smileys & Emotion"},{emoji:"",names:["cold_sweat"],tags:["nervous"],description:"anxious face with sweat",category:"Smileys & Emotion"},{emoji:"",names:["disappointed_relieved"],tags:["phew","sweat","nervous"],description:"sad but relieved face",category:"Smileys & Emotion"},{emoji:"",names:["cry"],tags:["sad","tear"],description:"crying face",category:"Smileys & Emotion"},{emoji:"",names:["sob"],tags:["sad","cry","bawling"],description:"loudly crying face",category:"Smileys & Emotion"},{emoji:"",names:["scream"],tags:["horror","shocked"],description:"face screaming in fear",category:"Smileys & Emotion"},{emoji:"",names:["confounded"],tags:[],description:"confounded face",category:"Smileys & Emotion"},{emoji:"",names:["persevere"],tags:["struggling"],description:"persevering face",category:"Smileys & Emotion"},{emoji:"",names:["disappointed"],tags:["sad"],description:"disappointed face",category:"Smileys & Emotion"},{emoji:"",names:["sweat"],tags:[],description:"downcast face with sweat",category:"Smileys & Emotion"},{emoji:"",names:["weary"],tags:["tired"],description:"weary face",category:"Smileys & Emotion"},{emoji:"",names:["tired_face"],tags:["upset","whine"],description:"tired face",category:"Smileys & Emotion"},{emoji:"",names:["yawning_face"],tags:[],description:"yawning face",category:"Smileys & Emotion"},{emoji:"",names:["triumph"],tags:["smug"],description:"face with steam from nose",category:"Smileys & Emotion"},{emoji:"",names:["rage","pout"],tags:["angry"],description:"enraged face",category:"Smileys & Emotion"},{emoji:"",names:["angry"],tags:["mad","annoyed"],description:"angry face",category:"Smileys & Emotion"},{emoji:"",names:["cursing_face"],tags:["foul"],description:"face with symbols on mouth",category:"Smileys & Emotion"},{emoji:"",names:["smiling_imp"],tags:["devil","evil","horns"],description:"smiling face with horns",category:"Smileys & Emotion"},{emoji:"",names:["imp"],tags:["angry","devil","evil","horns"],description:"angry face with horns",category:"Smileys & Emotion"},{emoji:"",names:["skull"],tags:["dead","danger","poison"],description:"skull",category:"Smileys & Emotion"},{emoji:"",names:["skull_and_crossbones"],tags:["danger","pirate"],description:"skull and crossbones",category:"Smileys & Emotion"},{emoji:"",names:["hankey","poop","shit"],tags:["crap"],description:"pile of poo",category:"Smileys & Emotion"},{emoji:"",names:["clown_face"],tags:[],description:"clown face",category:"Smileys & Emotion"},{emoji:"",names:["japanese_ogre"],tags:["monster"],description:"ogre",category:"Smileys & Emotion"},{emoji:"",names:["japanese_goblin"],tags:[],description:"goblin",category:"Smileys & Emotion"},{emoji:"",names:["ghost"],tags:["halloween"],description:"ghost",category:"Smileys & Emotion"},{emoji:"",names:["alien"],tags:["ufo"],description:"alien",category:"Smileys & Emotion"},{emoji:"",names:["space_invader"],tags:["game","retro"],description:"alien monster",category:"Smileys & Emotion"},{emoji:"",names:["robot"],tags:[],description:"robot",category:"Smileys & Emotion"},{emoji:"",names:["smiley_cat"],tags:[],description:"grinning cat",category:"Smileys & Emotion"},{emoji:"",names:["smile_cat"],tags:[],description:"grinning cat with smiling eyes",category:"Smileys & Emotion"},{emoji:"",names:["joy_cat"],tags:[],description:"cat with tears of joy",category:"Smileys & Emotion"},{emoji:"",names:["heart_eyes_cat"],tags:[],description:"smiling cat with heart-eyes",category:"Smileys & Emotion"},{emoji:"",names:["smirk_cat"],tags:[],description:"cat with wry smile",category:"Smileys & Emotion"},{emoji:"",names:["kissing_cat"],tags:[],description:"kissing cat",category:"Smileys & Emotion"},{emoji:"",names:["scream_cat"],tags:["horror"],description:"weary cat",category:"Smileys & Emotion"},{emoji:"",names:["crying_cat_face"],tags:["sad","tear"],description:"crying cat",category:"Smileys & Emotion"},{emoji:"",names:["pouting_cat"],tags:[],description:"pouting cat",category:"Smileys & Emotion"},{emoji:"",names:["see_no_evil"],tags:["monkey","blind","ignore"],description:"see-no-evil monkey",category:"Smileys & Emotion"},{emoji:"",names:["hear_no_evil"],tags:["monkey","deaf"],description:"hear-no-evil monkey",category:"Smileys & Emotion"},{emoji:"",names:["speak_no_evil"],tags:["monkey","mute","hush"],description:"speak-no-evil monkey",category:"Smileys & Emotion"},{emoji:"",names:["love_letter"],tags:["email","envelope"],description:"love letter",category:"Smileys & Emotion"},{emoji:"",names:["cupid"],tags:["love","heart"],description:"heart with arrow",category:"Smileys & Emotion"},{emoji:"",names:["gift_heart"],tags:["chocolates"],description:"heart with ribbon",category:"Smileys & Emotion"},{emoji:"",names:["sparkling_heart"],tags:[],description:"sparkling heart",category:"Smileys & Emotion"},{emoji:"",names:["heartpulse"],tags:[],description:"growing heart",category:"Smileys & Emotion"},{emoji:"",names:["heartbeat"],tags:[],description:"beating heart",category:"Smileys & Emotion"},{emoji:"",names:["revolving_hearts"],tags:[],description:"revolving hearts",category:"Smileys & Emotion"},{emoji:"",names:["two_hearts"],tags:[],description:"two hearts",category:"Smileys & Emotion"},{emoji:"",names:["heart_decoration"],tags:[],description:"heart decoration",category:"Smileys & Emotion"},{emoji:"",names:["heavy_heart_exclamation"],tags:[],description:"heart exclamation",category:"Smileys & Emotion"},{emoji:"",names:["broken_heart"],tags:[],description:"broken heart",category:"Smileys & Emotion"},{emoji:"",names:["heart_on_fire"],tags:[],description:"heart on fire",category:"Smileys & Emotion"},{emoji:"",names:["mending_heart"],tags:[],description:"mending heart",category:"Smileys & Emotion"},{emoji:"",names:["heart"],tags:["love"],description:"red heart",category:"Smileys & Emotion"},{emoji:"",names:["pink_heart"],tags:[],description:"pink heart",category:"Smileys & Emotion"},{emoji:"",names:["orange_heart"],tags:[],description:"orange heart",category:"Smileys & Emotion"},{emoji:"",names:["yellow_heart"],tags:[],description:"yellow heart",category:"Smileys & Emotion"},{emoji:"",names:["green_heart"],tags:[],description:"green heart",category:"Smileys & Emotion"},{emoji:"",names:["blue_heart"],tags:[],description:"blue heart",category:"Smileys & Emotion"},{emoji:"",names:["light_blue_heart"],tags:[],description:"light blue heart",category:"Smileys & Emotion"},{emoji:"",names:["purple_heart"],tags:[],description:"purple heart",category:"Smileys & Emotion"},{emoji:"",names:["brown_heart"],tags:[],description:"brown heart",category:"Smileys & Emotion"},{emoji:"",names:["black_heart"],tags:[],description:"black heart",category:"Smileys & Emotion"},{emoji:"",names:["grey_heart"],tags:[],description:"grey heart",category:"Smileys & Emotion"},{emoji:"",names:["white_heart"],tags:[],description:"white heart",category:"Smileys & Emotion"},{emoji:"",names:["kiss"],tags:["lipstick"],description:"kiss mark",category:"Smileys & Emotion"},{emoji:"",names:["100"],tags:["score","perfect"],description:"hundred points",category:"Smileys & Emotion"},{emoji:"",names:["anger"],tags:["angry"],description:"anger symbol",category:"Smileys & Emotion"},{emoji:"",names:["boom","collision"],tags:["explode"],description:"collision",category:"Smileys & Emotion"},{emoji:"",names:["dizzy"],tags:["star"],description:"dizzy",category:"Smileys & Emotion"},{emoji:"",names:["sweat_drops"],tags:["water","workout"],description:"sweat droplets",category:"Smileys & Emotion"},{emoji:"",names:["dash"],tags:["wind","blow","fast"],description:"dashing away",category:"Smileys & Emotion"},{emoji:"",names:["hole"],tags:[],description:"hole",category:"Smileys & Emotion"},{emoji:"",names:["speech_balloon"],tags:["comment"],description:"speech balloon",category:"Smileys & Emotion"},{emoji:"",names:["eye_speech_bubble"],tags:[],description:"eye in speech bubble",category:"Smileys & Emotion"},{emoji:"",names:["left_speech_bubble"],tags:[],description:"left speech bubble",category:"Smileys & Emotion"},{emoji:"",names:["right_anger_bubble"],tags:[],description:"right anger bubble",category:"Smileys & Emotion"},{emoji:"",names:["thought_balloon"],tags:["thinking"],description:"thought balloon",category:"Smileys & Emotion"},{emoji:"",names:["zzz"],tags:["sleeping"],description:"ZZZ",category:"Smileys & Emotion"},{emoji:"",names:["wave"],tags:["goodbye"],description:"waving hand",category:"People & Body"},{emoji:"",names:["raised_back_of_hand"],tags:[],description:"raised back of hand",category:"People & Body"},{emoji:"",names:["raised_hand_with_fingers_splayed"],tags:[],description:"hand with fingers splayed",category:"People & Body"},{emoji:"",names:["hand","raised_hand"],tags:["highfive","stop"],description:"raised hand",category:"People & Body"},{emoji:"",names:["vulcan_salute"],tags:["prosper","spock"],description:"vulcan salute",category:"People & Body"},{emoji:"",names:["rightwards_hand"],tags:[],description:"rightwards hand",category:"People & Body"},{emoji:"",names:["leftwards_hand"],tags:[],description:"leftwards hand",category:"People & Body"},{emoji:"",names:["palm_down_hand"],tags:[],description:"palm down hand",category:"People & Body"},{emoji:"",names:["palm_up_hand"],tags:[],description:"palm up hand",category:"People & Body"},{emoji:"",names:["leftwards_pushing_hand"],tags:[],description:"leftwards pushing hand",category:"People & Body"},{emoji:"",names:["rightwards_pushing_hand"],tags:[],description:"rightwards pushing hand",category:"People & Body"},{emoji:"",names:["ok_hand"],tags:[],description:"OK hand",category:"People & Body"},{emoji:"",names:["pinched_fingers"],tags:[],description:"pinched fingers",category:"People & Body"},{emoji:"",names:["pinching_hand"],tags:[],description:"pinching hand",category:"People & Body"},{emoji:"",names:["v"],tags:["victory","peace"],description:"victory hand",category:"People & Body"},{emoji:"",names:["crossed_fingers"],tags:["luck","hopeful"],description:"crossed fingers",category:"People & Body"},{emoji:"",names:["hand_with_index_finger_and_thumb_crossed"],tags:[],description:"hand with index finger and thumb crossed",category:"People & Body"},{emoji:"",names:["love_you_gesture"],tags:[],description:"love-you gesture",category:"People & Body"},{emoji:"",names:["metal"],tags:[],description:"sign of the horns",category:"People & Body"},{emoji:"",names:["call_me_hand"],tags:[],description:"call me hand",category:"People & Body"},{emoji:"",names:["point_left"],tags:[],description:"backhand index pointing left",category:"People & Body"},{emoji:"",names:["point_right"],tags:[],description:"backhand index pointing right",category:"People & Body"},{emoji:"",names:["point_up_2"],tags:[],description:"backhand index pointing up",category:"People & Body"},{emoji:"",names:["middle_finger","fu"],tags:[],description:"middle finger",category:"People & Body"},{emoji:"",names:["point_down"],tags:[],description:"backhand index pointing down",category:"People & Body"},{emoji:"",names:["point_up"],tags:[],description:"index pointing up",category:"People & Body"},{emoji:"",names:["index_pointing_at_the_viewer"],tags:[],description:"index pointing at the viewer",category:"People & Body"},{emoji:"",names:["+1","thumbsup"],tags:["approve","ok"],description:"thumbs up",category:"People & Body"},{emoji:"",names:["-1","thumbsdown"],tags:["disapprove","bury"],description:"thumbs down",category:"People & Body"},{emoji:"",names:["fist_raised","fist"],tags:["power"],description:"raised fist",category:"People & Body"},{emoji:"",names:["fist_oncoming","facepunch","punch"],tags:["attack"],description:"oncoming fist",category:"People & Body"},{emoji:"",names:["fist_left"],tags:[],description:"left-facing fist",category:"People & Body"},{emoji:"",names:["fist_right"],tags:[],description:"right-facing fist",category:"People & Body"},{emoji:"",names:["clap"],tags:["praise","applause"],description:"clapping hands",category:"People & Body"},{emoji:"",names:["raised_hands"],tags:["hooray"],description:"raising hands",category:"People & Body"},{emoji:"",names:["heart_hands"],tags:["love"],description:"heart hands",category:"People & Body"},{emoji:"",names:["open_hands"],tags:[],description:"open hands",category:"People & Body"},{emoji:"",names:["palms_up_together"],tags:[],description:"palms up together",category:"People & Body"},{emoji:"",names:["handshake"],tags:["deal"],description:"handshake",category:"People & Body"},{emoji:"",names:["pray"],tags:["please","hope","wish"],description:"folded hands",category:"People & Body"},{emoji:"",names:["writing_hand"],tags:[],description:"writing hand",category:"People & Body"},{emoji:"",names:["nail_care"],tags:["beauty","manicure"],description:"nail polish",category:"People & Body"},{emoji:"",names:["selfie"],tags:[],description:"selfie",category:"People & Body"},{emoji:"",names:["muscle"],tags:["flex","bicep","strong","workout"],description:"flexed biceps",category:"People & Body"},{emoji:"",names:["mechanical_arm"],tags:[],description:"mechanical arm",category:"People & Body"},{emoji:"",names:["mechanical_leg"],tags:[],description:"mechanical leg",category:"People & Body"},{emoji:"",names:["leg"],tags:[],description:"leg",category:"People & Body"},{emoji:"",names:["foot"],tags:[],description:"foot",category:"People & Body"},{emoji:"",names:["ear"],tags:["hear","sound","listen"],description:"ear",category:"People & Body"},{emoji:"",names:["ear_with_hearing_aid"],tags:[],description:"ear with hearing aid",category:"People & Body"},{emoji:"",names:["nose"],tags:["smell"],description:"nose",category:"People & Body"},{emoji:"",names:["brain"],tags:[],description:"brain",category:"People & Body"},{emoji:"",names:["anatomical_heart"],tags:[],description:"anatomical heart",category:"People & Body"},{emoji:"",names:["lungs"],tags:[],description:"lungs",category:"People & Body"},{emoji:"",names:["tooth"],tags:[],description:"tooth",category:"People & Body"},{emoji:"",names:["bone"],tags:[],description:"bone",category:"People & Body"},{emoji:"",names:["eyes"],tags:["look","see","watch"],description:"eyes",category:"People & Body"},{emoji:"",names:["eye"],tags:[],description:"eye",category:"People & Body"},{emoji:"",names:["tongue"],tags:["taste"],description:"tongue",category:"People & Body"},{emoji:"",names:["lips"],tags:["kiss"],description:"mouth",category:"People & Body"},{emoji:"",names:["biting_lip"],tags:[],description:"biting lip",category:"People & Body"},{emoji:"",names:["baby"],tags:["child","newborn"],description:"baby",category:"People & Body"},{emoji:"",names:["child"],tags:[],description:"child",category:"People & Body"},{emoji:"",names:["boy"],tags:["child"],description:"boy",category:"People & Body"},{emoji:"",names:["girl"],tags:["child"],description:"girl",category:"People & Body"},{emoji:"",names:["adult"],tags:[],description:"person",category:"People & Body"},{emoji:"",names:["blond_haired_person"],tags:[],description:"person: blond hair",category:"People & Body"},{emoji:"",names:["man"],tags:["mustache","father","dad"],description:"man",category:"People & Body"},{emoji:"",names:["bearded_person"],tags:[],description:"person: beard",category:"People & Body"},{emoji:"",names:["man_beard"],tags:[],description:"man: beard",category:"People & Body"},{emoji:"",names:["woman_beard"],tags:[],description:"woman: beard",category:"People & Body"},{emoji:"",names:["red_haired_man"],tags:[],description:"man: red hair",category:"People & Body"},{emoji:"",names:["curly_haired_man"],tags:[],description:"man: curly hair",category:"People & Body"},{emoji:"",names:["white_haired_man"],tags:[],description:"man: white hair",category:"People & Body"},{emoji:"",names:["bald_man"],tags:[],description:"man: bald",category:"People & Body"},{emoji:"",names:["woman"],tags:["girls"],description:"woman",category:"People & Body"},{emoji:"",names:["red_haired_woman"],tags:[],description:"woman: red hair",category:"People & Body"},{emoji:"",names:["person_red_hair"],tags:[],description:"person: red hair",category:"People & Body"},{emoji:"",names:["curly_haired_woman"],tags:[],description:"woman: curly hair",category:"People & Body"},{emoji:"",names:["person_curly_hair"],tags:[],description:"person: curly hair",category:"People & Body"},{emoji:"",names:["white_haired_woman"],tags:[],description:"woman: white hair",category:"People & Body"},{emoji:"",names:["person_white_hair"],tags:[],description:"person: white hair",category:"People & Body"},{emoji:"",names:["bald_woman"],tags:[],description:"woman: bald",category:"People & Body"},{emoji:"",names:["person_bald"],tags:[],description:"person: bald",category:"People & Body"},{emoji:"",names:["blond_haired_woman","blonde_woman"],tags:[],description:"woman: blond hair",category:"People & Body"},{emoji:"",names:["blond_haired_man"],tags:[],description:"man: blond hair",category:"People & Body"},{emoji:"",names:["older_adult"],tags:[],description:"older person",category:"People & Body"},{emoji:"",names:["older_man"],tags:[],description:"old man",category:"People & Body"},{emoji:"",names:["older_woman"],tags:[],description:"old woman",category:"People & Body"},{emoji:"",names:["frowning_person"],tags:[],description:"person frowning",category:"People & Body"},{emoji:"",names:["frowning_man"],tags:[],description:"man frowning",category:"People & Body"},{emoji:"",names:["frowning_woman"],tags:[],description:"woman frowning",category:"People & Body"},{emoji:"",names:["pouting_face"],tags:[],description:"person pouting",category:"People & Body"},{emoji:"",names:["pouting_man"],tags:[],description:"man pouting",category:"People & Body"},{emoji:"",names:["pouting_woman"],tags:[],description:"woman pouting",category:"People & Body"},{emoji:"",names:["no_good"],tags:["stop","halt","denied"],description:"person gesturing NO",category:"People & Body"},{emoji:"",names:["no_good_man","ng_man"],tags:["stop","halt","denied"],description:"man gesturing NO",category:"People & Body"},{emoji:"",names:["no_good_woman","ng_woman"],tags:["stop","halt","denied"],description:"woman gesturing NO",category:"People & Body"},{emoji:"",names:["ok_person"],tags:[],description:"person gesturing OK",category:"People & Body"},{emoji:"",names:["ok_man"],tags:[],description:"man gesturing OK",category:"People & Body"},{emoji:"",names:["ok_woman"],tags:[],description:"woman gesturing OK",category:"People & Body"},{emoji:"",names:["tipping_hand_person","information_desk_person"],tags:[],description:"person tipping hand",category:"People & Body"},{emoji:"",names:["tipping_hand_man","sassy_man"],tags:["information"],description:"man tipping hand",category:"People & Body"},{emoji:"",names:["tipping_hand_woman","sassy_woman"],tags:["information"],description:"woman tipping hand",category:"People & Body"},{emoji:"",names:["raising_hand"],tags:[],description:"person raising hand",category:"People & Body"},{emoji:"",names:["raising_hand_man"],tags:[],description:"man raising hand",category:"People & Body"},{emoji:"",names:["raising_hand_woman"],tags:[],description:"woman raising hand",category:"People & Body"},{emoji:"",names:["deaf_person"],tags:[],description:"deaf person",category:"People & Body"},{emoji:"",names:["deaf_man"],tags:[],description:"deaf man",category:"People & Body"},{emoji:"",names:["deaf_woman"],tags:[],description:"deaf woman",category:"People & Body"},{emoji:"",names:["bow"],tags:["respect","thanks"],description:"person bowing",category:"People & Body"},{emoji:"",names:["bowing_man"],tags:["respect","thanks"],description:"man bowing",category:"People & Body"},{emoji:"",names:["bowing_woman"],tags:["respect","thanks"],description:"woman bowing",category:"People & Body"},{emoji:"",names:["facepalm"],tags:[],description:"person facepalming",category:"People & Body"},{emoji:"",names:["man_facepalming"],tags:[],description:"man facepalming",category:"People & Body"},{emoji:"",names:["woman_facepalming"],tags:[],description:"woman facepalming",category:"People & Body"},{emoji:"",names:["shrug"],tags:[],description:"person shrugging",category:"People & Body"},{emoji:"",names:["man_shrugging"],tags:[],description:"man shrugging",category:"People & Body"},{emoji:"",names:["woman_shrugging"],tags:[],description:"woman shrugging",category:"People & Body"},{emoji:"",names:["health_worker"],tags:[],description:"health worker",category:"People & Body"},{emoji:"",names:["man_health_worker"],tags:["doctor","nurse"],description:"man health worker",category:"People & Body"},{emoji:"",names:["woman_health_worker"],tags:["doctor","nurse"],description:"woman health worker",category:"People & Body"},{emoji:"",names:["student"],tags:[],description:"student",category:"People & Body"},{emoji:"",names:["man_student"],tags:["graduation"],description:"man student",category:"People & Body"},{emoji:"",names:["woman_student"],tags:["graduation"],description:"woman student",category:"People & Body"},{emoji:"",names:["teacher"],tags:[],description:"teacher",category:"People & Body"},{emoji:"",names:["man_teacher"],tags:["school","professor"],description:"man teacher",category:"People & Body"},{emoji:"",names:["woman_teacher"],tags:["school","professor"],description:"woman teacher",category:"People & Body"},{emoji:"",names:["judge"],tags:[],description:"judge",category:"People & Body"},{emoji:"",names:["man_judge"],tags:["justice"],description:"man judge",category:"People & Body"},{emoji:"",names:["woman_judge"],tags:["justice"],description:"woman judge",category:"People & Body"},{emoji:"",names:["farmer"],tags:[],description:"farmer",category:"People & Body"},{emoji:"",names:["man_farmer"],tags:[],description:"man farmer",category:"People & Body"},{emoji:"",names:["woman_farmer"],tags:[],description:"woman farmer",category:"People & Body"},{emoji:"",names:["cook"],tags:[],description:"cook",category:"People & Body"},{emoji:"",names:["man_cook"],tags:["chef"],description:"man cook",category:"People & Body"},{emoji:"",names:["woman_cook"],tags:["chef"],description:"woman cook",category:"People & Body"},{emoji:"",names:["mechanic"],tags:[],description:"mechanic",category:"People & Body"},{emoji:"",names:["man_mechanic"],tags:[],description:"man mechanic",category:"People & Body"},{emoji:"",names:["woman_mechanic"],tags:[],description:"woman mechanic",category:"People & Body"},{emoji:"",names:["factory_worker"],tags:[],description:"factory worker",category:"People & Body"},{emoji:"",names:["man_factory_worker"],tags:[],description:"man factory worker",category:"People & Body"},{emoji:"",names:["woman_factory_worker"],tags:[],description:"woman factory worker",category:"People & Body"},{emoji:"",names:["office_worker"],tags:[],description:"office worker",category:"People & Body"},{emoji:"",names:["man_office_worker"],tags:["business"],description:"man office worker",category:"People & Body"},{emoji:"",names:["woman_office_worker"],tags:["business"],description:"woman office worker",category:"People & Body"},{emoji:"",names:["scientist"],tags:[],description:"scientist",category:"People & Body"},{emoji:"",names:["man_scientist"],tags:["research"],description:"man scientist",category:"People & Body"},{emoji:"",names:["woman_scientist"],tags:["research"],description:"woman scientist",category:"People & Body"},{emoji:"",names:["technologist"],tags:[],description:"technologist",category:"People & Body"},{emoji:"",names:["man_technologist"],tags:["coder"],description:"man technologist",category:"People & Body"},{emoji:"",names:["woman_technologist"],tags:["coder"],description:"woman technologist",category:"People & Body"},{emoji:"",names:["singer"],tags:[],description:"singer",category:"People & Body"},{emoji:"",names:["man_singer"],tags:["rockstar"],description:"man singer",category:"People & Body"},{emoji:"",names:["woman_singer"],tags:["rockstar"],description:"woman singer",category:"People & Body"},{emoji:"",names:["artist"],tags:[],description:"artist",category:"People & Body"},{emoji:"",names:["man_artist"],tags:["painter"],description:"man artist",category:"People & Body"},{emoji:"",names:["woman_artist"],tags:["painter"],description:"woman artist",category:"People & Body"},{emoji:"",names:["pilot"],tags:[],description:"pilot",category:"People & Body"},{emoji:"",names:["man_pilot"],tags:[],description:"man pilot",category:"People & Body"},{emoji:"",names:["woman_pilot"],tags:[],description:"woman pilot",category:"People & Body"},{emoji:"",names:["astronaut"],tags:[],description:"astronaut",category:"People & Body"},{emoji:"",names:["man_astronaut"],tags:["space"],description:"man astronaut",category:"People & Body"},{emoji:"",names:["woman_astronaut"],tags:["space"],description:"woman astronaut",category:"People & Body"},{emoji:"",names:["firefighter"],tags:[],description:"firefighter",category:"People & Body"},{emoji:"",names:["man_firefighter"],tags:[],description:"man firefighter",category:"People & Body"},{emoji:"",names:["woman_firefighter"],tags:[],description:"woman firefighter",category:"People & Body"},{emoji:"",names:["police_officer","cop"],tags:["law"],description:"police officer",category:"People & Body"},{emoji:"",names:["policeman"],tags:["law","cop"],description:"man police officer",category:"People & Body"},{emoji:"",names:["policewoman"],tags:["law","cop"],description:"woman police officer",category:"People & Body"},{emoji:"",names:["detective"],tags:["sleuth"],description:"detective",category:"People & Body"},{emoji:"",names:["male_detective"],tags:["sleuth"],description:"man detective",category:"People & Body"},{emoji:"",names:["female_detective"],tags:["sleuth"],description:"woman detective",category:"People & Body"},{emoji:"",names:["guard"],tags:[],description:"guard",category:"People & Body"},{emoji:"",names:["guardsman"],tags:[],description:"man guard",category:"People & Body"},{emoji:"",names:["guardswoman"],tags:[],description:"woman guard",category:"People & Body"},{emoji:"",names:["ninja"],tags:[],description:"ninja",category:"People & Body"},{emoji:"",names:["construction_worker"],tags:["helmet"],description:"construction worker",category:"People & Body"},{emoji:"",names:["construction_worker_man"],tags:["helmet"],description:"man construction worker",category:"People & Body"},{emoji:"",names:["construction_worker_woman"],tags:["helmet"],description:"woman construction worker",category:"People & Body"},{emoji:"",names:["person_with_crown"],tags:[],description:"person with crown",category:"People & Body"},{emoji:"",names:["prince"],tags:["crown","royal"],description:"prince",category:"People & Body"},{emoji:"",names:["princess"],tags:["crown","royal"],description:"princess",category:"People & Body"},{emoji:"",names:["person_with_turban"],tags:[],description:"person wearing turban",category:"People & Body"},{emoji:"",names:["man_with_turban"],tags:[],description:"man wearing turban",category:"People & Body"},{emoji:"",names:["woman_with_turban"],tags:[],description:"woman wearing turban",category:"People & Body"},{emoji:"",names:["man_with_gua_pi_mao"],tags:[],description:"person with skullcap",category:"People & Body"},{emoji:"",names:["woman_with_headscarf"],tags:["hijab"],description:"woman with headscarf",category:"People & Body"},{emoji:"",names:["person_in_tuxedo"],tags:["groom","marriage","wedding"],description:"person in tuxedo",category:"People & Body"},{emoji:"",names:["man_in_tuxedo"],tags:[],description:"man in tuxedo",category:"People & Body"},{emoji:"",names:["woman_in_tuxedo"],tags:[],description:"woman in tuxedo",category:"People & Body"},{emoji:"",names:["person_with_veil"],tags:["marriage","wedding"],description:"person with veil",category:"People & Body"},{emoji:"",names:["man_with_veil"],tags:[],description:"man with veil",category:"People & Body"},{emoji:"",names:["woman_with_veil","bride_with_veil"],tags:[],description:"woman with veil",category:"People & Body"},{emoji:"",names:["pregnant_woman"],tags:[],description:"pregnant woman",category:"People & Body"},{emoji:"",names:["pregnant_man"],tags:[],description:"pregnant man",category:"People & Body"},{emoji:"",names:["pregnant_person"],tags:[],description:"pregnant person",category:"People & Body"},{emoji:"",names:["breast_feeding"],tags:["nursing"],description:"breast-feeding",category:"People & Body"},{emoji:"",names:["woman_feeding_baby"],tags:[],description:"woman feeding baby",category:"People & Body"},{emoji:"",names:["man_feeding_baby"],tags:[],description:"man feeding baby",category:"People & Body"},{emoji:"",names:["person_feeding_baby"],tags:[],description:"person feeding baby",category:"People & Body"},{emoji:"",names:["angel"],tags:[],description:"baby angel",category:"People & Body"},{emoji:"",names:["santa"],tags:["christmas"],description:"Santa Claus",category:"People & Body"},{emoji:"",names:["mrs_claus"],tags:["santa"],description:"Mrs. Claus",category:"People & Body"},{emoji:"",names:["mx_claus"],tags:[],description:"mx claus",category:"People & Body"},{emoji:"",names:["superhero"],tags:[],description:"superhero",category:"People & Body"},{emoji:"",names:["superhero_man"],tags:[],description:"man superhero",category:"People & Body"},{emoji:"",names:["superhero_woman"],tags:[],description:"woman superhero",category:"People & Body"},{emoji:"",names:["supervillain"],tags:[],description:"supervillain",category:"People & Body"},{emoji:"",names:["supervillain_man"],tags:[],description:"man supervillain",category:"People & Body"},{emoji:"",names:["supervillain_woman"],tags:[],description:"woman supervillain",category:"People & Body"},{emoji:"",names:["mage"],tags:["wizard"],description:"mage",category:"People & Body"},{emoji:"",names:["mage_man"],tags:["wizard"],description:"man mage",category:"People & Body"},{emoji:"",names:["mage_woman"],tags:["wizard"],description:"woman mage",category:"People & Body"},{emoji:"",names:["fairy"],tags:[],description:"fairy",category:"People & Body"},{emoji:"",names:["fairy_man"],tags:[],description:"man fairy",category:"People & Body"},{emoji:"",names:["fairy_woman"],tags:[],description:"woman fairy",category:"People & Body"},{emoji:"",names:["vampire"],tags:[],description:"vampire",category:"People & Body"},{emoji:"",names:["vampire_man"],tags:[],description:"man vampire",category:"People & Body"},{emoji:"",names:["vampire_woman"],tags:[],description:"woman vampire",category:"People & Body"},{emoji:"",names:["merperson"],tags:[],description:"merperson",category:"People & Body"},{emoji:"",names:["merman"],tags:[],description:"merman",category:"People & Body"},{emoji:"",names:["mermaid"],tags:[],description:"mermaid",category:"People & Body"},{emoji:"",names:["elf"],tags:[],description:"elf",category:"People & Body"},{emoji:"",names:["elf_man"],tags:[],description:"man elf",category:"People & Body"},{emoji:"",names:["elf_woman"],tags:[],description:"woman elf",category:"People & Body"},{emoji:"",names:["genie"],tags:[],description:"genie",category:"People & Body"},{emoji:"",names:["genie_man"],tags:[],description:"man genie",category:"People & Body"},{emoji:"",names:["genie_woman"],tags:[],description:"woman genie",category:"People & Body"},{emoji:"",names:["zombie"],tags:[],description:"zombie",category:"People & Body"},{emoji:"",names:["zombie_man"],tags:[],description:"man zombie",category:"People & Body"},{emoji:"",names:["zombie_woman"],tags:[],description:"woman zombie",category:"People & Body"},{emoji:"",names:["troll"],tags:[],description:"troll",category:"People & Body"},{emoji:"",names:["massage"],tags:["spa"],description:"person getting massage",category:"People & Body"},{emoji:"",names:["massage_man"],tags:["spa"],description:"man getting massage",category:"People & Body"},{emoji:"",names:["massage_woman"],tags:["spa"],description:"woman getting massage",category:"People & Body"},{emoji:"",names:["haircut"],tags:["beauty"],description:"person getting haircut",category:"People & Body"},{emoji:"",names:["haircut_man"],tags:[],description:"man getting haircut",category:"People & Body"},{emoji:"",names:["haircut_woman"],tags:[],description:"woman getting haircut",category:"People & Body"},{emoji:"",names:["walking"],tags:[],description:"person walking",category:"People & Body"},{emoji:"",names:["walking_man"],tags:[],description:"man walking",category:"People & Body"},{emoji:"",names:["walking_woman"],tags:[],description:"woman walking",category:"People & Body"},{emoji:"",names:["standing_person"],tags:[],description:"person standing",category:"People & Body"},{emoji:"",names:["standing_man"],tags:[],description:"man standing",category:"People & Body"},{emoji:"",names:["standing_woman"],tags:[],description:"woman standing",category:"People & Body"},{emoji:"",names:["kneeling_person"],tags:[],description:"person kneeling",category:"People & Body"},{emoji:"",names:["kneeling_man"],tags:[],description:"man kneeling",category:"People & Body"},{emoji:"",names:["kneeling_woman"],tags:[],description:"woman kneeling",category:"People & Body"},{emoji:"",names:["person_with_probing_cane"],tags:[],description:"person with white cane",category:"People & Body"},{emoji:"",names:["man_with_probing_cane"],tags:[],description:"man with white cane",category:"People & Body"},{emoji:"",names:["woman_with_probing_cane"],tags:[],description:"woman with white cane",category:"People & Body"},{emoji:"",names:["person_in_motorized_wheelchair"],tags:[],description:"person in motorized wheelchair",category:"People & Body"},{emoji:"",names:["man_in_motorized_wheelchair"],tags:[],description:"man in motorized wheelchair",category:"People & Body"},{emoji:"",names:["woman_in_motorized_wheelchair"],tags:[],description:"woman in motorized wheelchair",category:"People & Body"},{emoji:"",names:["person_in_manual_wheelchair"],tags:[],description:"person in manual wheelchair",category:"People & Body"},{emoji:"",names:["man_in_manual_wheelchair"],tags:[],description:"man in manual wheelchair",category:"People & Body"},{emoji:"",names:["woman_in_manual_wheelchair"],tags:[],description:"woman in manual wheelchair",category:"People & Body"},{emoji:"",names:["runner","running"],tags:["exercise","workout","marathon"],description:"person running",category:"People & Body"},{emoji:"",names:["running_man"],tags:["exercise","workout","marathon"],description:"man running",category:"People & Body"},{emoji:"",names:["running_woman"],tags:["exercise","workout","marathon"],description:"woman running",category:"People & Body"},{emoji:"",names:["woman_dancing","dancer"],tags:["dress"],description:"woman dancing",category:"People & Body"},{emoji:"",names:["man_dancing"],tags:["dancer"],description:"man dancing",category:"People & Body"},{emoji:"",names:["business_suit_levitating"],tags:[],description:"person in suit levitating",category:"People & Body"},{emoji:"",names:["dancers"],tags:["bunny"],description:"people with bunny ears",category:"People & Body"},{emoji:"",names:["dancing_men"],tags:["bunny"],description:"men with bunny ears",category:"People & Body"},{emoji:"",names:["dancing_women"],tags:["bunny"],description:"women with bunny ears",category:"People & Body"},{emoji:"",names:["sauna_person"],tags:["steamy"],description:"person in steamy room",category:"People & Body"},{emoji:"",names:["sauna_man"],tags:["steamy"],description:"man in steamy room",category:"People & Body"},{emoji:"",names:["sauna_woman"],tags:["steamy"],description:"woman in steamy room",category:"People & Body"},{emoji:"",names:["climbing"],tags:["bouldering"],description:"person climbing",category:"People & Body"},{emoji:"",names:["climbing_man"],tags:["bouldering"],description:"man climbing",category:"People & Body"},{emoji:"",names:["climbing_woman"],tags:["bouldering"],description:"woman climbing",category:"People & Body"},{emoji:"",names:["person_fencing"],tags:[],description:"person fencing",category:"People & Body"},{emoji:"",names:["horse_racing"],tags:[],description:"horse racing",category:"People & Body"},{emoji:"",names:["skier"],tags:[],description:"skier",category:"People & Body"},{emoji:"",names:["snowboarder"],tags:[],description:"snowboarder",category:"People & Body"},{emoji:"",names:["golfing"],tags:[],description:"person golfing",category:"People & Body"},{emoji:"",names:["golfing_man"],tags:[],description:"man golfing",category:"People & Body"},{emoji:"",names:["golfing_woman"],tags:[],description:"woman golfing",category:"People & Body"},{emoji:"",names:["surfer"],tags:[],description:"person surfing",category:"People & Body"},{emoji:"",names:["surfing_man"],tags:[],description:"man surfing",category:"People & Body"},{emoji:"",names:["surfing_woman"],tags:[],description:"woman surfing",category:"People & Body"},{emoji:"",names:["rowboat"],tags:[],description:"person rowing boat",category:"People & Body"},{emoji:"",names:["rowing_man"],tags:[],description:"man rowing boat",category:"People & Body"},{emoji:"",names:["rowing_woman"],tags:[],description:"woman rowing boat",category:"People & Body"},{emoji:"",names:["swimmer"],tags:[],description:"person swimming",category:"People & Body"},{emoji:"",names:["swimming_man"],tags:[],description:"man swimming",category:"People & Body"},{emoji:"",names:["swimming_woman"],tags:[],description:"woman swimming",category:"People & Body"},{emoji:"",names:["bouncing_ball_person"],tags:["basketball"],description:"person bouncing ball",category:"People & Body"},{emoji:"",names:["bouncing_ball_man","basketball_man"],tags:[],description:"man bouncing ball",category:"People & Body"},{emoji:"",names:["bouncing_ball_woman","basketball_woman"],tags:[],description:"woman bouncing ball",category:"People & Body"},{emoji:"",names:["weight_lifting"],tags:["gym","workout"],description:"person lifting weights",category:"People & Body"},{emoji:"",names:["weight_lifting_man"],tags:["gym","workout"],description:"man lifting weights",category:"People & Body"},{emoji:"",names:["weight_lifting_woman"],tags:["gym","workout"],description:"woman lifting weights",category:"People & Body"},{emoji:"",names:["bicyclist"],tags:[],description:"person biking",category:"People & Body"},{emoji:"",names:["biking_man"],tags:[],description:"man biking",category:"People & Body"},{emoji:"",names:["biking_woman"],tags:[],description:"woman biking",category:"People & Body"},{emoji:"",names:["mountain_bicyclist"],tags:[],description:"person mountain biking",category:"People & Body"},{emoji:"",names:["mountain_biking_man"],tags:[],description:"man mountain biking",category:"People & Body"},{emoji:"",names:["mountain_biking_woman"],tags:[],description:"woman mountain biking",category:"People & Body"},{emoji:"",names:["cartwheeling"],tags:[],description:"person cartwheeling",category:"People & Body"},{emoji:"",names:["man_cartwheeling"],tags:[],description:"man cartwheeling",category:"People & Body"},{emoji:"",names:["woman_cartwheeling"],tags:[],description:"woman cartwheeling",category:"People & Body"},{emoji:"",names:["wrestling"],tags:[],description:"people wrestling",category:"People & Body"},{emoji:"",names:["men_wrestling"],tags:[],description:"men wrestling",category:"People & Body"},{emoji:"",names:["women_wrestling"],tags:[],description:"women wrestling",category:"People & Body"},{emoji:"",names:["water_polo"],tags:[],description:"person playing water polo",category:"People & Body"},{emoji:"",names:["man_playing_water_polo"],tags:[],description:"man playing water polo",category:"People & Body"},{emoji:"",names:["woman_playing_water_polo"],tags:[],description:"woman playing water polo",category:"People & Body"},{emoji:"",names:["handball_person"],tags:[],description:"person playing handball",category:"People & Body"},{emoji:"",names:["man_playing_handball"],tags:[],description:"man playing handball",category:"People & Body"},{emoji:"",names:["woman_playing_handball"],tags:[],description:"woman playing handball",category:"People & Body"},{emoji:"",names:["juggling_person"],tags:[],description:"person juggling",category:"People & Body"},{emoji:"",names:["man_juggling"],tags:[],description:"man juggling",category:"People & Body"},{emoji:"",names:["woman_juggling"],tags:[],description:"woman juggling",category:"People & Body"},{emoji:"",names:["lotus_position"],tags:["meditation"],description:"person in lotus position",category:"People & Body"},{emoji:"",names:["lotus_position_man"],tags:["meditation"],description:"man in lotus position",category:"People & Body"},{emoji:"",names:["lotus_position_woman"],tags:["meditation"],description:"woman in lotus position",category:"People & Body"},{emoji:"",names:["bath"],tags:["shower"],description:"person taking bath",category:"People & Body"},{emoji:"",names:["sleeping_bed"],tags:[],description:"person in bed",category:"People & Body"},{emoji:"",names:["people_holding_hands"],tags:["couple","date"],description:"people holding hands",category:"People & Body"},{emoji:"",names:["two_women_holding_hands"],tags:["couple","date"],description:"women holding hands",category:"People & Body"},{emoji:"",names:["couple"],tags:["date"],description:"woman and man holding hands",category:"People & Body"},{emoji:"",names:["two_men_holding_hands"],tags:["couple","date"],description:"men holding hands",category:"People & Body"},{emoji:"",names:["couplekiss"],tags:[],description:"kiss",category:"People & Body"},{emoji:"",names:["couplekiss_man_woman"],tags:[],description:"kiss: woman, man",category:"People & Body"},{emoji:"",names:["couplekiss_man_man"],tags:[],description:"kiss: man, man",category:"People & Body"},{emoji:"",names:["couplekiss_woman_woman"],tags:[],description:"kiss: woman, woman",category:"People & Body"},{emoji:"",names:["couple_with_heart"],tags:[],description:"couple with heart",category:"People & Body"},{emoji:"",names:["couple_with_heart_woman_man"],tags:[],description:"couple with heart: woman, man",category:"People & Body"},{emoji:"",names:["couple_with_heart_man_man"],tags:[],description:"couple with heart: man, man",category:"People & Body"},{emoji:"",names:["couple_with_heart_woman_woman"],tags:[],description:"couple with heart: woman, woman",category:"People & Body"},{emoji:"",names:["family"],tags:["home","parents","child"],description:"family",category:"People & Body"},{emoji:"",names:["family_man_woman_boy"],tags:[],description:"family: man, woman, boy",category:"People & Body"},{emoji:"",names:["family_man_woman_girl"],tags:[],description:"family: man, woman, girl",category:"People & Body"},{emoji:"",names:["family_man_woman_girl_boy"],tags:[],description:"family: man, woman, girl, boy",category:"People & Body"},{emoji:"",names:["family_man_woman_boy_boy"],tags:[],description:"family: man, woman, boy, boy",category:"People & Body"},{emoji:"",names:["family_man_woman_girl_girl"],tags:[],description:"family: man, woman, girl, girl",category:"People & Body"},{emoji:"",names:["family_man_man_boy"],tags:[],description:"family: man, man, boy",category:"People & Body"},{emoji:"",names:["family_man_man_girl"],tags:[],description:"family: man, man, girl",category:"People & Body"},{emoji:"",names:["family_man_man_girl_boy"],tags:[],description:"family: man, man, girl, boy",category:"People & Body"},{emoji:"",names:["family_man_man_boy_boy"],tags:[],description:"family: man, man, boy, boy",category:"People & Body"},{emoji:"",names:["family_man_man_girl_girl"],tags:[],description:"family: man, man, girl, girl",category:"People & Body"},{emoji:"",names:["family_woman_woman_boy"],tags:[],description:"family: woman, woman, boy",category:"People & Body"},{emoji:"",names:["family_woman_woman_girl"],tags:[],description:"family: woman, woman, girl",category:"People & Body"},{emoji:"",names:["family_woman_woman_girl_boy"],tags:[],description:"family: woman, woman, girl, boy",category:"People & Body"},{emoji:"",names:["family_woman_woman_boy_boy"],tags:[],description:"family: woman, woman, boy, boy",category:"People & Body"},{emoji:"",names:["family_woman_woman_girl_girl"],tags:[],description:"family: woman, woman, girl, girl",category:"People & Body"},{emoji:"",names:["family_man_boy"],tags:[],description:"family: man, boy",category:"People & Body"},{emoji:"",names:["family_man_boy_boy"],tags:[],description:"family: man, boy, boy",category:"People & Body"},{emoji:"",names:["family_man_girl"],tags:[],description:"family: man, girl",category:"People & Body"},{emoji:"",names:["family_man_girl_boy"],tags:[],description:"family: man, girl, boy",category:"People & Body"},{emoji:"",names:["family_man_girl_girl"],tags:[],description:"family: man, girl, girl",category:"People & Body"},{emoji:"",names:["family_woman_boy"],tags:[],description:"family: woman, boy",category:"People & Body"},{emoji:"",names:["family_woman_boy_boy"],tags:[],description:"family: woman, boy, boy",category:"People & Body"},{emoji:"",names:["family_woman_girl"],tags:[],description:"family: woman, girl",category:"People & Body"},{emoji:"",names:["family_woman_girl_boy"],tags:[],description:"family: woman, girl, boy",category:"People & Body"},{emoji:"",names:["family_woman_girl_girl"],tags:[],description:"family: woman, girl, girl",category:"People & Body"},{emoji:"",names:["speaking_head"],tags:[],description:"speaking head",category:"People & Body"},{emoji:"",names:["bust_in_silhouette"],tags:["user"],description:"bust in silhouette",category:"People & Body"},{emoji:"",names:["busts_in_silhouette"],tags:["users","group","team"],description:"busts in silhouette",category:"People & Body"},{emoji:"",names:["people_hugging"],tags:[],description:"people hugging",category:"People & Body"},{emoji:"",names:["footprints"],tags:["feet","tracks"],description:"footprints",category:"People & Body"},{emoji:"",names:["monkey_face"],tags:[],description:"monkey face",category:"Animals & Nature"},{emoji:"",names:["monkey"],tags:[],description:"monkey",category:"Animals & Nature"},{emoji:"",names:["gorilla"],tags:[],description:"gorilla",category:"Animals & Nature"},{emoji:"",names:["orangutan"],tags:[],description:"orangutan",category:"Animals & Nature"},{emoji:"",names:["dog"],tags:["pet"],description:"dog face",category:"Animals & Nature"},{emoji:"",names:["dog2"],tags:[],description:"dog",category:"Animals & Nature"},{emoji:"",names:["guide_dog"],tags:[],description:"guide dog",category:"Animals & Nature"},{emoji:"",names:["service_dog"],tags:[],description:"service dog",category:"Animals & Nature"},{emoji:"",names:["poodle"],tags:["dog"],description:"poodle",category:"Animals & Nature"},{emoji:"",names:["wolf"],tags:[],description:"wolf",category:"Animals & Nature"},{emoji:"",names:["fox_face"],tags:[],description:"fox",category:"Animals & Nature"},{emoji:"",names:["raccoon"],tags:[],description:"raccoon",category:"Animals & Nature"},{emoji:"",names:["cat"],tags:["pet"],description:"cat face",category:"Animals & Nature"},{emoji:"",names:["cat2"],tags:[],description:"cat",category:"Animals & Nature"},{emoji:"",names:["black_cat"],tags:[],description:"black cat",category:"Animals & Nature"},{emoji:"",names:["lion"],tags:[],description:"lion",category:"Animals & Nature"},{emoji:"",names:["tiger"],tags:[],description:"tiger face",category:"Animals & Nature"},{emoji:"",names:["tiger2"],tags:[],description:"tiger",category:"Animals & Nature"},{emoji:"",names:["leopard"],tags:[],description:"leopard",category:"Animals & Nature"},{emoji:"",names:["horse"],tags:[],description:"horse face",category:"Animals & Nature"},{emoji:"",names:["moose"],tags:["canada"],description:"moose",category:"Animals & Nature"},{emoji:"",names:["donkey"],tags:["mule"],description:"donkey",category:"Animals & Nature"},{emoji:"",names:["racehorse"],tags:["speed"],description:"horse",category:"Animals & Nature"},{emoji:"",names:["unicorn"],tags:[],description:"unicorn",category:"Animals & Nature"},{emoji:"",names:["zebra"],tags:[],description:"zebra",category:"Animals & Nature"},{emoji:"",names:["deer"],tags:[],description:"deer",category:"Animals & Nature"},{emoji:"",names:["bison"],tags:[],description:"bison",category:"Animals & Nature"},{emoji:"",names:["cow"],tags:[],description:"cow face",category:"Animals & Nature"},{emoji:"",names:["ox"],tags:[],description:"ox",category:"Animals & Nature"},{emoji:"",names:["water_buffalo"],tags:[],description:"water buffalo",category:"Animals & Nature"},{emoji:"",names:["cow2"],tags:[],description:"cow",category:"Animals & Nature"},{emoji:"",names:["pig"],tags:[],description:"pig face",category:"Animals & Nature"},{emoji:"",names:["pig2"],tags:[],description:"pig",category:"Animals & Nature"},{emoji:"",names:["boar"],tags:[],description:"boar",category:"Animals & Nature"},{emoji:"",names:["pig_nose"],tags:[],description:"pig nose",category:"Animals & Nature"},{emoji:"",names:["ram"],tags:[],description:"ram",category:"Animals & Nature"},{emoji:"",names:["sheep"],tags:[],description:"ewe",category:"Animals & Nature"},{emoji:"",names:["goat"],tags:[],description:"goat",category:"Animals & Nature"},{emoji:"",names:["dromedary_camel"],tags:["desert"],description:"camel",category:"Animals & Nature"},{emoji:"",names:["camel"],tags:[],description:"two-hump camel",category:"Animals & Nature"},{emoji:"",names:["llama"],tags:[],description:"llama",category:"Animals & Nature"},{emoji:"",names:["giraffe"],tags:[],description:"giraffe",category:"Animals & Nature"},{emoji:"",names:["elephant"],tags:[],description:"elephant",category:"Animals & Nature"},{emoji:"",names:["mammoth"],tags:[],description:"mammoth",category:"Animals & Nature"},{emoji:"",names:["rhinoceros"],tags:[],description:"rhinoceros",category:"Animals & Nature"},{emoji:"",names:["hippopotamus"],tags:[],description:"hippopotamus",category:"Animals & Nature"},{emoji:"",names:["mouse"],tags:[],description:"mouse face",category:"Animals & Nature"},{emoji:"",names:["mouse2"],tags:[],description:"mouse",category:"Animals & Nature"},{emoji:"",names:["rat"],tags:[],description:"rat",category:"Animals & Nature"},{emoji:"",names:["hamster"],tags:["pet"],description:"hamster",category:"Animals & Nature"},{emoji:"",names:["rabbit"],tags:["bunny"],description:"rabbit face",category:"Animals & Nature"},{emoji:"",names:["rabbit2"],tags:[],description:"rabbit",category:"Animals & Nature"},{emoji:"",names:["chipmunk"],tags:[],description:"chipmunk",category:"Animals & Nature"},{emoji:"",names:["beaver"],tags:[],description:"beaver",category:"Animals & Nature"},{emoji:"",names:["hedgehog"],tags:[],description:"hedgehog",category:"Animals & Nature"},{emoji:"",names:["bat"],tags:[],description:"bat",category:"Animals & Nature"},{emoji:"",names:["bear"],tags:[],description:"bear",category:"Animals & Nature"},{emoji:"",names:["polar_bear"],tags:[],description:"polar bear",category:"Animals & Nature"},{emoji:"",names:["koala"],tags:[],description:"koala",category:"Animals & Nature"},{emoji:"",names:["panda_face"],tags:[],description:"panda",category:"Animals & Nature"},{emoji:"",names:["sloth"],tags:[],description:"sloth",category:"Animals & Nature"},{emoji:"",names:["otter"],tags:[],description:"otter",category:"Animals & Nature"},{emoji:"",names:["skunk"],tags:[],description:"skunk",category:"Animals & Nature"},{emoji:"",names:["kangaroo"],tags:[],description:"kangaroo",category:"Animals & Nature"},{emoji:"",names:["badger"],tags:[],description:"badger",category:"Animals & Nature"},{emoji:"",names:["feet","paw_prints"],tags:[],description:"paw prints",category:"Animals & Nature"},{emoji:"",names:["turkey"],tags:["thanksgiving"],description:"turkey",category:"Animals & Nature"},{emoji:"",names:["chicken"],tags:[],description:"chicken",category:"Animals & Nature"},{emoji:"",names:["rooster"],tags:[],description:"rooster",category:"Animals & Nature"},{emoji:"",names:["hatching_chick"],tags:[],description:"hatching chick",category:"Animals & Nature"},{emoji:"",names:["baby_chick"],tags:[],description:"baby chick",category:"Animals & Nature"},{emoji:"",names:["hatched_chick"],tags:[],description:"front-facing baby chick",category:"Animals & Nature"},{emoji:"",names:["bird"],tags:[],description:"bird",category:"Animals & Nature"},{emoji:"",names:["penguin"],tags:[],description:"penguin",category:"Animals & Nature"},{emoji:"",names:["dove"],tags:["peace"],description:"dove",category:"Animals & Nature"},{emoji:"",names:["eagle"],tags:[],description:"eagle",category:"Animals & Nature"},{emoji:"",names:["duck"],tags:[],description:"duck",category:"Animals & Nature"},{emoji:"",names:["swan"],tags:[],description:"swan",category:"Animals & Nature"},{emoji:"",names:["owl"],tags:[],description:"owl",category:"Animals & Nature"},{emoji:"",names:["dodo"],tags:[],description:"dodo",category:"Animals & Nature"},{emoji:"",names:["feather"],tags:[],description:"feather",category:"Animals & Nature"},{emoji:"",names:["flamingo"],tags:[],description:"flamingo",category:"Animals & Nature"},{emoji:"",names:["peacock"],tags:[],description:"peacock",category:"Animals & Nature"},{emoji:"",names:["parrot"],tags:[],description:"parrot",category:"Animals & Nature"},{emoji:"",names:["wing"],tags:["fly"],description:"wing",category:"Animals & Nature"},{emoji:"",names:["black_bird"],tags:[],description:"black bird",category:"Animals & Nature"},{emoji:"",names:["goose"],tags:["honk"],description:"goose",category:"Animals & Nature"},{emoji:"",names:["frog"],tags:[],description:"frog",category:"Animals & Nature"},{emoji:"",names:["crocodile"],tags:[],description:"crocodile",category:"Animals & Nature"},{emoji:"",names:["turtle"],tags:["slow"],description:"turtle",category:"Animals & Nature"},{emoji:"",names:["lizard"],tags:[],description:"lizard",category:"Animals & Nature"},{emoji:"",names:["snake"],tags:[],description:"snake",category:"Animals & Nature"},{emoji:"",names:["dragon_face"],tags:[],description:"dragon face",category:"Animals & Nature"},{emoji:"",names:["dragon"],tags:[],description:"dragon",category:"Animals & Nature"},{emoji:"",names:["sauropod"],tags:["dinosaur"],description:"sauropod",category:"Animals & Nature"},{emoji:"",names:["t-rex"],tags:["dinosaur"],description:"T-Rex",category:"Animals & Nature"},{emoji:"",names:["whale"],tags:["sea"],description:"spouting whale",category:"Animals & Nature"},{emoji:"",names:["whale2"],tags:[],description:"whale",category:"Animals & Nature"},{emoji:"",names:["dolphin","flipper"],tags:[],description:"dolphin",category:"Animals & Nature"},{emoji:"",names:["seal"],tags:[],description:"seal",category:"Animals & Nature"},{emoji:"",names:["fish"],tags:[],description:"fish",category:"Animals & Nature"},{emoji:"",names:["tropical_fish"],tags:[],description:"tropical fish",category:"Animals & Nature"},{emoji:"",names:["blowfish"],tags:[],description:"blowfish",category:"Animals & Nature"},{emoji:"",names:["shark"],tags:[],description:"shark",category:"Animals & Nature"},{emoji:"",names:["octopus"],tags:[],description:"octopus",category:"Animals & Nature"},{emoji:"",names:["shell"],tags:["sea","beach"],description:"spiral shell",category:"Animals & Nature"},{emoji:"",names:["coral"],tags:[],description:"coral",category:"Animals & Nature"},{emoji:"",names:["jellyfish"],tags:[],description:"jellyfish",category:"Animals & Nature"},{emoji:"",names:["snail"],tags:["slow"],description:"snail",category:"Animals & Nature"},{emoji:"",names:["butterfly"],tags:[],description:"butterfly",category:"Animals & Nature"},{emoji:"",names:["bug"],tags:[],description:"bug",category:"Animals & Nature"},{emoji:"",names:["ant"],tags:[],description:"ant",category:"Animals & Nature"},{emoji:"",names:["bee","honeybee"],tags:[],description:"honeybee",category:"Animals & Nature"},{emoji:"",names:["beetle"],tags:[],description:"beetle",category:"Animals & Nature"},{emoji:"",names:["lady_beetle"],tags:["bug"],description:"lady beetle",category:"Animals & Nature"},{emoji:"",names:["cricket"],tags:[],description:"cricket",category:"Animals & Nature"},{emoji:"",names:["cockroach"],tags:[],description:"cockroach",category:"Animals & Nature"},{emoji:"",names:["spider"],tags:[],description:"spider",category:"Animals & Nature"},{emoji:"",names:["spider_web"],tags:[],description:"spider web",category:"Animals & Nature"},{emoji:"",names:["scorpion"],tags:[],description:"scorpion",category:"Animals & Nature"},{emoji:"",names:["mosquito"],tags:[],description:"mosquito",category:"Animals & Nature"},{emoji:"",names:["fly"],tags:[],description:"fly",category:"Animals & Nature"},{emoji:"",names:["worm"],tags:[],description:"worm",category:"Animals & Nature"},{emoji:"",names:["microbe"],tags:["germ"],description:"microbe",category:"Animals & Nature"},{emoji:"",names:["bouquet"],tags:["flowers"],description:"bouquet",category:"Animals & Nature"},{emoji:"",names:["cherry_blossom"],tags:["flower","spring"],description:"cherry blossom",category:"Animals & Nature"},{emoji:"",names:["white_flower"],tags:[],description:"white flower",category:"Animals & Nature"},{emoji:"",names:["lotus"],tags:[],description:"lotus",category:"Animals & Nature"},{emoji:"",names:["rosette"],tags:[],description:"rosette",category:"Animals & Nature"},{emoji:"",names:["rose"],tags:["flower"],description:"rose",category:"Animals & Nature"},{emoji:"",names:["wilted_flower"],tags:[],description:"wilted flower",category:"Animals & Nature"},{emoji:"",names:["hibiscus"],tags:[],description:"hibiscus",category:"Animals & Nature"},{emoji:"",names:["sunflower"],tags:[],description:"sunflower",category:"Animals & Nature"},{emoji:"",names:["blossom"],tags:[],description:"blossom",category:"Animals & Nature"},{emoji:"",names:["tulip"],tags:["flower"],description:"tulip",category:"Animals & Nature"},{emoji:"",names:["hyacinth"],tags:[],description:"hyacinth",category:"Animals & Nature"},{emoji:"",names:["seedling"],tags:["plant"],description:"seedling",category:"Animals & Nature"},{emoji:"",names:["potted_plant"],tags:[],description:"potted plant",category:"Animals & Nature"},{emoji:"",names:["evergreen_tree"],tags:["wood"],description:"evergreen tree",category:"Animals & Nature"},{emoji:"",names:["deciduous_tree"],tags:["wood"],description:"deciduous tree",category:"Animals & Nature"},{emoji:"",names:["palm_tree"],tags:[],description:"palm tree",category:"Animals & Nature"},{emoji:"",names:["cactus"],tags:[],description:"cactus",category:"Animals & Nature"},{emoji:"",names:["ear_of_rice"],tags:[],description:"sheaf of rice",category:"Animals & Nature"},{emoji:"",names:["herb"],tags:[],description:"herb",category:"Animals & Nature"},{emoji:"",names:["shamrock"],tags:[],description:"shamrock",category:"Animals & Nature"},{emoji:"",names:["four_leaf_clover"],tags:["luck"],description:"four leaf clover",category:"Animals & Nature"},{emoji:"",names:["maple_leaf"],tags:["canada"],description:"maple leaf",category:"Animals & Nature"},{emoji:"",names:["fallen_leaf"],tags:["autumn"],description:"fallen leaf",category:"Animals & Nature"},{emoji:"",names:["leaves"],tags:["leaf"],description:"leaf fluttering in wind",category:"Animals & Nature"},{emoji:"",names:["empty_nest"],tags:[],description:"empty nest",category:"Animals & Nature"},{emoji:"",names:["nest_with_eggs"],tags:[],description:"nest with eggs",category:"Animals & Nature"},{emoji:"",names:["mushroom"],tags:["fungus"],description:"mushroom",category:"Animals & Nature"},{emoji:"",names:["grapes"],tags:[],description:"grapes",category:"Food & Drink"},{emoji:"",names:["melon"],tags:[],description:"melon",category:"Food & Drink"},{emoji:"",names:["watermelon"],tags:[],description:"watermelon",category:"Food & Drink"},{emoji:"",names:["tangerine","orange","mandarin"],tags:[],description:"tangerine",category:"Food & Drink"},{emoji:"",names:["lemon"],tags:[],description:"lemon",category:"Food & Drink"},{emoji:"",names:["banana"],tags:["fruit"],description:"banana",category:"Food & Drink"},{emoji:"",names:["pineapple"],tags:[],description:"pineapple",category:"Food & Drink"},{emoji:"",names:["mango"],tags:[],description:"mango",category:"Food & Drink"},{emoji:"",names:["apple"],tags:[],description:"red apple",category:"Food & Drink"},{emoji:"",names:["green_apple"],tags:["fruit"],description:"green apple",category:"Food & Drink"},{emoji:"",names:["pear"],tags:[],description:"pear",category:"Food & Drink"},{emoji:"",names:["peach"],tags:[],description:"peach",category:"Food & Drink"},{emoji:"",names:["cherries"],tags:["fruit"],description:"cherries",category:"Food & Drink"},{emoji:"",names:["strawberry"],tags:["fruit"],description:"strawberry",category:"Food & Drink"},{emoji:"",names:["blueberries"],tags:[],description:"blueberries",category:"Food & Drink"},{emoji:"",names:["kiwi_fruit"],tags:[],description:"kiwi fruit",category:"Food & Drink"},{emoji:"",names:["tomato"],tags:[],description:"tomato",category:"Food & Drink"},{emoji:"",names:["olive"],tags:[],description:"olive",category:"Food & Drink"},{emoji:"",names:["coconut"],tags:[],description:"coconut",category:"Food & Drink"},{emoji:"",names:["avocado"],tags:[],description:"avocado",category:"Food & Drink"},{emoji:"",names:["eggplant"],tags:["aubergine"],description:"eggplant",category:"Food & Drink"},{emoji:"",names:["potato"],tags:[],description:"potato",category:"Food & Drink"},{emoji:"",names:["carrot"],tags:[],description:"carrot",category:"Food & Drink"},{emoji:"",names:["corn"],tags:[],description:"ear of corn",category:"Food & Drink"},{emoji:"",names:["hot_pepper"],tags:["spicy"],description:"hot pepper",category:"Food & Drink"},{emoji:"",names:["bell_pepper"],tags:[],description:"bell pepper",category:"Food & Drink"},{emoji:"",names:["cucumber"],tags:[],description:"cucumber",category:"Food & Drink"},{emoji:"",names:["leafy_green"],tags:[],description:"leafy green",category:"Food & Drink"},{emoji:"",names:["broccoli"],tags:[],description:"broccoli",category:"Food & Drink"},{emoji:"",names:["garlic"],tags:[],description:"garlic",category:"Food & Drink"},{emoji:"",names:["onion"],tags:[],description:"onion",category:"Food & Drink"},{emoji:"",names:["peanuts"],tags:[],description:"peanuts",category:"Food & Drink"},{emoji:"",names:["beans"],tags:[],description:"beans",category:"Food & Drink"},{emoji:"",names:["chestnut"],tags:[],description:"chestnut",category:"Food & Drink"},{emoji:"",names:["ginger_root"],tags:[],description:"ginger root",category:"Food & Drink"},{emoji:"",names:["pea_pod"],tags:[],description:"pea pod",category:"Food & Drink"},{emoji:"",names:["bread"],tags:["toast"],description:"bread",category:"Food & Drink"},{emoji:"",names:["croissant"],tags:[],description:"croissant",category:"Food & Drink"},{emoji:"",names:["baguette_bread"],tags:[],description:"baguette bread",category:"Food & Drink"},{emoji:"",names:["flatbread"],tags:[],description:"flatbread",category:"Food & Drink"},{emoji:"",names:["pretzel"],tags:[],description:"pretzel",category:"Food & Drink"},{emoji:"",names:["bagel"],tags:[],description:"bagel",category:"Food & Drink"},{emoji:"",names:["pancakes"],tags:[],description:"pancakes",category:"Food & Drink"},{emoji:"",names:["waffle"],tags:[],description:"waffle",category:"Food & Drink"},{emoji:"",names:["cheese"],tags:[],description:"cheese wedge",category:"Food & Drink"},{emoji:"",names:["meat_on_bone"],tags:[],description:"meat on bone",category:"Food & Drink"},{emoji:"",names:["poultry_leg"],tags:["meat","chicken"],description:"poultry leg",category:"Food & Drink"},{emoji:"",names:["cut_of_meat"],tags:[],description:"cut of meat",category:"Food & Drink"},{emoji:"",names:["bacon"],tags:[],description:"bacon",category:"Food & Drink"},{emoji:"",names:["hamburger"],tags:["burger"],description:"hamburger",category:"Food & Drink"},{emoji:"",names:["fries"],tags:[],description:"french fries",category:"Food & Drink"},{emoji:"",names:["pizza"],tags:[],description:"pizza",category:"Food & Drink"},{emoji:"",names:["hotdog"],tags:[],description:"hot dog",category:"Food & Drink"},{emoji:"",names:["sandwich"],tags:[],description:"sandwich",category:"Food & Drink"},{emoji:"",names:["taco"],tags:[],description:"taco",category:"Food & Drink"},{emoji:"",names:["burrito"],tags:[],description:"burrito",category:"Food & Drink"},{emoji:"",names:["tamale"],tags:[],description:"tamale",category:"Food & Drink"},{emoji:"",names:["stuffed_flatbread"],tags:[],description:"stuffed flatbread",category:"Food & Drink"},{emoji:"",names:["falafel"],tags:[],description:"falafel",category:"Food & Drink"},{emoji:"",names:["egg"],tags:[],description:"egg",category:"Food & Drink"},{emoji:"",names:["fried_egg"],tags:["breakfast"],description:"cooking",category:"Food & Drink"},{emoji:"",names:["shallow_pan_of_food"],tags:["paella","curry"],description:"shallow pan of food",category:"Food & Drink"},{emoji:"",names:["stew"],tags:[],description:"pot of food",category:"Food & Drink"},{emoji:"",names:["fondue"],tags:[],description:"fondue",category:"Food & Drink"},{emoji:"",names:["bowl_with_spoon"],tags:[],description:"bowl with spoon",category:"Food & Drink"},{emoji:"",names:["green_salad"],tags:[],description:"green salad",category:"Food & Drink"},{emoji:"",names:["popcorn"],tags:[],description:"popcorn",category:"Food & Drink"},{emoji:"",names:["butter"],tags:[],description:"butter",category:"Food & Drink"},{emoji:"",names:["salt"],tags:[],description:"salt",category:"Food & Drink"},{emoji:"",names:["canned_food"],tags:[],description:"canned food",category:"Food & Drink"},{emoji:"",names:["bento"],tags:[],description:"bento box",category:"Food & Drink"},{emoji:"",names:["rice_cracker"],tags:[],description:"rice cracker",category:"Food & Drink"},{emoji:"",names:["rice_ball"],tags:[],description:"rice ball",category:"Food & Drink"},{emoji:"",names:["rice"],tags:[],description:"cooked rice",category:"Food & Drink"},{emoji:"",names:["curry"],tags:[],description:"curry rice",category:"Food & Drink"},{emoji:"",names:["ramen"],tags:["noodle"],description:"steaming bowl",category:"Food & Drink"},{emoji:"",names:["spaghetti"],tags:["pasta"],description:"spaghetti",category:"Food & Drink"},{emoji:"",names:["sweet_potato"],tags:[],description:"roasted sweet potato",category:"Food & Drink"},{emoji:"",names:["oden"],tags:[],description:"oden",category:"Food & Drink"},{emoji:"",names:["sushi"],tags:[],description:"sushi",category:"Food & Drink"},{emoji:"",names:["fried_shrimp"],tags:["tempura"],description:"fried shrimp",category:"Food & Drink"},{emoji:"",names:["fish_cake"],tags:[],description:"fish cake with swirl",category:"Food & Drink"},{emoji:"",names:["moon_cake"],tags:[],description:"moon cake",category:"Food & Drink"},{emoji:"",names:["dango"],tags:[],description:"dango",category:"Food & Drink"},{emoji:"",names:["dumpling"],tags:[],description:"dumpling",category:"Food & Drink"},{emoji:"",names:["fortune_cookie"],tags:[],description:"fortune cookie",category:"Food & Drink"},{emoji:"",names:["takeout_box"],tags:[],description:"takeout box",category:"Food & Drink"},{emoji:"",names:["crab"],tags:[],description:"crab",category:"Food & Drink"},{emoji:"",names:["lobster"],tags:[],description:"lobster",category:"Food & Drink"},{emoji:"",names:["shrimp"],tags:[],description:"shrimp",category:"Food & Drink"},{emoji:"",names:["squid"],tags:[],description:"squid",category:"Food & Drink"},{emoji:"",names:["oyster"],tags:[],description:"oyster",category:"Food & Drink"},{emoji:"",names:["icecream"],tags:[],description:"soft ice cream",category:"Food & Drink"},{emoji:"",names:["shaved_ice"],tags:[],description:"shaved ice",category:"Food & Drink"},{emoji:"",names:["ice_cream"],tags:[],description:"ice cream",category:"Food & Drink"},{emoji:"",names:["doughnut"],tags:[],description:"doughnut",category:"Food & Drink"},{emoji:"",names:["cookie"],tags:[],description:"cookie",category:"Food & Drink"},{emoji:"",names:["birthday"],tags:["party"],description:"birthday cake",category:"Food & Drink"},{emoji:"",names:["cake"],tags:["dessert"],description:"shortcake",category:"Food & Drink"},{emoji:"",names:["cupcake"],tags:[],description:"cupcake",category:"Food & Drink"},{emoji:"",names:["pie"],tags:[],description:"pie",category:"Food & Drink"},{emoji:"",names:["chocolate_bar"],tags:[],description:"chocolate bar",category:"Food & Drink"},{emoji:"",names:["candy"],tags:["sweet"],description:"candy",category:"Food & Drink"},{emoji:"",names:["lollipop"],tags:[],description:"lollipop",category:"Food & Drink"},{emoji:"",names:["custard"],tags:[],description:"custard",category:"Food & Drink"},{emoji:"",names:["honey_pot"],tags:[],description:"honey pot",category:"Food & Drink"},{emoji:"",names:["baby_bottle"],tags:["milk"],description:"baby bottle",category:"Food & Drink"},{emoji:"",names:["milk_glass"],tags:[],description:"glass of milk",category:"Food & Drink"},{emoji:"",names:["coffee"],tags:["cafe","espresso"],description:"hot beverage",category:"Food & Drink"},{emoji:"",names:["teapot"],tags:[],description:"teapot",category:"Food & Drink"},{emoji:"",names:["tea"],tags:["green","breakfast"],description:"teacup without handle",category:"Food & Drink"},{emoji:"",names:["sake"],tags:[],description:"sake",category:"Food & Drink"},{emoji:"",names:["champagne"],tags:["bottle","bubbly","celebration"],description:"bottle with popping cork",category:"Food & Drink"},{emoji:"",names:["wine_glass"],tags:[],description:"wine glass",category:"Food & Drink"},{emoji:"",names:["cocktail"],tags:["drink"],description:"cocktail glass",category:"Food & Drink"},{emoji:"",names:["tropical_drink"],tags:["summer","vacation"],description:"tropical drink",category:"Food & Drink"},{emoji:"",names:["beer"],tags:["drink"],description:"beer mug",category:"Food & Drink"},{emoji:"",names:["beers"],tags:["drinks"],description:"clinking beer mugs",category:"Food & Drink"},{emoji:"",names:["clinking_glasses"],tags:["cheers","toast"],description:"clinking glasses",category:"Food & Drink"},{emoji:"",names:["tumbler_glass"],tags:["whisky"],description:"tumbler glass",category:"Food & Drink"},{emoji:"",names:["pouring_liquid"],tags:[],description:"pouring liquid",category:"Food & Drink"},{emoji:"",names:["cup_with_straw"],tags:[],description:"cup with straw",category:"Food & Drink"},{emoji:"",names:["bubble_tea"],tags:[],description:"bubble tea",category:"Food & Drink"},{emoji:"",names:["beverage_box"],tags:[],description:"beverage box",category:"Food & Drink"},{emoji:"",names:["mate"],tags:[],description:"mate",category:"Food & Drink"},{emoji:"",names:["ice_cube"],tags:[],description:"ice",category:"Food & Drink"},{emoji:"",names:["chopsticks"],tags:[],description:"chopsticks",category:"Food & Drink"},{emoji:"",names:["plate_with_cutlery"],tags:["dining","dinner"],description:"fork and knife with plate",category:"Food & Drink"},{emoji:"",names:["fork_and_knife"],tags:["cutlery"],description:"fork and knife",category:"Food & Drink"},{emoji:"",names:["spoon"],tags:[],description:"spoon",category:"Food & Drink"},{emoji:"",names:["hocho","knife"],tags:["cut","chop"],description:"kitchen knife",category:"Food & Drink"},{emoji:"",names:["jar"],tags:[],description:"jar",category:"Food & Drink"},{emoji:"",names:["amphora"],tags:[],description:"amphora",category:"Food & Drink"},{emoji:"",names:["earth_africa"],tags:["globe","world","international"],description:"globe showing Europe-Africa",category:"Travel & Places"},{emoji:"",names:["earth_americas"],tags:["globe","world","international"],description:"globe showing Americas",category:"Travel & Places"},{emoji:"",names:["earth_asia"],tags:["globe","world","international"],description:"globe showing Asia-Australia",category:"Travel & Places"},{emoji:"",names:["globe_with_meridians"],tags:["world","global","international"],description:"globe with meridians",category:"Travel & Places"},{emoji:"",names:["world_map"],tags:["travel"],description:"world map",category:"Travel & Places"},{emoji:"",names:["japan"],tags:[],description:"map of Japan",category:"Travel & Places"},{emoji:"",names:["compass"],tags:[],description:"compass",category:"Travel & Places"},{emoji:"",names:["mountain_snow"],tags:[],description:"snow-capped mountain",category:"Travel & Places"},{emoji:"",names:["mountain"],tags:[],description:"mountain",category:"Travel & Places"},{emoji:"",names:["volcano"],tags:[],description:"volcano",category:"Travel & Places"},{emoji:"",names:["mount_fuji"],tags:[],description:"mount fuji",category:"Travel & Places"},{emoji:"",names:["camping"],tags:[],description:"camping",category:"Travel & Places"},{emoji:"",names:["beach_umbrella"],tags:[],description:"beach with umbrella",category:"Travel & Places"},{emoji:"",names:["desert"],tags:[],description:"desert",category:"Travel & Places"},{emoji:"",names:["desert_island"],tags:[],description:"desert island",category:"Travel & Places"},{emoji:"",names:["national_park"],tags:[],description:"national park",category:"Travel & Places"},{emoji:"",names:["stadium"],tags:[],description:"stadium",category:"Travel & Places"},{emoji:"",names:["classical_building"],tags:[],description:"classical building",category:"Travel & Places"},{emoji:"",names:["building_construction"],tags:[],description:"building construction",category:"Travel & Places"},{emoji:"",names:["bricks"],tags:[],description:"brick",category:"Travel & Places"},{emoji:"",names:["rock"],tags:[],description:"rock",category:"Travel & Places"},{emoji:"",names:["wood"],tags:[],description:"wood",category:"Travel & Places"},{emoji:"",names:["hut"],tags:[],description:"hut",category:"Travel & Places"},{emoji:"",names:["houses"],tags:[],description:"houses",category:"Travel & Places"},{emoji:"",names:["derelict_house"],tags:[],description:"derelict house",category:"Travel & Places"},{emoji:"",names:["house"],tags:[],description:"house",category:"Travel & Places"},{emoji:"",names:["house_with_garden"],tags:[],description:"house with garden",category:"Travel & Places"},{emoji:"",names:["office"],tags:[],description:"office building",category:"Travel & Places"},{emoji:"",names:["post_office"],tags:[],description:"Japanese post office",category:"Travel & Places"},{emoji:"",names:["european_post_office"],tags:[],description:"post office",category:"Travel & Places"},{emoji:"",names:["hospital"],tags:[],description:"hospital",category:"Travel & Places"},{emoji:"",names:["bank"],tags:[],description:"bank",category:"Travel & Places"},{emoji:"",names:["hotel"],tags:[],description:"hotel",category:"Travel & Places"},{emoji:"",names:["love_hotel"],tags:[],description:"love hotel",category:"Travel & Places"},{emoji:"",names:["convenience_store"],tags:[],description:"convenience store",category:"Travel & Places"},{emoji:"",names:["school"],tags:[],description:"school",category:"Travel & Places"},{emoji:"",names:["department_store"],tags:[],description:"department store",category:"Travel & Places"},{emoji:"",names:["factory"],tags:[],description:"factory",category:"Travel & Places"},{emoji:"",names:["japanese_castle"],tags:[],description:"Japanese castle",category:"Travel & Places"},{emoji:"",names:["european_castle"],tags:[],description:"castle",category:"Travel & Places"},{emoji:"",names:["wedding"],tags:["marriage"],description:"wedding",category:"Travel & Places"},{emoji:"",names:["tokyo_tower"],tags:[],description:"Tokyo tower",category:"Travel & Places"},{emoji:"",names:["statue_of_liberty"],tags:[],description:"Statue of Liberty",category:"Travel & Places"},{emoji:"",names:["church"],tags:[],description:"church",category:"Travel & Places"},{emoji:"",names:["mosque"],tags:[],description:"mosque",category:"Travel & Places"},{emoji:"",names:["hindu_temple"],tags:[],description:"hindu temple",category:"Travel & Places"},{emoji:"",names:["synagogue"],tags:[],description:"synagogue",category:"Travel & Places"},{emoji:"",names:["shinto_shrine"],tags:[],description:"shinto shrine",category:"Travel & Places"},{emoji:"",names:["kaaba"],tags:[],description:"kaaba",category:"Travel & Places"},{emoji:"",names:["fountain"],tags:[],description:"fountain",category:"Travel & Places"},{emoji:"",names:["tent"],tags:["camping"],description:"tent",category:"Travel & Places"},{emoji:"",names:["foggy"],tags:["karl"],description:"foggy",category:"Travel & Places"},{emoji:"",names:["night_with_stars"],tags:[],description:"night with stars",category:"Travel & Places"},{emoji:"",names:["cityscape"],tags:["skyline"],description:"cityscape",category:"Travel & Places"},{emoji:"",names:["sunrise_over_mountains"],tags:[],description:"sunrise over mountains",category:"Travel & Places"},{emoji:"",names:["sunrise"],tags:[],description:"sunrise",category:"Travel & Places"},{emoji:"",names:["city_sunset"],tags:[],description:"cityscape at dusk",category:"Travel & Places"},{emoji:"",names:["city_sunrise"],tags:[],description:"sunset",category:"Travel & Places"},{emoji:"",names:["bridge_at_night"],tags:[],description:"bridge at night",category:"Travel & Places"},{emoji:"",names:["hotsprings"],tags:[],description:"hot springs",category:"Travel & Places"},{emoji:"",names:["carousel_horse"],tags:[],description:"carousel horse",category:"Travel & Places"},{emoji:"",names:["playground_slide"],tags:[],description:"playground slide",category:"Travel & Places"},{emoji:"",names:["ferris_wheel"],tags:[],description:"ferris wheel",category:"Travel & Places"},{emoji:"",names:["roller_coaster"],tags:[],description:"roller coaster",category:"Travel & Places"},{emoji:"",names:["barber"],tags:[],description:"barber pole",category:"Travel & Places"},{emoji:"",names:["circus_tent"],tags:[],description:"circus tent",category:"Travel & Places"},{emoji:"",names:["steam_locomotive"],tags:["train"],description:"locomotive",category:"Travel & Places"},{emoji:"",names:["railway_car"],tags:[],description:"railway car",category:"Travel & Places"},{emoji:"",names:["bullettrain_side"],tags:["train"],description:"high-speed train",category:"Travel & Places"},{emoji:"",names:["bullettrain_front"],tags:["train"],description:"bullet train",category:"Travel & Places"},{emoji:"",names:["train2"],tags:[],description:"train",category:"Travel & Places"},{emoji:"",names:["metro"],tags:[],description:"metro",category:"Travel & Places"},{emoji:"",names:["light_rail"],tags:[],description:"light rail",category:"Travel & Places"},{emoji:"",names:["station"],tags:[],description:"station",category:"Travel & Places"},{emoji:"",names:["tram"],tags:[],description:"tram",category:"Travel & Places"},{emoji:"",names:["monorail"],tags:[],description:"monorail",category:"Travel & Places"},{emoji:"",names:["mountain_railway"],tags:[],description:"mountain railway",category:"Travel & Places"},{emoji:"",names:["train"],tags:[],description:"tram car",category:"Travel & Places"},{emoji:"",names:["bus"],tags:[],description:"bus",category:"Travel & Places"},{emoji:"",names:["oncoming_bus"],tags:[],description:"oncoming bus",category:"Travel & Places"},{emoji:"",names:["trolleybus"],tags:[],description:"trolleybus",category:"Travel & Places"},{emoji:"",names:["minibus"],tags:[],description:"minibus",category:"Travel & Places"},{emoji:"",names:["ambulance"],tags:[],description:"ambulance",category:"Travel & Places"},{emoji:"",names:["fire_engine"],tags:[],description:"fire engine",category:"Travel & Places"},{emoji:"",names:["police_car"],tags:[],description:"police car",category:"Travel & Places"},{emoji:"",names:["oncoming_police_car"],tags:[],description:"oncoming police car",category:"Travel & Places"},{emoji:"",names:["taxi"],tags:[],description:"taxi",category:"Travel & Places"},{emoji:"",names:["oncoming_taxi"],tags:[],description:"oncoming taxi",category:"Travel & Places"},{emoji:"",names:["car","red_car"],tags:[],description:"automobile",category:"Travel & Places"},{emoji:"",names:["oncoming_automobile"],tags:[],description:"oncoming automobile",category:"Travel & Places"},{emoji:"",names:["blue_car"],tags:[],description:"sport utility vehicle",category:"Travel & Places"},{emoji:"",names:["pickup_truck"],tags:[],description:"pickup truck",category:"Travel & Places"},{emoji:"",names:["truck"],tags:[],description:"delivery truck",category:"Travel & Places"},{emoji:"",names:["articulated_lorry"],tags:[],description:"articulated lorry",category:"Travel & Places"},{emoji:"",names:["tractor"],tags:[],description:"tractor",category:"Travel & Places"},{emoji:"",names:["racing_car"],tags:[],description:"racing car",category:"Travel & Places"},{emoji:"",names:["motorcycle"],tags:[],description:"motorcycle",category:"Travel & Places"},{emoji:"",names:["motor_scooter"],tags:[],description:"motor scooter",category:"Travel & Places"},{emoji:"",names:["manual_wheelchair"],tags:[],description:"manual wheelchair",category:"Travel & Places"},{emoji:"",names:["motorized_wheelchair"],tags:[],description:"motorized wheelchair",category:"Travel & Places"},{emoji:"",names:["auto_rickshaw"],tags:[],description:"auto rickshaw",category:"Travel & Places"},{emoji:"",names:["bike"],tags:["bicycle"],description:"bicycle",category:"Travel & Places"},{emoji:"",names:["kick_scooter"],tags:[],description:"kick scooter",category:"Travel & Places"},{emoji:"",names:["skateboard"],tags:[],description:"skateboard",category:"Travel & Places"},{emoji:"",names:["roller_skate"],tags:[],description:"roller skate",category:"Travel & Places"},{emoji:"",names:["busstop"],tags:[],description:"bus stop",category:"Travel & Places"},{emoji:"",names:["motorway"],tags:[],description:"motorway",category:"Travel & Places"},{emoji:"",names:["railway_track"],tags:[],description:"railway track",category:"Travel & Places"},{emoji:"",names:["oil_drum"],tags:[],description:"oil drum",category:"Travel & Places"},{emoji:"",names:["fuelpump"],tags:[],description:"fuel pump",category:"Travel & Places"},{emoji:"",names:["wheel"],tags:[],description:"wheel",category:"Travel & Places"},{emoji:"",names:["rotating_light"],tags:["911","emergency"],description:"police car light",category:"Travel & Places"},{emoji:"",names:["traffic_light"],tags:[],description:"horizontal traffic light",category:"Travel & Places"},{emoji:"",names:["vertical_traffic_light"],tags:["semaphore"],description:"vertical traffic light",category:"Travel & Places"},{emoji:"",names:["stop_sign"],tags:[],description:"stop sign",category:"Travel & Places"},{emoji:"",names:["construction"],tags:["wip"],description:"construction",category:"Travel & Places"},{emoji:"",names:["anchor"],tags:["ship"],description:"anchor",category:"Travel & Places"},{emoji:"",names:["ring_buoy"],tags:["life preserver"],description:"ring buoy",category:"Travel & Places"},{emoji:"",names:["boat","sailboat"],tags:[],description:"sailboat",category:"Travel & Places"},{emoji:"",names:["canoe"],tags:[],description:"canoe",category:"Travel & Places"},{emoji:"",names:["speedboat"],tags:["ship"],description:"speedboat",category:"Travel & Places"},{emoji:"",names:["passenger_ship"],tags:["cruise"],description:"passenger ship",category:"Travel & Places"},{emoji:"",names:["ferry"],tags:[],description:"ferry",category:"Travel & Places"},{emoji:"",names:["motor_boat"],tags:[],description:"motor boat",category:"Travel & Places"},{emoji:"",names:["ship"],tags:[],description:"ship",category:"Travel & Places"},{emoji:"",names:["airplane"],tags:["flight"],description:"airplane",category:"Travel & Places"},{emoji:"",names:["small_airplane"],tags:["flight"],description:"small airplane",category:"Travel & Places"},{emoji:"",names:["flight_departure"],tags:[],description:"airplane departure",category:"Travel & Places"},{emoji:"",names:["flight_arrival"],tags:[],description:"airplane arrival",category:"Travel & Places"},{emoji:"",names:["parachute"],tags:[],description:"parachute",category:"Travel & Places"},{emoji:"",names:["seat"],tags:[],description:"seat",category:"Travel & Places"},{emoji:"",names:["helicopter"],tags:[],description:"helicopter",category:"Travel & Places"},{emoji:"",names:["suspension_railway"],tags:[],description:"suspension railway",category:"Travel & Places"},{emoji:"",names:["mountain_cableway"],tags:[],description:"mountain cableway",category:"Travel & Places"},{emoji:"",names:["aerial_tramway"],tags:[],description:"aerial tramway",category:"Travel & Places"},{emoji:"",names:["artificial_satellite"],tags:["orbit","space"],description:"satellite",category:"Travel & Places"},{emoji:"",names:["rocket"],tags:["ship","launch"],description:"rocket",category:"Travel & Places"},{emoji:"",names:["flying_saucer"],tags:["ufo"],description:"flying saucer",category:"Travel & Places"},{emoji:"",names:["bellhop_bell"],tags:[],description:"bellhop bell",category:"Travel & Places"},{emoji:"",names:["luggage"],tags:[],description:"luggage",category:"Travel & Places"},{emoji:"",names:["hourglass"],tags:["time"],description:"hourglass done",category:"Travel & Places"},{emoji:"",names:["hourglass_flowing_sand"],tags:["time"],description:"hourglass not done",category:"Travel & Places"},{emoji:"",names:["watch"],tags:["time"],description:"watch",category:"Travel & Places"},{emoji:"",names:["alarm_clock"],tags:["morning"],description:"alarm clock",category:"Travel & Places"},{emoji:"",names:["stopwatch"],tags:[],description:"stopwatch",category:"Travel & Places"},{emoji:"",names:["timer_clock"],tags:[],description:"timer clock",category:"Travel & Places"},{emoji:"",names:["mantelpiece_clock"],tags:[],description:"mantelpiece clock",category:"Travel & Places"},{emoji:"",names:["clock12"],tags:[],description:"twelve oclock",category:"Travel & Places"},{emoji:"",names:["clock1230"],tags:[],description:"twelve-thirty",category:"Travel & Places"},{emoji:"",names:["clock1"],tags:[],description:"one oclock",category:"Travel & Places"},{emoji:"",names:["clock130"],tags:[],description:"one-thirty",category:"Travel & Places"},{emoji:"",names:["clock2"],tags:[],description:"two oclock",category:"Travel & Places"},{emoji:"",names:["clock230"],tags:[],description:"two-thirty",category:"Travel & Places"},{emoji:"",names:["clock3"],tags:[],description:"three oclock",category:"Travel & Places"},{emoji:"",names:["clock330"],tags:[],description:"three-thirty",category:"Travel & Places"},{emoji:"",names:["clock4"],tags:[],description:"four oclock",category:"Travel & Places"},{emoji:"",names:["clock430"],tags:[],description:"four-thirty",category:"Travel & Places"},{emoji:"",names:["clock5"],tags:[],description:"five oclock",category:"Travel & Places"},{emoji:"",names:["clock530"],tags:[],description:"five-thirty",category:"Travel & Places"},{emoji:"",names:["clock6"],tags:[],description:"six oclock",category:"Travel & Places"},{emoji:"",names:["clock630"],tags:[],description:"six-thirty",category:"Travel & Places"},{emoji:"",names:["clock7"],tags:[],description:"seven oclock",category:"Travel & Places"},{emoji:"",names:["clock730"],tags:[],description:"seven-thirty",category:"Travel & Places"},{emoji:"",names:["clock8"],tags:[],description:"eight oclock",category:"Travel & Places"},{emoji:"",names:["clock830"],tags:[],description:"eight-thirty",category:"Travel & Places"},{emoji:"",names:["clock9"],tags:[],description:"nine oclock",category:"Travel & Places"},{emoji:"",names:["clock930"],tags:[],description:"nine-thirty",category:"Travel & Places"},{emoji:"",names:["clock10"],tags:[],description:"ten oclock",category:"Travel & Places"},{emoji:"",names:["clock1030"],tags:[],description:"ten-thirty",category:"Travel & Places"},{emoji:"",names:["clock11"],tags:[],description:"eleven oclock",category:"Travel & Places"},{emoji:"",names:["clock1130"],tags:[],description:"eleven-thirty",category:"Travel & Places"},{emoji:"",names:["new_moon"],tags:[],description:"new moon",category:"Travel & Places"},{emoji:"",names:["waxing_crescent_moon"],tags:[],description:"waxing crescent moon",category:"Travel & Places"},{emoji:"",names:["first_quarter_moon"],tags:[],description:"first quarter moon",category:"Travel & Places"},{emoji:"",names:["moon","waxing_gibbous_moon"],tags:[],description:"waxing gibbous moon",category:"Travel & Places"},{emoji:"",names:["full_moon"],tags:[],description:"full moon",category:"Travel & Places"},{emoji:"",names:["waning_gibbous_moon"],tags:[],description:"waning gibbous moon",category:"Travel & Places"},{emoji:"",names:["last_quarter_moon"],tags:[],description:"last quarter moon",category:"Travel & Places"},{emoji:"",names:["waning_crescent_moon"],tags:[],description:"waning crescent moon",category:"Travel & Places"},{emoji:"",names:["crescent_moon"],tags:["night"],description:"crescent moon",category:"Travel & Places"},{emoji:"",names:["new_moon_with_face"],tags:[],description:"new moon face",category:"Travel & Places"},{emoji:"",names:["first_quarter_moon_with_face"],tags:[],description:"first quarter moon face",category:"Travel & Places"},{emoji:"",names:["last_quarter_moon_with_face"],tags:[],description:"last quarter moon face",category:"Travel & Places"},{emoji:"",names:["thermometer"],tags:[],description:"thermometer",category:"Travel & Places"},{emoji:"",names:["sunny"],tags:["weather"],description:"sun",category:"Travel & Places"},{emoji:"",names:["full_moon_with_face"],tags:[],description:"full moon face",category:"Travel & Places"},{emoji:"",names:["sun_with_face"],tags:["summer"],description:"sun with face",category:"Travel & Places"},{emoji:"",names:["ringed_planet"],tags:[],description:"ringed planet",category:"Travel & Places"},{emoji:"",names:["star"],tags:[],description:"star",category:"Travel & Places"},{emoji:"",names:["star2"],tags:[],description:"glowing star",category:"Travel & Places"},{emoji:"",names:["stars"],tags:[],description:"shooting star",category:"Travel & Places"},{emoji:"",names:["milky_way"],tags:[],description:"milky way",category:"Travel & Places"},{emoji:"",names:["cloud"],tags:[],description:"cloud",category:"Travel & Places"},{emoji:"",names:["partly_sunny"],tags:["weather","cloud"],description:"sun behind cloud",category:"Travel & Places"},{emoji:"",names:["cloud_with_lightning_and_rain"],tags:[],description:"cloud with lightning and rain",category:"Travel & Places"},{emoji:"",names:["sun_behind_small_cloud"],tags:[],description:"sun behind small cloud",category:"Travel & Places"},{emoji:"",names:["sun_behind_large_cloud"],tags:[],description:"sun behind large cloud",category:"Travel & Places"},{emoji:"",names:["sun_behind_rain_cloud"],tags:[],description:"sun behind rain cloud",category:"Travel & Places"},{emoji:"",names:["cloud_with_rain"],tags:[],description:"cloud with rain",category:"Travel & Places"},{emoji:"",names:["cloud_with_snow"],tags:[],description:"cloud with snow",category:"Travel & Places"},{emoji:"",names:["cloud_with_lightning"],tags:[],description:"cloud with lightning",category:"Travel & Places"},{emoji:"",names:["tornado"],tags:[],description:"tornado",category:"Travel & Places"},{emoji:"",names:["fog"],tags:[],description:"fog",category:"Travel & Places"},{emoji:"",names:["wind_face"],tags:[],description:"wind face",category:"Travel & Places"},{emoji:"",names:["cyclone"],tags:["swirl"],description:"cyclone",category:"Travel & Places"},{emoji:"",names:["rainbow"],tags:[],description:"rainbow",category:"Travel & Places"},{emoji:"",names:["closed_umbrella"],tags:["weather","rain"],description:"closed umbrella",category:"Travel & Places"},{emoji:"",names:["open_umbrella"],tags:[],description:"umbrella",category:"Travel & Places"},{emoji:"",names:["umbrella"],tags:["rain","weather"],description:"umbrella with rain drops",category:"Travel & Places"},{emoji:"",names:["parasol_on_ground"],tags:["beach_umbrella"],description:"umbrella on ground",category:"Travel & Places"},{emoji:"",names:["zap"],tags:["lightning","thunder"],description:"high voltage",category:"Travel & Places"},{emoji:"",names:["snowflake"],tags:["winter","cold","weather"],description:"snowflake",category:"Travel & Places"},{emoji:"",names:["snowman_with_snow"],tags:["winter","christmas"],description:"snowman",category:"Travel & Places"},{emoji:"",names:["snowman"],tags:["winter"],description:"snowman without snow",category:"Travel & Places"},{emoji:"",names:["comet"],tags:[],description:"comet",category:"Travel & Places"},{emoji:"",names:["fire"],tags:["burn"],description:"fire",category:"Travel & Places"},{emoji:"",names:["droplet"],tags:["water"],description:"droplet",category:"Travel & Places"},{emoji:"",names:["ocean"],tags:["sea"],description:"water wave",category:"Travel & Places"},{emoji:"",names:["jack_o_lantern"],tags:["halloween"],description:"jack-o-lantern",category:"Activities"},{emoji:"",names:["christmas_tree"],tags:[],description:"Christmas tree",category:"Activities"},{emoji:"",names:["fireworks"],tags:["festival","celebration"],description:"fireworks",category:"Activities"},{emoji:"",names:["sparkler"],tags:[],description:"sparkler",category:"Activities"},{emoji:"",names:["firecracker"],tags:[],description:"firecracker",category:"Activities"},{emoji:"",names:["sparkles"],tags:["shiny"],description:"sparkles",category:"Activities"},{emoji:"",names:["balloon"],tags:["party","birthday"],description:"balloon",category:"Activities"},{emoji:"",names:["tada"],tags:["hooray","party"],description:"party popper",category:"Activities"},{emoji:"",names:["confetti_ball"],tags:[],description:"confetti ball",category:"Activities"},{emoji:"",names:["tanabata_tree"],tags:[],description:"tanabata tree",category:"Activities"},{emoji:"",names:["bamboo"],tags:[],description:"pine decoration",category:"Activities"},{emoji:"",names:["dolls"],tags:[],description:"Japanese dolls",category:"Activities"},{emoji:"",names:["flags"],tags:[],description:"carp streamer",category:"Activities"},{emoji:"",names:["wind_chime"],tags:[],description:"wind chime",category:"Activities"},{emoji:"",names:["rice_scene"],tags:[],description:"moon viewing ceremony",category:"Activities"},{emoji:"",names:["red_envelope"],tags:[],description:"red envelope",category:"Activities"},{emoji:"",names:["ribbon"],tags:[],description:"ribbon",category:"Activities"},{emoji:"",names:["gift"],tags:["present","birthday","christmas"],description:"wrapped gift",category:"Activities"},{emoji:"",names:["reminder_ribbon"],tags:[],description:"reminder ribbon",category:"Activities"},{emoji:"",names:["tickets"],tags:[],description:"admission tickets",category:"Activities"},{emoji:"",names:["ticket"],tags:[],description:"ticket",category:"Activities"},{emoji:"",names:["medal_military"],tags:[],description:"military medal",category:"Activities"},{emoji:"",names:["trophy"],tags:["award","contest","winner"],description:"trophy",category:"Activities"},{emoji:"",names:["medal_sports"],tags:["gold","winner"],description:"sports medal",category:"Activities"},{emoji:"",names:["1st_place_medal"],tags:["gold"],description:"1st place medal",category:"Activities"},{emoji:"",names:["2nd_place_medal"],tags:["silver"],description:"2nd place medal",category:"Activities"},{emoji:"",names:["3rd_place_medal"],tags:["bronze"],description:"3rd place medal",category:"Activities"},{emoji:"",names:["soccer"],tags:["sports"],description:"soccer ball",category:"Activities"},{emoji:"",names:["baseball"],tags:["sports"],description:"baseball",category:"Activities"},{emoji:"",names:["softball"],tags:[],description:"softball",category:"Activities"},{emoji:"",names:["basketball"],tags:["sports"],description:"basketball",category:"Activities"},{emoji:"",names:["volleyball"],tags:[],description:"volleyball",category:"Activities"},{emoji:"",names:["football"],tags:["sports"],description:"american football",category:"Activities"},{emoji:"",names:["rugby_football"],tags:[],description:"rugby football",category:"Activities"},{emoji:"",names:["tennis"],tags:["sports"],description:"tennis",category:"Activities"},{emoji:"",names:["flying_disc"],tags:[],description:"flying disc",category:"Activities"},{emoji:"",names:["bowling"],tags:[],description:"bowling",category:"Activities"},{emoji:"",names:["cricket_game"],tags:[],description:"cricket game",category:"Activities"},{emoji:"",names:["field_hockey"],tags:[],description:"field hockey",category:"Activities"},{emoji:"",names:["ice_hockey"],tags:[],description:"ice hockey",category:"Activities"},{emoji:"",names:["lacrosse"],tags:[],description:"lacrosse",category:"Activities"},{emoji:"",names:["ping_pong"],tags:[],description:"ping pong",category:"Activities"},{emoji:"",names:["badminton"],tags:[],description:"badminton",category:"Activities"},{emoji:"",names:["boxing_glove"],tags:[],description:"boxing glove",category:"Activities"},{emoji:"",names:["martial_arts_uniform"],tags:[],description:"martial arts uniform",category:"Activities"},{emoji:"",names:["goal_net"],tags:[],description:"goal net",category:"Activities"},{emoji:"",names:["golf"],tags:[],description:"flag in hole",category:"Activities"},{emoji:"",names:["ice_skate"],tags:["skating"],description:"ice skate",category:"Activities"},{emoji:"",names:["fishing_pole_and_fish"],tags:[],description:"fishing pole",category:"Activities"},{emoji:"",names:["diving_mask"],tags:[],description:"diving mask",category:"Activities"},{emoji:"",names:["running_shirt_with_sash"],tags:["marathon"],description:"running shirt",category:"Activities"},{emoji:"",names:["ski"],tags:[],description:"skis",category:"Activities"},{emoji:"",names:["sled"],tags:[],description:"sled",category:"Activities"},{emoji:"",names:["curling_stone"],tags:[],description:"curling stone",category:"Activities"},{emoji:"",names:["dart"],tags:["target"],description:"bullseye",category:"Activities"},{emoji:"",names:["yo_yo"],tags:[],description:"yo-yo",category:"Activities"},{emoji:"",names:["kite"],tags:[],description:"kite",category:"Activities"},{emoji:"",names:["gun"],tags:["shoot","weapon"],description:"water pistol",category:"Activities"},{emoji:"",names:["8ball"],tags:["pool","billiards"],description:"pool 8 ball",category:"Activities"},{emoji:"",names:["crystal_ball"],tags:["fortune"],description:"crystal ball",category:"Activities"},{emoji:"",names:["magic_wand"],tags:[],description:"magic wand",category:"Activities"},{emoji:"",names:["video_game"],tags:["play","controller","console"],description:"video game",category:"Activities"},{emoji:"",names:["joystick"],tags:[],description:"joystick",category:"Activities"},{emoji:"",names:["slot_machine"],tags:[],description:"slot machine",category:"Activities"},{emoji:"",names:["game_die"],tags:["dice","gambling"],description:"game die",category:"Activities"},{emoji:"",names:["jigsaw"],tags:[],description:"puzzle piece",category:"Activities"},{emoji:"",names:["teddy_bear"],tags:[],description:"teddy bear",category:"Activities"},{emoji:"",names:["pinata"],tags:[],description:"piata",category:"Activities"},{emoji:"",names:["mirror_ball"],tags:["disco","party"],description:"mirror ball",category:"Activities"},{emoji:"",names:["nesting_dolls"],tags:[],description:"nesting dolls",category:"Activities"},{emoji:"",names:["spades"],tags:[],description:"spade suit",category:"Activities"},{emoji:"",names:["hearts"],tags:[],description:"heart suit",category:"Activities"},{emoji:"",names:["diamonds"],tags:[],description:"diamond suit",category:"Activities"},{emoji:"",names:["clubs"],tags:[],description:"club suit",category:"Activities"},{emoji:"",names:["chess_pawn"],tags:[],description:"chess pawn",category:"Activities"},{emoji:"",names:["black_joker"],tags:[],description:"joker",category:"Activities"},{emoji:"",names:["mahjong"],tags:[],description:"mahjong red dragon",category:"Activities"},{emoji:"",names:["flower_playing_cards"],tags:[],description:"flower playing cards",category:"Activities"},{emoji:"",names:["performing_arts"],tags:["theater","drama"],description:"performing arts",category:"Activities"},{emoji:"",names:["framed_picture"],tags:[],description:"framed picture",category:"Activities"},{emoji:"",names:["art"],tags:["design","paint"],description:"artist palette",category:"Activities"},{emoji:"",names:["thread"],tags:[],description:"thread",category:"Activities"},{emoji:"",names:["sewing_needle"],tags:[],description:"sewing needle",category:"Activities"},{emoji:"",names:["yarn"],tags:[],description:"yarn",category:"Activities"},{emoji:"",names:["knot"],tags:[],description:"knot",category:"Activities"},{emoji:"",names:["eyeglasses"],tags:["glasses"],description:"glasses",category:"Objects"},{emoji:"",names:["dark_sunglasses"],tags:[],description:"sunglasses",category:"Objects"},{emoji:"",names:["goggles"],tags:[],description:"goggles",category:"Objects"},{emoji:"",names:["lab_coat"],tags:[],description:"lab coat",category:"Objects"},{emoji:"",names:["safety_vest"],tags:[],description:"safety vest",category:"Objects"},{emoji:"",names:["necktie"],tags:["shirt","formal"],description:"necktie",category:"Objects"},{emoji:"",names:["shirt","tshirt"],tags:[],description:"t-shirt",category:"Objects"},{emoji:"",names:["jeans"],tags:["pants"],description:"jeans",category:"Objects"},{emoji:"",names:["scarf"],tags:[],description:"scarf",category:"Objects"},{emoji:"",names:["gloves"],tags:[],description:"gloves",category:"Objects"},{emoji:"",names:["coat"],tags:[],description:"coat",category:"Objects"},{emoji:"",names:["socks"],tags:[],description:"socks",category:"Objects"},{emoji:"",names:["dress"],tags:[],description:"dress",category:"Objects"},{emoji:"",names:["kimono"],tags:[],description:"kimono",category:"Objects"},{emoji:"",names:["sari"],tags:[],description:"sari",category:"Objects"},{emoji:"",names:["one_piece_swimsuit"],tags:[],description:"one-piece swimsuit",category:"Objects"},{emoji:"",names:["swim_brief"],tags:[],description:"briefs",category:"Objects"},{emoji:"",names:["shorts"],tags:[],description:"shorts",category:"Objects"},{emoji:"",names:["bikini"],tags:["beach"],description:"bikini",category:"Objects"},{emoji:"",names:["womans_clothes"],tags:[],description:"womans clothes",category:"Objects"},{emoji:"",names:["folding_hand_fan"],tags:["sensu"],description:"folding hand fan",category:"Objects"},{emoji:"",names:["purse"],tags:[],description:"purse",category:"Objects"},{emoji:"",names:["handbag"],tags:["bag"],description:"handbag",category:"Objects"},{emoji:"",names:["pouch"],tags:["bag"],description:"clutch bag",category:"Objects"},{emoji:"",names:["shopping"],tags:["bags"],description:"shopping bags",category:"Objects"},{emoji:"",names:["school_satchel"],tags:[],description:"backpack",category:"Objects"},{emoji:"",names:["thong_sandal"],tags:[],description:"thong sandal",category:"Objects"},{emoji:"",names:["mans_shoe","shoe"],tags:[],description:"mans shoe",category:"Objects"},{emoji:"",names:["athletic_shoe"],tags:["sneaker","sport","running"],description:"running shoe",category:"Objects"},{emoji:"",names:["hiking_boot"],tags:[],description:"hiking boot",category:"Objects"},{emoji:"",names:["flat_shoe"],tags:[],description:"flat shoe",category:"Objects"},{emoji:"",names:["high_heel"],tags:["shoe"],description:"high-heeled shoe",category:"Objects"},{emoji:"",names:["sandal"],tags:["shoe"],description:"womans sandal",category:"Objects"},{emoji:"",names:["ballet_shoes"],tags:[],description:"ballet shoes",category:"Objects"},{emoji:"",names:["boot"],tags:[],description:"womans boot",category:"Objects"},{emoji:"",names:["hair_pick"],tags:[],description:"hair pick",category:"Objects"},{emoji:"",names:["crown"],tags:["king","queen","royal"],description:"crown",category:"Objects"},{emoji:"",names:["womans_hat"],tags:[],description:"womans hat",category:"Objects"},{emoji:"",names:["tophat"],tags:["hat","classy"],description:"top hat",category:"Objects"},{emoji:"",names:["mortar_board"],tags:["education","college","university","graduation"],description:"graduation cap",category:"Objects"},{emoji:"",names:["billed_cap"],tags:[],description:"billed cap",category:"Objects"},{emoji:"",names:["military_helmet"],tags:[],description:"military helmet",category:"Objects"},{emoji:"",names:["rescue_worker_helmet"],tags:[],description:"rescue workers helmet",category:"Objects"},{emoji:"",names:["prayer_beads"],tags:[],description:"prayer beads",category:"Objects"},{emoji:"",names:["lipstick"],tags:["makeup"],description:"lipstick",category:"Objects"},{emoji:"",names:["ring"],tags:["wedding","marriage","engaged"],description:"ring",category:"Objects"},{emoji:"",names:["gem"],tags:["diamond"],description:"gem stone",category:"Objects"},{emoji:"",names:["mute"],tags:["sound","volume"],description:"muted speaker",category:"Objects"},{emoji:"",names:["speaker"],tags:[],description:"speaker low volume",category:"Objects"},{emoji:"",names:["sound"],tags:["volume"],description:"speaker medium volume",category:"Objects"},{emoji:"",names:["loud_sound"],tags:["volume"],description:"speaker high volume",category:"Objects"},{emoji:"",names:["loudspeaker"],tags:["announcement"],description:"loudspeaker",category:"Objects"},{emoji:"",names:["mega"],tags:[],description:"megaphone",category:"Objects"},{emoji:"",names:["postal_horn"],tags:[],description:"postal horn",category:"Objects"},{emoji:"",names:["bell"],tags:["sound","notification"],description:"bell",category:"Objects"},{emoji:"",names:["no_bell"],tags:["volume","off"],description:"bell with slash",category:"Objects"},{emoji:"",names:["musical_score"],tags:[],description:"musical score",category:"Objects"},{emoji:"",names:["musical_note"],tags:[],description:"musical note",category:"Objects"},{emoji:"",names:["notes"],tags:["music"],description:"musical notes",category:"Objects"},{emoji:"",names:["studio_microphone"],tags:["podcast"],description:"studio microphone",category:"Objects"},{emoji:"",names:["level_slider"],tags:[],description:"level slider",category:"Objects"},{emoji:"",names:["control_knobs"],tags:[],description:"control knobs",category:"Objects"},{emoji:"",names:["microphone"],tags:["sing"],description:"microphone",category:"Objects"},{emoji:"",names:["headphones"],tags:["music","earphones"],description:"headphone",category:"Objects"},{emoji:"",names:["radio"],tags:["podcast"],description:"radio",category:"Objects"},{emoji:"",names:["saxophone"],tags:[],description:"saxophone",category:"Objects"},{emoji:"",names:["accordion"],tags:[],description:"accordion",category:"Objects"},{emoji:"",names:["guitar"],tags:["rock"],description:"guitar",category:"Objects"},{emoji:"",names:["musical_keyboard"],tags:["piano"],description:"musical keyboard",category:"Objects"},{emoji:"",names:["trumpet"],tags:[],description:"trumpet",category:"Objects"},{emoji:"",names:["violin"],tags:[],description:"violin",category:"Objects"},{emoji:"",names:["banjo"],tags:[],description:"banjo",category:"Objects"},{emoji:"",names:["drum"],tags:[],description:"drum",category:"Objects"},{emoji:"",names:["long_drum"],tags:[],description:"long drum",category:"Objects"},{emoji:"",names:["maracas"],tags:["shaker"],description:"maracas",category:"Objects"},{emoji:"",names:["flute"],tags:["recorder"],description:"flute",category:"Objects"},{emoji:"",names:["iphone"],tags:["smartphone","mobile"],description:"mobile phone",category:"Objects"},{emoji:"",names:["calling"],tags:["call","incoming"],description:"mobile phone with arrow",category:"Objects"},{emoji:"",names:["phone","telephone"],tags:[],description:"telephone",category:"Objects"},{emoji:"",names:["telephone_receiver"],tags:["phone","call"],description:"telephone receiver",category:"Objects"},{emoji:"",names:["pager"],tags:[],description:"pager",category:"Objects"},{emoji:"",names:["fax"],tags:[],description:"fax machine",category:"Objects"},{emoji:"",names:["battery"],tags:["power"],description:"battery",category:"Objects"},{emoji:"",names:["low_battery"],tags:[],description:"low battery",category:"Objects"},{emoji:"",names:["electric_plug"],tags:[],description:"electric plug",category:"Objects"},{emoji:"",names:["computer"],tags:["desktop","screen"],description:"laptop",category:"Objects"},{emoji:"",names:["desktop_computer"],tags:[],description:"desktop computer",category:"Objects"},{emoji:"",names:["printer"],tags:[],description:"printer",category:"Objects"},{emoji:"",names:["keyboard"],tags:[],description:"keyboard",category:"Objects"},{emoji:"",names:["computer_mouse"],tags:[],description:"computer mouse",category:"Objects"},{emoji:"",names:["trackball"],tags:[],description:"trackball",category:"Objects"},{emoji:"",names:["minidisc"],tags:[],description:"computer disk",category:"Objects"},{emoji:"",names:["floppy_disk"],tags:["save"],description:"floppy disk",category:"Objects"},{emoji:"",names:["cd"],tags:[],description:"optical disk",category:"Objects"},{emoji:"",names:["dvd"],tags:[],description:"dvd",category:"Objects"},{emoji:"",names:["abacus"],tags:[],description:"abacus",category:"Objects"},{emoji:"",names:["movie_camera"],tags:["film","video"],description:"movie camera",category:"Objects"},{emoji:"",names:["film_strip"],tags:[],description:"film frames",category:"Objects"},{emoji:"",names:["film_projector"],tags:[],description:"film projector",category:"Objects"},{emoji:"",names:["clapper"],tags:["film"],description:"clapper board",category:"Objects"},{emoji:"",names:["tv"],tags:[],description:"television",category:"Objects"},{emoji:"",names:["camera"],tags:["photo"],description:"camera",category:"Objects"},{emoji:"",names:["camera_flash"],tags:["photo"],description:"camera with flash",category:"Objects"},{emoji:"",names:["video_camera"],tags:[],description:"video camera",category:"Objects"},{emoji:"",names:["vhs"],tags:[],description:"videocassette",category:"Objects"},{emoji:"",names:["mag"],tags:["search","zoom"],description:"magnifying glass tilted left",category:"Objects"},{emoji:"",names:["mag_right"],tags:[],description:"magnifying glass tilted right",category:"Objects"},{emoji:"",names:["candle"],tags:[],description:"candle",category:"Objects"},{emoji:"",names:["bulb"],tags:["idea","light"],description:"light bulb",category:"Objects"},{emoji:"",names:["flashlight"],tags:[],description:"flashlight",category:"Objects"},{emoji:"",names:["izakaya_lantern","lantern"],tags:[],description:"red paper lantern",category:"Objects"},{emoji:"",names:["diya_lamp"],tags:[],description:"diya lamp",category:"Objects"},{emoji:"",names:["notebook_with_decorative_cover"],tags:[],description:"notebook with decorative cover",category:"Objects"},{emoji:"",names:["closed_book"],tags:[],description:"closed book",category:"Objects"},{emoji:"",names:["book","open_book"],tags:[],description:"open book",category:"Objects"},{emoji:"",names:["green_book"],tags:[],description:"green book",category:"Objects"},{emoji:"",names:["blue_book"],tags:[],description:"blue book",category:"Objects"},{emoji:"",names:["orange_book"],tags:[],description:"orange book",category:"Objects"},{emoji:"",names:["books"],tags:["library"],description:"books",category:"Objects"},{emoji:"",names:["notebook"],tags:[],description:"notebook",category:"Objects"},{emoji:"",names:["ledger"],tags:[],description:"ledger",category:"Objects"},{emoji:"",names:["page_with_curl"],tags:[],description:"page with curl",category:"Objects"},{emoji:"",names:["scroll"],tags:["document"],description:"scroll",category:"Objects"},{emoji:"",names:["page_facing_up"],tags:["document"],description:"page facing up",category:"Objects"},{emoji:"",names:["newspaper"],tags:["press"],description:"newspaper",category:"Objects"},{emoji:"",names:["newspaper_roll"],tags:["press"],description:"rolled-up newspaper",category:"Objects"},{emoji:"",names:["bookmark_tabs"],tags:[],description:"bookmark tabs",category:"Objects"},{emoji:"",names:["bookmark"],tags:[],description:"bookmark",category:"Objects"},{emoji:"",names:["label"],tags:["tag"],description:"label",category:"Objects"},{emoji:"",names:["moneybag"],tags:["dollar","cream"],description:"money bag",category:"Objects"},{emoji:"",names:["coin"],tags:[],description:"coin",category:"Objects"},{emoji:"",names:["yen"],tags:[],description:"yen banknote",category:"Objects"},{emoji:"",names:["dollar"],tags:["money"],description:"dollar banknote",category:"Objects"},{emoji:"",names:["euro"],tags:[],description:"euro banknote",category:"Objects"},{emoji:"",names:["pound"],tags:[],description:"pound banknote",category:"Objects"},{emoji:"",names:["money_with_wings"],tags:["dollar"],description:"money with wings",category:"Objects"},{emoji:"",names:["credit_card"],tags:["subscription"],description:"credit card",category:"Objects"},{emoji:"",names:["receipt"],tags:[],description:"receipt",category:"Objects"},{emoji:"",names:["chart"],tags:[],description:"chart increasing with yen",category:"Objects"},{emoji:"",names:["envelope"],tags:["letter","email"],description:"envelope",category:"Objects"},{emoji:"",names:["email","e-mail"],tags:[],description:"e-mail",category:"Objects"},{emoji:"",names:["incoming_envelope"],tags:[],description:"incoming envelope",category:"Objects"},{emoji:"",names:["envelope_with_arrow"],tags:[],description:"envelope with arrow",category:"Objects"},{emoji:"",names:["outbox_tray"],tags:[],description:"outbox tray",category:"Objects"},{emoji:"",names:["inbox_tray"],tags:[],description:"inbox tray",category:"Objects"},{emoji:"",names:["package"],tags:["shipping"],description:"package",category:"Objects"},{emoji:"",names:["mailbox"],tags:[],description:"closed mailbox with raised flag",category:"Objects"},{emoji:"",names:["mailbox_closed"],tags:[],description:"closed mailbox with lowered flag",category:"Objects"},{emoji:"",names:["mailbox_with_mail"],tags:[],description:"open mailbox with raised flag",category:"Objects"},{emoji:"",names:["mailbox_with_no_mail"],tags:[],description:"open mailbox with lowered flag",category:"Objects"},{emoji:"",names:["postbox"],tags:[],description:"postbox",category:"Objects"},{emoji:"",names:["ballot_box"],tags:[],description:"ballot box with ballot",category:"Objects"},{emoji:"",names:["pencil2"],tags:[],description:"pencil",category:"Objects"},{emoji:"",names:["black_nib"],tags:[],description:"black nib",category:"Objects"},{emoji:"",names:["fountain_pen"],tags:[],description:"fountain pen",category:"Objects"},{emoji:"",names:["pen"],tags:[],description:"pen",category:"Objects"},{emoji:"",names:["paintbrush"],tags:[],description:"paintbrush",category:"Objects"},{emoji:"",names:["crayon"],tags:[],description:"crayon",category:"Objects"},{emoji:"",names:["memo","pencil"],tags:["document","note"],description:"memo",category:"Objects"},{emoji:"",names:["briefcase"],tags:["business"],description:"briefcase",category:"Objects"},{emoji:"",names:["file_folder"],tags:["directory"],description:"file folder",category:"Objects"},{emoji:"",names:["open_file_folder"],tags:[],description:"open file folder",category:"Objects"},{emoji:"",names:["card_index_dividers"],tags:[],description:"card index dividers",category:"Objects"},{emoji:"",names:["date"],tags:["calendar","schedule"],description:"calendar",category:"Objects"},{emoji:"",names:["calendar"],tags:["schedule"],description:"tear-off calendar",category:"Objects"},{emoji:"",names:["spiral_notepad"],tags:[],description:"spiral notepad",category:"Objects"},{emoji:"",names:["spiral_calendar"],tags:[],description:"spiral calendar",category:"Objects"},{emoji:"",names:["card_index"],tags:[],description:"card index",category:"Objects"},{emoji:"",names:["chart_with_upwards_trend"],tags:["graph","metrics"],description:"chart increasing",category:"Objects"},{emoji:"",names:["chart_with_downwards_trend"],tags:["graph","metrics"],description:"chart decreasing",category:"Objects"},{emoji:"",names:["bar_chart"],tags:["stats","metrics"],description:"bar chart",category:"Objects"},{emoji:"",names:["clipboard"],tags:[],description:"clipboard",category:"Objects"},{emoji:"",names:["pushpin"],tags:["location"],description:"pushpin",category:"Objects"},{emoji:"",names:["round_pushpin"],tags:["location"],description:"round pushpin",category:"Objects"},{emoji:"",names:["paperclip"],tags:[],description:"paperclip",category:"Objects"},{emoji:"",names:["paperclips"],tags:[],description:"linked paperclips",category:"Objects"},{emoji:"",names:["straight_ruler"],tags:[],description:"straight ruler",category:"Objects"},{emoji:"",names:["triangular_ruler"],tags:[],description:"triangular ruler",category:"Objects"},{emoji:"",names:["scissors"],tags:["cut"],description:"scissors",category:"Objects"},{emoji:"",names:["card_file_box"],tags:[],description:"card file box",category:"Objects"},{emoji:"",names:["file_cabinet"],tags:[],description:"file cabinet",category:"Objects"},{emoji:"",names:["wastebasket"],tags:["trash"],description:"wastebasket",category:"Objects"},{emoji:"",names:["lock"],tags:["security","private"],description:"locked",category:"Objects"},{emoji:"",names:["unlock"],tags:["security"],description:"unlocked",category:"Objects"},{emoji:"",names:["lock_with_ink_pen"],tags:[],description:"locked with pen",category:"Objects"},{emoji:"",names:["closed_lock_with_key"],tags:["security"],description:"locked with key",category:"Objects"},{emoji:"",names:["key"],tags:["lock","password"],description:"key",category:"Objects"},{emoji:"",names:["old_key"],tags:[],description:"old key",category:"Objects"},{emoji:"",names:["hammer"],tags:["tool"],description:"hammer",category:"Objects"},{emoji:"",names:["axe"],tags:[],description:"axe",category:"Objects"},{emoji:"",names:["pick"],tags:[],description:"pick",category:"Objects"},{emoji:"",names:["hammer_and_pick"],tags:[],description:"hammer and pick",category:"Objects"},{emoji:"",names:["hammer_and_wrench"],tags:[],description:"hammer and wrench",category:"Objects"},{emoji:"",names:["dagger"],tags:[],description:"dagger",category:"Objects"},{emoji:"",names:["crossed_swords"],tags:[],description:"crossed swords",category:"Objects"},{emoji:"",names:["bomb"],tags:["boom"],description:"bomb",category:"Objects"},{emoji:"",names:["boomerang"],tags:[],description:"boomerang",category:"Objects"},{emoji:"",names:["bow_and_arrow"],tags:["archery"],description:"bow and arrow",category:"Objects"},{emoji:"",names:["shield"],tags:[],description:"shield",category:"Objects"},{emoji:"",names:["carpentry_saw"],tags:[],description:"carpentry saw",category:"Objects"},{emoji:"",names:["wrench"],tags:["tool"],description:"wrench",category:"Objects"},{emoji:"",names:["screwdriver"],tags:[],description:"screwdriver",category:"Objects"},{emoji:"",names:["nut_and_bolt"],tags:[],description:"nut and bolt",category:"Objects"},{emoji:"",names:["gear"],tags:[],description:"gear",category:"Objects"},{emoji:"",names:["clamp"],tags:[],description:"clamp",category:"Objects"},{emoji:"",names:["balance_scale"],tags:[],description:"balance scale",category:"Objects"},{emoji:"",names:["probing_cane"],tags:[],description:"white cane",category:"Objects"},{emoji:"",names:["link"],tags:[],description:"link",category:"Objects"},{emoji:"",names:["chains"],tags:[],description:"chains",category:"Objects"},{emoji:"",names:["hook"],tags:[],description:"hook",category:"Objects"},{emoji:"",names:["toolbox"],tags:[],description:"toolbox",category:"Objects"},{emoji:"",names:["magnet"],tags:[],description:"magnet",category:"Objects"},{emoji:"",names:["ladder"],tags:[],description:"ladder",category:"Objects"},{emoji:"",names:["alembic"],tags:[],description:"alembic",category:"Objects"},{emoji:"",names:["test_tube"],tags:[],description:"test tube",category:"Objects"},{emoji:"",names:["petri_dish"],tags:[],description:"petri dish",category:"Objects"},{emoji:"",names:["dna"],tags:[],description:"dna",category:"Objects"},{emoji:"",names:["microscope"],tags:["science","laboratory","investigate"],description:"microscope",category:"Objects"},{emoji:"",names:["telescope"],tags:[],description:"telescope",category:"Objects"},{emoji:"",names:["satellite"],tags:["signal"],description:"satellite antenna",category:"Objects"},{emoji:"",names:["syringe"],tags:["health","hospital","needle"],description:"syringe",category:"Objects"},{emoji:"",names:["drop_of_blood"],tags:[],description:"drop of blood",category:"Objects"},{emoji:"",names:["pill"],tags:["health","medicine"],description:"pill",category:"Objects"},{emoji:"",names:["adhesive_bandage"],tags:[],description:"adhesive bandage",category:"Objects"},{emoji:"",names:["crutch"],tags:[],description:"crutch",category:"Objects"},{emoji:"",names:["stethoscope"],tags:[],description:"stethoscope",category:"Objects"},{emoji:"",names:["x_ray"],tags:[],description:"x-ray",category:"Objects"},{emoji:"",names:["door"],tags:[],description:"door",category:"Objects"},{emoji:"",names:["elevator"],tags:[],description:"elevator",category:"Objects"},{emoji:"",names:["mirror"],tags:[],description:"mirror",category:"Objects"},{emoji:"",names:["window"],tags:[],description:"window",category:"Objects"},{emoji:"",names:["bed"],tags:[],description:"bed",category:"Objects"},{emoji:"",names:["couch_and_lamp"],tags:[],description:"couch and lamp",category:"Objects"},{emoji:"",names:["chair"],tags:[],description:"chair",category:"Objects"},{emoji:"",names:["toilet"],tags:["wc"],description:"toilet",category:"Objects"},{emoji:"",names:["plunger"],tags:[],description:"plunger",category:"Objects"},{emoji:"",names:["shower"],tags:["bath"],description:"shower",category:"Objects"},{emoji:"",names:["bathtub"],tags:[],description:"bathtub",category:"Objects"},{emoji:"",names:["mouse_trap"],tags:[],description:"mouse trap",category:"Objects"},{emoji:"",names:["razor"],tags:[],description:"razor",category:"Objects"},{emoji:"",names:["lotion_bottle"],tags:[],description:"lotion bottle",category:"Objects"},{emoji:"",names:["safety_pin"],tags:[],description:"safety pin",category:"Objects"},{emoji:"",names:["broom"],tags:[],description:"broom",category:"Objects"},{emoji:"",names:["basket"],tags:[],description:"basket",category:"Objects"},{emoji:"",names:["roll_of_paper"],tags:["toilet"],description:"roll of paper",category:"Objects"},{emoji:"",names:["bucket"],tags:[],description:"bucket",category:"Objects"},{emoji:"",names:["soap"],tags:[],description:"soap",category:"Objects"},{emoji:"",names:["bubbles"],tags:[],description:"bubbles",category:"Objects"},{emoji:"",names:["toothbrush"],tags:[],description:"toothbrush",category:"Objects"},{emoji:"",names:["sponge"],tags:[],description:"sponge",category:"Objects"},{emoji:"",names:["fire_extinguisher"],tags:[],description:"fire extinguisher",category:"Objects"},{emoji:"",names:["shopping_cart"],tags:[],description:"shopping cart",category:"Objects"},{emoji:"",names:["smoking"],tags:["cigarette"],description:"cigarette",category:"Objects"},{emoji:"",names:["coffin"],tags:["funeral"],description:"coffin",category:"Objects"},{emoji:"",names:["headstone"],tags:[],description:"headstone",category:"Objects"},{emoji:"",names:["funeral_urn"],tags:[],description:"funeral urn",category:"Objects"},{emoji:"",names:["nazar_amulet"],tags:[],description:"nazar amulet",category:"Objects"},{emoji:"",names:["hamsa"],tags:[],description:"hamsa",category:"Objects"},{emoji:"",names:["moyai"],tags:["stone"],description:"moai",category:"Objects"},{emoji:"",names:["placard"],tags:[],description:"placard",category:"Objects"},{emoji:"",names:["identification_card"],tags:[],description:"identification card",category:"Objects"},{emoji:"",names:["atm"],tags:[],description:"ATM sign",category:"Symbols"},{emoji:"",names:["put_litter_in_its_place"],tags:[],description:"litter in bin sign",category:"Symbols"},{emoji:"",names:["potable_water"],tags:[],description:"potable water",category:"Symbols"},{emoji:"",names:["wheelchair"],tags:["accessibility"],description:"wheelchair symbol",category:"Symbols"},{emoji:"",names:["mens"],tags:[],description:"mens room",category:"Symbols"},{emoji:"",names:["womens"],tags:[],description:"womens room",category:"Symbols"},{emoji:"",names:["restroom"],tags:["toilet"],description:"restroom",category:"Symbols"},{emoji:"",names:["baby_symbol"],tags:[],description:"baby symbol",category:"Symbols"},{emoji:"",names:["wc"],tags:["toilet","restroom"],description:"water closet",category:"Symbols"},{emoji:"",names:["passport_control"],tags:[],description:"passport control",category:"Symbols"},{emoji:"",names:["customs"],tags:[],description:"customs",category:"Symbols"},{emoji:"",names:["baggage_claim"],tags:["airport"],description:"baggage claim",category:"Symbols"},{emoji:"",names:["left_luggage"],tags:[],description:"left luggage",category:"Symbols"},{emoji:"",names:["warning"],tags:["wip"],description:"warning",category:"Symbols"},{emoji:"",names:["children_crossing"],tags:[],description:"children crossing",category:"Symbols"},{emoji:"",names:["no_entry"],tags:["limit"],description:"no entry",category:"Symbols"},{emoji:"",names:["no_entry_sign"],tags:["block","forbidden"],description:"prohibited",category:"Symbols"},{emoji:"",names:["no_bicycles"],tags:[],description:"no bicycles",category:"Symbols"},{emoji:"",names:["no_smoking"],tags:[],description:"no smoking",category:"Symbols"},{emoji:"",names:["do_not_litter"],tags:[],description:"no littering",category:"Symbols"},{emoji:"",names:["non-potable_water"],tags:[],description:"non-potable water",category:"Symbols"},{emoji:"",names:["no_pedestrians"],tags:[],description:"no pedestrians",category:"Symbols"},{emoji:"",names:["no_mobile_phones"],tags:[],description:"no mobile phones",category:"Symbols"},{emoji:"",names:["underage"],tags:[],description:"no one under eighteen",category:"Symbols"},{emoji:"",names:["radioactive"],tags:[],description:"radioactive",category:"Symbols"},{emoji:"",names:["biohazard"],tags:[],description:"biohazard",category:"Symbols"},{emoji:"",names:["arrow_up"],tags:[],description:"up arrow",category:"Symbols"},{emoji:"",names:["arrow_upper_right"],tags:[],description:"up-right arrow",category:"Symbols"},{emoji:"",names:["arrow_right"],tags:[],description:"right arrow",category:"Symbols"},{emoji:"",names:["arrow_lower_right"],tags:[],description:"down-right arrow",category:"Symbols"},{emoji:"",names:["arrow_down"],tags:[],description:"down arrow",category:"Symbols"},{emoji:"",names:["arrow_lower_left"],tags:[],description:"down-left arrow",category:"Symbols"},{emoji:"",names:["arrow_left"],tags:[],description:"left arrow",category:"Symbols"},{emoji:"",names:["arrow_upper_left"],tags:[],description:"up-left arrow",category:"Symbols"},{emoji:"",names:["arrow_up_down"],tags:[],description:"up-down arrow",category:"Symbols"},{emoji:"",names:["left_right_arrow"],tags:[],description:"left-right arrow",category:"Symbols"},{emoji:"",names:["leftwards_arrow_with_hook"],tags:["return"],description:"right arrow curving left",category:"Symbols"},{emoji:"",names:["arrow_right_hook"],tags:[],description:"left arrow curving right",category:"Symbols"},{emoji:"",names:["arrow_heading_up"],tags:[],description:"right arrow curving up",category:"Symbols"},{emoji:"",names:["arrow_heading_down"],tags:[],description:"right arrow curving down",category:"Symbols"},{emoji:"",names:["arrows_clockwise"],tags:[],description:"clockwise vertical arrows",category:"Symbols"},{emoji:"",names:["arrows_counterclockwise"],tags:["sync"],description:"counterclockwise arrows button",category:"Symbols"},{emoji:"",names:["back"],tags:[],description:"BACK arrow",category:"Symbols"},{emoji:"",names:["end"],tags:[],description:"END arrow",category:"Symbols"},{emoji:"",names:["on"],tags:[],description:"ON! arrow",category:"Symbols"},{emoji:"",names:["soon"],tags:[],description:"SOON arrow",category:"Symbols"},{emoji:"",names:["top"],tags:[],description:"TOP arrow",category:"Symbols"},{emoji:"",names:["place_of_worship"],tags:[],description:"place of worship",category:"Symbols"},{emoji:"",names:["atom_symbol"],tags:[],description:"atom symbol",category:"Symbols"},{emoji:"",names:["om"],tags:[],description:"om",category:"Symbols"},{emoji:"",names:["star_of_david"],tags:[],description:"star of David",category:"Symbols"},{emoji:"",names:["wheel_of_dharma"],tags:[],description:"wheel of dharma",category:"Symbols"},{emoji:"",names:["yin_yang"],tags:[],description:"yin yang",category:"Symbols"},{emoji:"",names:["latin_cross"],tags:[],description:"latin cross",category:"Symbols"},{emoji:"",names:["orthodox_cross"],tags:[],description:"orthodox cross",category:"Symbols"},{emoji:"",names:["star_and_crescent"],tags:[],description:"star and crescent",category:"Symbols"},{emoji:"",names:["peace_symbol"],tags:[],description:"peace symbol",category:"Symbols"},{emoji:"",names:["menorah"],tags:[],description:"menorah",category:"Symbols"},{emoji:"",names:["six_pointed_star"],tags:[],description:"dotted six-pointed star",category:"Symbols"},{emoji:"",names:["khanda"],tags:[],description:"khanda",category:"Symbols"},{emoji:"",names:["aries"],tags:[],description:"Aries",category:"Symbols"},{emoji:"",names:["taurus"],tags:[],description:"Taurus",category:"Symbols"},{emoji:"",names:["gemini"],tags:[],description:"Gemini",category:"Symbols"},{emoji:"",names:["cancer"],tags:[],description:"Cancer",category:"Symbols"},{emoji:"",names:["leo"],tags:[],description:"Leo",category:"Symbols"},{emoji:"",names:["virgo"],tags:[],description:"Virgo",category:"Symbols"},{emoji:"",names:["libra"],tags:[],description:"Libra",category:"Symbols"},{emoji:"",names:["scorpius"],tags:[],description:"Scorpio",category:"Symbols"},{emoji:"",names:["sagittarius"],tags:[],description:"Sagittarius",category:"Symbols"},{emoji:"",names:["capricorn"],tags:[],description:"Capricorn",category:"Symbols"},{emoji:"",names:["aquarius"],tags:[],description:"Aquarius",category:"Symbols"},{emoji:"",names:["pisces"],tags:[],description:"Pisces",category:"Symbols"},{emoji:"",names:["ophiuchus"],tags:[],description:"Ophiuchus",category:"Symbols"},{emoji:"",names:["twisted_rightwards_arrows"],tags:["shuffle"],description:"shuffle tracks button",category:"Symbols"},{emoji:"",names:["repeat"],tags:["loop"],description:"repeat button",category:"Symbols"},{emoji:"",names:["repeat_one"],tags:[],description:"repeat single button",category:"Symbols"},{emoji:"",names:["arrow_forward"],tags:[],description:"play button",category:"Symbols"},{emoji:"",names:["fast_forward"],tags:[],description:"fast-forward button",category:"Symbols"},{emoji:"",names:["next_track_button"],tags:[],description:"next track button",category:"Symbols"},{emoji:"",names:["play_or_pause_button"],tags:[],description:"play or pause button",category:"Symbols"},{emoji:"",names:["arrow_backward"],tags:[],description:"reverse button",category:"Symbols"},{emoji:"",names:["rewind"],tags:[],description:"fast reverse button",category:"Symbols"},{emoji:"",names:["previous_track_button"],tags:[],description:"last track button",category:"Symbols"},{emoji:"",names:["arrow_up_small"],tags:[],description:"upwards button",category:"Symbols"},{emoji:"",names:["arrow_double_up"],tags:[],description:"fast up button",category:"Symbols"},{emoji:"",names:["arrow_down_small"],tags:[],description:"downwards button",category:"Symbols"},{emoji:"",names:["arrow_double_down"],tags:[],description:"fast down button",category:"Symbols"},{emoji:"",names:["pause_button"],tags:[],description:"pause button",category:"Symbols"},{emoji:"",names:["stop_button"],tags:[],description:"stop button",category:"Symbols"},{emoji:"",names:["record_button"],tags:[],description:"record button",category:"Symbols"},{emoji:"",names:["eject_button"],tags:[],description:"eject button",category:"Symbols"},{emoji:"",names:["cinema"],tags:["film","movie"],description:"cinema",category:"Symbols"},{emoji:"",names:["low_brightness"],tags:[],description:"dim button",category:"Symbols"},{emoji:"",names:["high_brightness"],tags:[],description:"bright button",category:"Symbols"},{emoji:"",names:["signal_strength"],tags:["wifi"],description:"antenna bars",category:"Symbols"},{emoji:"",names:["wireless"],tags:["wifi"],description:"wireless",category:"Symbols"},{emoji:"",names:["vibration_mode"],tags:[],description:"vibration mode",category:"Symbols"},{emoji:"",names:["mobile_phone_off"],tags:["mute","off"],description:"mobile phone off",category:"Symbols"},{emoji:"",names:["female_sign"],tags:[],description:"female sign",category:"Symbols"},{emoji:"",names:["male_sign"],tags:[],description:"male sign",category:"Symbols"},{emoji:"",names:["transgender_symbol"],tags:[],description:"transgender symbol",category:"Symbols"},{emoji:"",names:["heavy_multiplication_x"],tags:[],description:"multiply",category:"Symbols"},{emoji:"",names:["heavy_plus_sign"],tags:[],description:"plus",category:"Symbols"},{emoji:"",names:["heavy_minus_sign"],tags:[],description:"minus",category:"Symbols"},{emoji:"",names:["heavy_division_sign"],tags:[],description:"divide",category:"Symbols"},{emoji:"",names:["heavy_equals_sign"],tags:[],description:"heavy equals sign",category:"Symbols"},{emoji:"",names:["infinity"],tags:[],description:"infinity",category:"Symbols"},{emoji:"",names:["bangbang"],tags:[],description:"double exclamation mark",category:"Symbols"},{emoji:"",names:["interrobang"],tags:[],description:"exclamation question mark",category:"Symbols"},{emoji:"",names:["question"],tags:["confused"],description:"red question mark",category:"Symbols"},{emoji:"",names:["grey_question"],tags:[],description:"white question mark",category:"Symbols"},{emoji:"",names:["grey_exclamation"],tags:[],description:"white exclamation mark",category:"Symbols"},{emoji:"",names:["exclamation","heavy_exclamation_mark"],tags:["bang"],description:"red exclamation mark",category:"Symbols"},{emoji:"",names:["wavy_dash"],tags:[],description:"wavy dash",category:"Symbols"},{emoji:"",names:["currency_exchange"],tags:[],description:"currency exchange",category:"Symbols"},{emoji:"",names:["heavy_dollar_sign"],tags:[],description:"heavy dollar sign",category:"Symbols"},{emoji:"",names:["medical_symbol"],tags:[],description:"medical symbol",category:"Symbols"},{emoji:"",names:["recycle"],tags:["environment","green"],description:"recycling symbol",category:"Symbols"},{emoji:"",names:["fleur_de_lis"],tags:[],description:"fleur-de-lis",category:"Symbols"},{emoji:"",names:["trident"],tags:[],description:"trident emblem",category:"Symbols"},{emoji:"",names:["name_badge"],tags:[],description:"name badge",category:"Symbols"},{emoji:"",names:["beginner"],tags:[],description:"Japanese symbol for beginner",category:"Symbols"},{emoji:"",names:["o"],tags:[],description:"hollow red circle",category:"Symbols"},{emoji:"",names:["white_check_mark"],tags:[],description:"check mark button",category:"Symbols"},{emoji:"",names:["ballot_box_with_check"],tags:[],description:"check box with check",category:"Symbols"},{emoji:"",names:["heavy_check_mark"],tags:[],description:"check mark",category:"Symbols"},{emoji:"",names:["x"],tags:[],description:"cross mark",category:"Symbols"},{emoji:"",names:["negative_squared_cross_mark"],tags:[],description:"cross mark button",category:"Symbols"},{emoji:"",names:["curly_loop"],tags:[],description:"curly loop",category:"Symbols"},{emoji:"",names:["loop"],tags:[],description:"double curly loop",category:"Symbols"},{emoji:"",names:["part_alternation_mark"],tags:[],description:"part alternation mark",category:"Symbols"},{emoji:"",names:["eight_spoked_asterisk"],tags:[],description:"eight-spoked asterisk",category:"Symbols"},{emoji:"",names:["eight_pointed_black_star"],tags:[],description:"eight-pointed star",category:"Symbols"},{emoji:"",names:["sparkle"],tags:[],description:"sparkle",category:"Symbols"},{emoji:"",names:["copyright"],tags:[],description:"copyright",category:"Symbols"},{emoji:"",names:["registered"],tags:[],description:"registered",category:"Symbols"},{emoji:"",names:["tm"],tags:["trademark"],description:"trade mark",category:"Symbols"},{emoji:"#",names:["hash"],tags:["number"],description:"keycap: #",category:"Symbols"},{emoji:"*",names:["asterisk"],tags:[],description:"keycap: *",category:"Symbols"},{emoji:"0",names:["zero"],tags:[],description:"keycap: 0",category:"Symbols"},{emoji:"1",names:["one"],tags:[],description:"keycap: 1",category:"Symbols"},{emoji:"2",names:["two"],tags:[],description:"keycap: 2",category:"Symbols"},{emoji:"3",names:["three"],tags:[],description:"keycap: 3",category:"Symbols"},{emoji:"4",names:["four"],tags:[],description:"keycap: 4",category:"Symbols"},{emoji:"5",names:["five"],tags:[],description:"keycap: 5",category:"Symbols"},{emoji:"6",names:["six"],tags:[],description:"keycap: 6",category:"Symbols"},{emoji:"7",names:["seven"],tags:[],description:"keycap: 7",category:"Symbols"},{emoji:"8",names:["eight"],tags:[],description:"keycap: 8",category:"Symbols"},{emoji:"9",names:["nine"],tags:[],description:"keycap: 9",category:"Symbols"},{emoji:"",names:["keycap_ten"],tags:[],description:"keycap: 10",category:"Symbols"},{emoji:"",names:["capital_abcd"],tags:["letters"],description:"input latin uppercase",category:"Symbols"},{emoji:"",names:["abcd"],tags:[],description:"input latin lowercase",category:"Symbols"},{emoji:"",names:["1234"],tags:["numbers"],description:"input numbers",category:"Symbols"},{emoji:"",names:["symbols"],tags:[],description:"input symbols",category:"Symbols"},{emoji:"",names:["abc"],tags:["alphabet"],description:"input latin letters",category:"Symbols"},{emoji:"",names:["a"],tags:[],description:"A button (blood type)",category:"Symbols"},{emoji:"",names:["ab"],tags:[],description:"AB button (blood type)",category:"Symbols"},{emoji:"",names:["b"],tags:[],description:"B button (blood type)",category:"Symbols"},{emoji:"",names:["cl"],tags:[],description:"CL button",category:"Symbols"},{emoji:"",names:["cool"],tags:[],description:"COOL button",category:"Symbols"},{emoji:"",names:["free"],tags:[],description:"FREE button",category:"Symbols"},{emoji:"",names:["information_source"],tags:[],description:"information",category:"Symbols"},{emoji:"",names:["id"],tags:[],description:"ID button",category:"Symbols"},{emoji:"",names:["m"],tags:[],description:"circled M",category:"Symbols"},{emoji:"",names:["new"],tags:["fresh"],description:"NEW button",category:"Symbols"},{emoji:"",names:["ng"],tags:[],description:"NG button",category:"Symbols"},{emoji:"",names:["o2"],tags:[],description:"O button (blood type)",category:"Symbols"},{emoji:"",names:["ok"],tags:["yes"],description:"OK button",category:"Symbols"},{emoji:"",names:["parking"],tags:[],description:"P button",category:"Symbols"},{emoji:"",names:["sos"],tags:["help","emergency"],description:"SOS button",category:"Symbols"},{emoji:"",names:["up"],tags:[],description:"UP! button",category:"Symbols"},{emoji:"",names:["vs"],tags:[],description:"VS button",category:"Symbols"},{emoji:"",names:["koko"],tags:[],description:"Japanese here button",category:"Symbols"},{emoji:"",names:["sa"],tags:[],description:"Japanese service charge button",category:"Symbols"},{emoji:"",names:["u6708"],tags:[],description:"Japanese monthly amount button",category:"Symbols"},{emoji:"",names:["u6709"],tags:[],description:"Japanese not free of charge button",category:"Symbols"},{emoji:"",names:["u6307"],tags:[],description:"Japanese reserved button",category:"Symbols"},{emoji:"",names:["ideograph_advantage"],tags:[],description:"Japanese bargain button",category:"Symbols"},{emoji:"",names:["u5272"],tags:[],description:"Japanese discount button",category:"Symbols"},{emoji:"",names:["u7121"],tags:[],description:"Japanese free of charge button",category:"Symbols"},{emoji:"",names:["u7981"],tags:[],description:"Japanese prohibited button",category:"Symbols"},{emoji:"",names:["accept"],tags:[],description:"Japanese acceptable button",category:"Symbols"},{emoji:"",names:["u7533"],tags:[],description:"Japanese application button",category:"Symbols"},{emoji:"",names:["u5408"],tags:[],description:"Japanese passing grade button",category:"Symbols"},{emoji:"",names:["u7a7a"],tags:[],description:"Japanese vacancy button",category:"Symbols"},{emoji:"",names:["congratulations"],tags:[],description:"Japanese congratulations button",category:"Symbols"},{emoji:"",names:["secret"],tags:[],description:"Japanese secret button",category:"Symbols"},{emoji:"",names:["u55b6"],tags:[],description:"Japanese open for business button",category:"Symbols"},{emoji:"",names:["u6e80"],tags:[],description:"Japanese no vacancy button",category:"Symbols"},{emoji:"",names:["red_circle"],tags:[],description:"red circle",category:"Symbols"},{emoji:"",names:["orange_circle"],tags:[],description:"orange circle",category:"Symbols"},{emoji:"",names:["yellow_circle"],tags:[],description:"yellow circle",category:"Symbols"},{emoji:"",names:["green_circle"],tags:[],description:"green circle",category:"Symbols"},{emoji:"",names:["large_blue_circle"],tags:[],description:"blue circle",category:"Symbols"},{emoji:"",names:["purple_circle"],tags:[],description:"purple circle",category:"Symbols"},{emoji:"",names:["brown_circle"],tags:[],description:"brown circle",category:"Symbols"},{emoji:"",names:["black_circle"],tags:[],description:"black circle",category:"Symbols"},{emoji:"",names:["white_circle"],tags:[],description:"white circle",category:"Symbols"},{emoji:"",names:["red_square"],tags:[],description:"red square",category:"Symbols"},{emoji:"",names:["orange_square"],tags:[],description:"orange square",category:"Symbols"},{emoji:"",names:["yellow_square"],tags:[],description:"yellow square",category:"Symbols"},{emoji:"",names:["green_square"],tags:[],description:"green square",category:"Symbols"},{emoji:"",names:["blue_square"],tags:[],description:"blue square",category:"Symbols"},{emoji:"",names:["purple_square"],tags:[],description:"purple square",category:"Symbols"},{emoji:"",names:["brown_square"],tags:[],description:"brown square",category:"Symbols"},{emoji:"",names:["black_large_square"],tags:[],description:"black large square",category:"Symbols"},{emoji:"",names:["white_large_square"],tags:[],description:"white large square",category:"Symbols"},{emoji:"",names:["black_medium_square"],tags:[],description:"black medium square",category:"Symbols"},{emoji:"",names:["white_medium_square"],tags:[],description:"white medium square",category:"Symbols"},{emoji:"",names:["black_medium_small_square"],tags:[],description:"black medium-small square",category:"Symbols"},{emoji:"",names:["white_medium_small_square"],tags:[],description:"white medium-small square",category:"Symbols"},{emoji:"",names:["black_small_square"],tags:[],description:"black small square",category:"Symbols"},{emoji:"",names:["white_small_square"],tags:[],description:"white small square",category:"Symbols"},{emoji:"",names:["large_orange_diamond"],tags:[],description:"large orange diamond",category:"Symbols"},{emoji:"",names:["large_blue_diamond"],tags:[],description:"large blue diamond",category:"Symbols"},{emoji:"",names:["small_orange_diamond"],tags:[],description:"small orange diamond",category:"Symbols"},{emoji:"",names:["small_blue_diamond"],tags:[],description:"small blue diamond",category:"Symbols"},{emoji:"",names:["small_red_triangle"],tags:[],description:"red triangle pointed up",category:"Symbols"},{emoji:"",names:["small_red_triangle_down"],tags:[],description:"red triangle pointed down",category:"Symbols"},{emoji:"",names:["diamond_shape_with_a_dot_inside"],tags:[],description:"diamond with a dot",category:"Symbols"},{emoji:"",names:["radio_button"],tags:[],description:"radio button",category:"Symbols"},{emoji:"",names:["white_square_button"],tags:[],description:"white square button",category:"Symbols"},{emoji:"",names:["black_square_button"],tags:[],description:"black square button",category:"Symbols"},{emoji:"",names:["checkered_flag"],tags:["milestone","finish"],description:"chequered flag",category:"Flags"},{emoji:"",names:["triangular_flag_on_post"],tags:[],description:"triangular flag",category:"Flags"},{emoji:"",names:["crossed_flags"],tags:[],description:"crossed flags",category:"Flags"},{emoji:"",names:["black_flag"],tags:[],description:"black flag",category:"Flags"},{emoji:"",names:["white_flag"],tags:[],description:"white flag",category:"Flags"},{emoji:"",names:["rainbow_flag"],tags:["pride"],description:"rainbow flag",category:"Flags"},{emoji:"",names:["transgender_flag"],tags:[],description:"transgender flag",category:"Flags"},{emoji:"",names:["pirate_flag"],tags:[],description:"pirate flag",category:"Flags"},{emoji:"",names:["ascension_island"],tags:[],description:"flag: Ascension Island",category:"Flags"},{emoji:"",names:["andorra"],tags:[],description:"flag: Andorra",category:"Flags"},{emoji:"",names:["united_arab_emirates"],tags:[],description:"flag: United Arab Emirates",category:"Flags"},{emoji:"",names:["afghanistan"],tags:[],description:"flag: Afghanistan",category:"Flags"},{emoji:"",names:["antigua_barbuda"],tags:[],description:"flag: Antigua & Barbuda",category:"Flags"},{emoji:"",names:["anguilla"],tags:[],description:"flag: Anguilla",category:"Flags"},{emoji:"",names:["albania"],tags:[],description:"flag: Albania",category:"Flags"},{emoji:"",names:["armenia"],tags:[],description:"flag: Armenia",category:"Flags"},{emoji:"",names:["angola"],tags:[],description:"flag: Angola",category:"Flags"},{emoji:"",names:["antarctica"],tags:[],description:"flag: Antarctica",category:"Flags"},{emoji:"",names:["argentina"],tags:[],description:"flag: Argentina",category:"Flags"},{emoji:"",names:["american_samoa"],tags:[],description:"flag: American Samoa",category:"Flags"},{emoji:"",names:["austria"],tags:[],description:"flag: Austria",category:"Flags"},{emoji:"",names:["australia"],tags:[],description:"flag: Australia",category:"Flags"},{emoji:"",names:["aruba"],tags:[],description:"flag: Aruba",category:"Flags"},{emoji:"",names:["aland_islands"],tags:[],description:"flag: land Islands",category:"Flags"},{emoji:"",names:["azerbaijan"],tags:[],description:"flag: Azerbaijan",category:"Flags"},{emoji:"",names:["bosnia_herzegovina"],tags:[],description:"flag: Bosnia & Herzegovina",category:"Flags"},{emoji:"",names:["barbados"],tags:[],description:"flag: Barbados",category:"Flags"},{emoji:"",names:["bangladesh"],tags:[],description:"flag: Bangladesh",category:"Flags"},{emoji:"",names:["belgium"],tags:[],description:"flag: Belgium",category:"Flags"},{emoji:"",names:["burkina_faso"],tags:[],description:"flag: Burkina Faso",category:"Flags"},{emoji:"",names:["bulgaria"],tags:[],description:"flag: Bulgaria",category:"Flags"},{emoji:"",names:["bahrain"],tags:[],description:"flag: Bahrain",category:"Flags"},{emoji:"",names:["burundi"],tags:[],description:"flag: Burundi",category:"Flags"},{emoji:"",names:["benin"],tags:[],description:"flag: Benin",category:"Flags"},{emoji:"",names:["st_barthelemy"],tags:[],description:"flag: St. Barthlemy",category:"Flags"},{emoji:"",names:["bermuda"],tags:[],description:"flag: Bermuda",category:"Flags"},{emoji:"",names:["brunei"],tags:[],description:"flag: Brunei",category:"Flags"},{emoji:"",names:["bolivia"],tags:[],description:"flag: Bolivia",category:"Flags"},{emoji:"",names:["caribbean_netherlands"],tags:[],description:"flag: Caribbean Netherlands",category:"Flags"},{emoji:"",names:["brazil"],tags:[],description:"flag: Brazil",category:"Flags"},{emoji:"",names:["bahamas"],tags:[],description:"flag: Bahamas",category:"Flags"},{emoji:"",names:["bhutan"],tags:[],description:"flag: Bhutan",category:"Flags"},{emoji:"",names:["bouvet_island"],tags:[],description:"flag: Bouvet Island",category:"Flags"},{emoji:"",names:["botswana"],tags:[],description:"flag: Botswana",category:"Flags"},{emoji:"",names:["belarus"],tags:[],description:"flag: Belarus",category:"Flags"},{emoji:"",names:["belize"],tags:[],description:"flag: Belize",category:"Flags"},{emoji:"",names:["canada"],tags:[],description:"flag: Canada",category:"Flags"},{emoji:"",names:["cocos_islands"],tags:["keeling"],description:"flag: Cocos (Keeling) Islands",category:"Flags"},{emoji:"",names:["congo_kinshasa"],tags:[],description:"flag: Congo - Kinshasa",category:"Flags"},{emoji:"",names:["central_african_republic"],tags:[],description:"flag: Central African Republic",category:"Flags"},{emoji:"",names:["congo_brazzaville"],tags:[],description:"flag: Congo - Brazzaville",category:"Flags"},{emoji:"",names:["switzerland"],tags:[],description:"flag: Switzerland",category:"Flags"},{emoji:"",names:["cote_divoire"],tags:["ivory"],description:"flag: Cte dIvoire",category:"Flags"},{emoji:"",names:["cook_islands"],tags:[],description:"flag: Cook Islands",category:"Flags"},{emoji:"",names:["chile"],tags:[],description:"flag: Chile",category:"Flags"},{emoji:"",names:["cameroon"],tags:[],description:"flag: Cameroon",category:"Flags"},{emoji:"",names:["cn"],tags:["china"],description:"flag: China",category:"Flags"},{emoji:"",names:["colombia"],tags:[],description:"flag: Colombia",category:"Flags"},{emoji:"",names:["clipperton_island"],tags:[],description:"flag: Clipperton Island",category:"Flags"},{emoji:"",names:["costa_rica"],tags:[],description:"flag: Costa Rica",category:"Flags"},{emoji:"",names:["cuba"],tags:[],description:"flag: Cuba",category:"Flags"},{emoji:"",names:["cape_verde"],tags:[],description:"flag: Cape Verde",category:"Flags"},{emoji:"",names:["curacao"],tags:[],description:"flag: Curaao",category:"Flags"},{emoji:"",names:["christmas_island"],tags:[],description:"flag: Christmas Island",category:"Flags"},{emoji:"",names:["cyprus"],tags:[],description:"flag: Cyprus",category:"Flags"},{emoji:"",names:["czech_republic"],tags:[],description:"flag: Czechia",category:"Flags"},{emoji:"",names:["de"],tags:["flag","germany"],description:"flag: Germany",category:"Flags"},{emoji:"",names:["diego_garcia"],tags:[],description:"flag: Diego Garcia",category:"Flags"},{emoji:"",names:["djibouti"],tags:[],description:"flag: Djibouti",category:"Flags"},{emoji:"",names:["denmark"],tags:[],description:"flag: Denmark",category:"Flags"},{emoji:"",names:["dominica"],tags:[],description:"flag: Dominica",category:"Flags"},{emoji:"",names:["dominican_republic"],tags:[],description:"flag: Dominican Republic",category:"Flags"},{emoji:"",names:["algeria"],tags:[],description:"flag: Algeria",category:"Flags"},{emoji:"",names:["ceuta_melilla"],tags:[],description:"flag: Ceuta & Melilla",category:"Flags"},{emoji:"",names:["ecuador"],tags:[],description:"flag: Ecuador",category:"Flags"},{emoji:"",names:["estonia"],tags:[],description:"flag: Estonia",category:"Flags"},{emoji:"",names:["egypt"],tags:[],description:"flag: Egypt",category:"Flags"},{emoji:"",names:["western_sahara"],tags:[],description:"flag: Western Sahara",category:"Flags"},{emoji:"",names:["eritrea"],tags:[],description:"flag: Eritrea",category:"Flags"},{emoji:"",names:["es"],tags:["spain"],description:"flag: Spain",category:"Flags"},{emoji:"",names:["ethiopia"],tags:[],description:"flag: Ethiopia",category:"Flags"},{emoji:"",names:["eu","european_union"],tags:[],description:"flag: European Union",category:"Flags"},{emoji:"",names:["finland"],tags:[],description:"flag: Finland",category:"Flags"},{emoji:"",names:["fiji"],tags:[],description:"flag: Fiji",category:"Flags"},{emoji:"",names:["falkland_islands"],tags:[],description:"flag: Falkland Islands",category:"Flags"},{emoji:"",names:["micronesia"],tags:[],description:"flag: Micronesia",category:"Flags"},{emoji:"",names:["faroe_islands"],tags:[],description:"flag: Faroe Islands",category:"Flags"},{emoji:"",names:["fr"],tags:["france","french"],description:"flag: France",category:"Flags"},{emoji:"",names:["gabon"],tags:[],description:"flag: Gabon",category:"Flags"},{emoji:"",names:["gb","uk"],tags:["flag","british"],description:"flag: United Kingdom",category:"Flags"},{emoji:"",names:["grenada"],tags:[],description:"flag: Grenada",category:"Flags"},{emoji:"",names:["georgia"],tags:[],description:"flag: Georgia",category:"Flags"},{emoji:"",names:["french_guiana"],tags:[],description:"flag: French Guiana",category:"Flags"},{emoji:"",names:["guernsey"],tags:[],description:"flag: Guernsey",category:"Flags"},{emoji:"",names:["ghana"],tags:[],description:"flag: Ghana",category:"Flags"},{emoji:"",names:["gibraltar"],tags:[],description:"flag: Gibraltar",category:"Flags"},{emoji:"",names:["greenland"],tags:[],description:"flag: Greenland",category:"Flags"},{emoji:"",names:["gambia"],tags:[],description:"flag: Gambia",category:"Flags"},{emoji:"",names:["guinea"],tags:[],description:"flag: Guinea",category:"Flags"},{emoji:"",names:["guadeloupe"],tags:[],description:"flag: Guadeloupe",category:"Flags"},{emoji:"",names:["equatorial_guinea"],tags:[],description:"flag: Equatorial Guinea",category:"Flags"},{emoji:"",names:["greece"],tags:[],description:"flag: Greece",category:"Flags"},{emoji:"",names:["south_georgia_south_sandwich_islands"],tags:[],description:"flag: South Georgia & South Sandwich Islands",category:"Flags"},{emoji:"",names:["guatemala"],tags:[],description:"flag: Guatemala",category:"Flags"},{emoji:"",names:["guam"],tags:[],description:"flag: Guam",category:"Flags"},{emoji:"",names:["guinea_bissau"],tags:[],description:"flag: Guinea-Bissau",category:"Flags"},{emoji:"",names:["guyana"],tags:[],description:"flag: Guyana",category:"Flags"},{emoji:"",names:["hong_kong"],tags:[],description:"flag: Hong Kong SAR China",category:"Flags"},{emoji:"",names:["heard_mcdonald_islands"],tags:[],description:"flag: Heard & McDonald Islands",category:"Flags"},{emoji:"",names:["honduras"],tags:[],description:"flag: Honduras",category:"Flags"},{emoji:"",names:["croatia"],tags:[],description:"flag: Croatia",category:"Flags"},{emoji:"",names:["haiti"],tags:[],description:"flag: Haiti",category:"Flags"},{emoji:"",names:["hungary"],tags:[],description:"flag: Hungary",category:"Flags"},{emoji:"",names:["canary_islands"],tags:[],description:"flag: Canary Islands",category:"Flags"},{emoji:"",names:["indonesia"],tags:[],description:"flag: Indonesia",category:"Flags"},{emoji:"",names:["ireland"],tags:[],description:"flag: Ireland",category:"Flags"},{emoji:"",names:["israel"],tags:[],description:"flag: Israel",category:"Flags"},{emoji:"",names:["isle_of_man"],tags:[],description:"flag: Isle of Man",category:"Flags"},{emoji:"",names:["india"],tags:[],description:"flag: India",category:"Flags"},{emoji:"",names:["british_indian_ocean_territory"],tags:[],description:"flag: British Indian Ocean Territory",category:"Flags"},{emoji:"",names:["iraq"],tags:[],description:"flag: Iraq",category:"Flags"},{emoji:"",names:["iran"],tags:[],description:"flag: Iran",category:"Flags"},{emoji:"",names:["iceland"],tags:[],description:"flag: Iceland",category:"Flags"},{emoji:"",names:["it"],tags:["italy"],description:"flag: Italy",category:"Flags"},{emoji:"",names:["jersey"],tags:[],description:"flag: Jersey",category:"Flags"},{emoji:"",names:["jamaica"],tags:[],description:"flag: Jamaica",category:"Flags"},{emoji:"",names:["jordan"],tags:[],description:"flag: Jordan",category:"Flags"},{emoji:"",names:["jp"],tags:["japan"],description:"flag: Japan",category:"Flags"},{emoji:"",names:["kenya"],tags:[],description:"flag: Kenya",category:"Flags"},{emoji:"",names:["kyrgyzstan"],tags:[],description:"flag: Kyrgyzstan",category:"Flags"},{emoji:"",names:["cambodia"],tags:[],description:"flag: Cambodia",category:"Flags"},{emoji:"",names:["kiribati"],tags:[],description:"flag: Kiribati",category:"Flags"},{emoji:"",names:["comoros"],tags:[],description:"flag: Comoros",category:"Flags"},{emoji:"",names:["st_kitts_nevis"],tags:[],description:"flag: St. Kitts & Nevis",category:"Flags"},{emoji:"",names:["north_korea"],tags:[],description:"flag: North Korea",category:"Flags"},{emoji:"",names:["kr"],tags:["korea"],description:"flag: South Korea",category:"Flags"},{emoji:"",names:["kuwait"],tags:[],description:"flag: Kuwait",category:"Flags"},{emoji:"",names:["cayman_islands"],tags:[],description:"flag: Cayman Islands",category:"Flags"},{emoji:"",names:["kazakhstan"],tags:[],description:"flag: Kazakhstan",category:"Flags"},{emoji:"",names:["laos"],tags:[],description:"flag: Laos",category:"Flags"},{emoji:"",names:["lebanon"],tags:[],description:"flag: Lebanon",category:"Flags"},{emoji:"",names:["st_lucia"],tags:[],description:"flag: St. Lucia",category:"Flags"},{emoji:"",names:["liechtenstein"],tags:[],description:"flag: Liechtenstein",category:"Flags"},{emoji:"",names:["sri_lanka"],tags:[],description:"flag: Sri Lanka",category:"Flags"},{emoji:"",names:["liberia"],tags:[],description:"flag: Liberia",category:"Flags"},{emoji:"",names:["lesotho"],tags:[],description:"flag: Lesotho",category:"Flags"},{emoji:"",names:["lithuania"],tags:[],description:"flag: Lithuania",category:"Flags"},{emoji:"",names:["luxembourg"],tags:[],description:"flag: Luxembourg",category:"Flags"},{emoji:"",names:["latvia"],tags:[],description:"flag: Latvia",category:"Flags"},{emoji:"",names:["libya"],tags:[],description:"flag: Libya",category:"Flags"},{emoji:"",names:["morocco"],tags:[],description:"flag: Morocco",category:"Flags"},{emoji:"",names:["monaco"],tags:[],description:"flag: Monaco",category:"Flags"},{emoji:"",names:["moldova"],tags:[],description:"flag: Moldova",category:"Flags"},{emoji:"",names:["montenegro"],tags:[],description:"flag: Montenegro",category:"Flags"},{emoji:"",names:["st_martin"],tags:[],description:"flag: St. Martin",category:"Flags"},{emoji:"",names:["madagascar"],tags:[],description:"flag: Madagascar",category:"Flags"},{emoji:"",names:["marshall_islands"],tags:[],description:"flag: Marshall Islands",category:"Flags"},{emoji:"",names:["macedonia"],tags:[],description:"flag: North Macedonia",category:"Flags"},{emoji:"",names:["mali"],tags:[],description:"flag: Mali",category:"Flags"},{emoji:"",names:["myanmar"],tags:["burma"],description:"flag: Myanmar (Burma)",category:"Flags"},{emoji:"",names:["mongolia"],tags:[],description:"flag: Mongolia",category:"Flags"},{emoji:"",names:["macau"],tags:[],description:"flag: Macao SAR China",category:"Flags"},{emoji:"",names:["northern_mariana_islands"],tags:[],description:"flag: Northern Mariana Islands",category:"Flags"},{emoji:"",names:["martinique"],tags:[],description:"flag: Martinique",category:"Flags"},{emoji:"",names:["mauritania"],tags:[],description:"flag: Mauritania",category:"Flags"},{emoji:"",names:["montserrat"],tags:[],description:"flag: Montserrat",category:"Flags"},{emoji:"",names:["malta"],tags:[],description:"flag: Malta",category:"Flags"},{emoji:"",names:["mauritius"],tags:[],description:"flag: Mauritius",category:"Flags"},{emoji:"",names:["maldives"],tags:[],description:"flag: Maldives",category:"Flags"},{emoji:"",names:["malawi"],tags:[],description:"flag: Malawi",category:"Flags"},{emoji:"",names:["mexico"],tags:[],description:"flag: Mexico",category:"Flags"},{emoji:"",names:["malaysia"],tags:[],description:"flag: Malaysia",category:"Flags"},{emoji:"",names:["mozambique"],tags:[],description:"flag: Mozambique",category:"Flags"},{emoji:"",names:["namibia"],tags:[],description:"flag: Namibia",category:"Flags"},{emoji:"",names:["new_caledonia"],tags:[],description:"flag: New Caledonia",category:"Flags"},{emoji:"",names:["niger"],tags:[],description:"flag: Niger",category:"Flags"},{emoji:"",names:["norfolk_island"],tags:[],description:"flag: Norfolk Island",category:"Flags"},{emoji:"",names:["nigeria"],tags:[],description:"flag: Nigeria",category:"Flags"},{emoji:"",names:["nicaragua"],tags:[],description:"flag: Nicaragua",category:"Flags"},{emoji:"",names:["netherlands"],tags:[],description:"flag: Netherlands",category:"Flags"},{emoji:"",names:["norway"],tags:[],description:"flag: Norway",category:"Flags"},{emoji:"",names:["nepal"],tags:[],description:"flag: Nepal",category:"Flags"},{emoji:"",names:["nauru"],tags:[],description:"flag: Nauru",category:"Flags"},{emoji:"",names:["niue"],tags:[],description:"flag: Niue",category:"Flags"},{emoji:"",names:["new_zealand"],tags:[],description:"flag: New Zealand",category:"Flags"},{emoji:"",names:["oman"],tags:[],description:"flag: Oman",category:"Flags"},{emoji:"",names:["panama"],tags:[],description:"flag: Panama",category:"Flags"},{emoji:"",names:["peru"],tags:[],description:"flag: Peru",category:"Flags"},{emoji:"",names:["french_polynesia"],tags:[],description:"flag: French Polynesia",category:"Flags"},{emoji:"",names:["papua_new_guinea"],tags:[],description:"flag: Papua New Guinea",category:"Flags"},{emoji:"",names:["philippines"],tags:[],description:"flag: Philippines",category:"Flags"},{emoji:"",names:["pakistan"],tags:[],description:"flag: Pakistan",category:"Flags"},{emoji:"",names:["poland"],tags:[],description:"flag: Poland",category:"Flags"},{emoji:"",names:["st_pierre_miquelon"],tags:[],description:"flag: St. Pierre & Miquelon",category:"Flags"},{emoji:"",names:["pitcairn_islands"],tags:[],description:"flag: Pitcairn Islands",category:"Flags"},{emoji:"",names:["puerto_rico"],tags:[],description:"flag: Puerto Rico",category:"Flags"},{emoji:"",names:["palestinian_territories"],tags:[],description:"flag: Palestinian Territories",category:"Flags"},{emoji:"",names:["portugal"],tags:[],description:"flag: Portugal",category:"Flags"},{emoji:"",names:["palau"],tags:[],description:"flag: Palau",category:"Flags"},{emoji:"",names:["paraguay"],tags:[],description:"flag: Paraguay",category:"Flags"},{emoji:"",names:["qatar"],tags:[],description:"flag: Qatar",category:"Flags"},{emoji:"",names:["reunion"],tags:[],description:"flag: Runion",category:"Flags"},{emoji:"",names:["romania"],tags:[],description:"flag: Romania",category:"Flags"},{emoji:"",names:["serbia"],tags:[],description:"flag: Serbia",category:"Flags"},{emoji:"",names:["ru"],tags:["russia"],description:"flag: Russia",category:"Flags"},{emoji:"",names:["rwanda"],tags:[],description:"flag: Rwanda",category:"Flags"},{emoji:"",names:["saudi_arabia"],tags:[],description:"flag: Saudi Arabia",category:"Flags"},{emoji:"",names:["solomon_islands"],tags:[],description:"flag: Solomon Islands",category:"Flags"},{emoji:"",names:["seychelles"],tags:[],description:"flag: Seychelles",category:"Flags"},{emoji:"",names:["sudan"],tags:[],description:"flag: Sudan",category:"Flags"},{emoji:"",names:["sweden"],tags:[],description:"flag: Sweden",category:"Flags"},{emoji:"",names:["singapore"],tags:[],description:"flag: Singapore",category:"Flags"},{emoji:"",names:["st_helena"],tags:[],description:"flag: St. Helena",category:"Flags"},{emoji:"",names:["slovenia"],tags:[],description:"flag: Slovenia",category:"Flags"},{emoji:"",names:["svalbard_jan_mayen"],tags:[],description:"flag: Svalbard & Jan Mayen",category:"Flags"},{emoji:"",names:["slovakia"],tags:[],description:"flag: Slovakia",category:"Flags"},{emoji:"",names:["sierra_leone"],tags:[],description:"flag: Sierra Leone",category:"Flags"},{emoji:"",names:["san_marino"],tags:[],description:"flag: San Marino",category:"Flags"},{emoji:"",names:["senegal"],tags:[],description:"flag: Senegal",category:"Flags"},{emoji:"",names:["somalia"],tags:[],description:"flag: Somalia",category:"Flags"},{emoji:"",names:["suriname"],tags:[],description:"flag: Suriname",category:"Flags"},{emoji:"",names:["south_sudan"],tags:[],description:"flag: South Sudan",category:"Flags"},{emoji:"",names:["sao_tome_principe"],tags:[],description:"flag: So Tom & Prncipe",category:"Flags"},{emoji:"",names:["el_salvador"],tags:[],description:"flag: El Salvador",category:"Flags"},{emoji:"",names:["sint_maarten"],tags:[],description:"flag: Sint Maarten",category:"Flags"},{emoji:"",names:["syria"],tags:[],description:"flag: Syria",category:"Flags"},{emoji:"",names:["swaziland"],tags:[],description:"flag: Eswatini",category:"Flags"},{emoji:"",names:["tristan_da_cunha"],tags:[],description:"flag: Tristan da Cunha",category:"Flags"},{emoji:"",names:["turks_caicos_islands"],tags:[],description:"flag: Turks & Caicos Islands",category:"Flags"},{emoji:"",names:["chad"],tags:[],description:"flag: Chad",category:"Flags"},{emoji:"",names:["french_southern_territories"],tags:[],description:"flag: French Southern Territories",category:"Flags"},{emoji:"",names:["togo"],tags:[],description:"flag: Togo",category:"Flags"},{emoji:"",names:["thailand"],tags:[],description:"flag: Thailand",category:"Flags"},{emoji:"",names:["tajikistan"],tags:[],description:"flag: Tajikistan",category:"Flags"},{emoji:"",names:["tokelau"],tags:[],description:"flag: Tokelau",category:"Flags"},{emoji:"",names:["timor_leste"],tags:[],description:"flag: Timor-Leste",category:"Flags"},{emoji:"",names:["turkmenistan"],tags:[],description:"flag: Turkmenistan",category:"Flags"},{emoji:"",names:["tunisia"],tags:[],description:"flag: Tunisia",category:"Flags"},{emoji:"",names:["tonga"],tags:[],description:"flag: Tonga",category:"Flags"},{emoji:"",names:["tr"],tags:["turkey"],description:"flag: Turkey",category:"Flags"},{emoji:"",names:["trinidad_tobago"],tags:[],description:"flag: Trinidad & Tobago",category:"Flags"},{emoji:"",names:["tuvalu"],tags:[],description:"flag: Tuvalu",category:"Flags"},{emoji:"",names:["taiwan"],tags:[],description:"flag: Taiwan",category:"Flags"},{emoji:"",names:["tanzania"],tags:[],description:"flag: Tanzania",category:"Flags"},{emoji:"",names:["ukraine"],tags:[],description:"flag: Ukraine",category:"Flags"},{emoji:"",names:["uganda"],tags:[],description:"flag: Uganda",category:"Flags"},{emoji:"",names:["us_outlying_islands"],tags:[],description:"flag: U.S. Outlying Islands",category:"Flags"},{emoji:"",names:["united_nations"],tags:[],description:"flag: United Nations",category:"Flags"},{emoji:"",names:["us"],tags:["flag","united","america"],description:"flag: United States",category:"Flags"},{emoji:"",names:["uruguay"],tags:[],description:"flag: Uruguay",category:"Flags"},{emoji:"",names:["uzbekistan"],tags:[],description:"flag: Uzbekistan",category:"Flags"},{emoji:"",names:["vatican_city"],tags:[],description:"flag: Vatican City",category:"Flags"},{emoji:"",names:["st_vincent_grenadines"],tags:[],description:"flag: St. Vincent & Grenadines",category:"Flags"},{emoji:"",names:["venezuela"],tags:[],description:"flag: Venezuela",category:"Flags"},{emoji:"",names:["british_virgin_islands"],tags:[],description:"flag: British Virgin Islands",category:"Flags"},{emoji:"",names:["us_virgin_islands"],tags:[],description:"flag: U.S. Virgin Islands",category:"Flags"},{emoji:"",names:["vietnam"],tags:[],description:"flag: Vietnam",category:"Flags"},{emoji:"",names:["vanuatu"],tags:[],description:"flag: Vanuatu",category:"Flags"},{emoji:"",names:["wallis_futuna"],tags:[],description:"flag: Wallis & Futuna",category:"Flags"},{emoji:"",names:["samoa"],tags:[],description:"flag: Samoa",category:"Flags"},{emoji:"",names:["kosovo"],tags:[],description:"flag: Kosovo",category:"Flags"},{emoji:"",names:["yemen"],tags:[],description:"flag: Yemen",category:"Flags"},{emoji:"",names:["mayotte"],tags:[],description:"flag: Mayotte",category:"Flags"},{emoji:"",names:["south_africa"],tags:[],description:"flag: South Africa",category:"Flags"},{emoji:"",names:["zambia"],tags:[],description:"flag: Zambia",category:"Flags"},{emoji:"",names:["zimbabwe"],tags:[],description:"flag: Zimbabwe",category:"Flags"},{emoji:"",names:["england"],tags:[],description:"flag: England",category:"Flags"},{emoji:"",names:["scotland"],tags:[],description:"flag: Scotland",category:"Flags"},{emoji:"",names:["wales"],tags:[],description:"flag: Wales",category:"Flags"}],lT=n=>(Ar("data-v-925c0c2e"),n=n(),Er(),n),uT={class:"emoji-panel"},cT={key:0,class:"select-bar"},dT=lT(()=>z("span",{class:"material-symbols-outlined"},"shuffle",-1)),fT=["title","onClick"],hT=Q({__name:"EmojiPanel",props:{search:{type:Boolean},query:{}},emits:["change","close"],setup(n,{emit:e}){const t=n,i=e,r=U(""),o=U(0),s=U(),a=D(()=>{const c=t.search?r.value:t.query;return c?Rm.filter(d=>d.names.some(f=>f.includes(c))):Rm});de(()=>t.search?t.query:r.value,async()=>{o.value=0}),de(o,async()=>{var c,d;await _t(),(d=(c=s.value)==null?void 0:c.querySelector(".emoji-item.selected"))==null||d.scrollIntoViewIfNeeded(!1)});const l=()=>{const c=Math.floor(a.value.length*Math.random());i("change",a.value[c].emoji)},u=c=>{if(!a.value.length)return;const d=()=>{c.stopPropagation(),c.preventDefault()};if(c.key==="ArrowRight")d(),o.value=(o.value+1)%a.value.length;else if(c.key==="ArrowLeft")d(),o.value=(o.value-1+a.value.length)%a.value.length;else if(c.key==="ArrowDown"){const f=Math.floor(s.value.getBoundingClientRect().width/32);d();const p=Math.floor(o.value/f),h=Math.floor((a.value.length-1)/f)+1,g=(p+1)%h*f+o.value%f;o.value=Math.min(g,a.value.length-1)}else if(c.key==="ArrowUp"){const f=Math.floor(s.value.getBoundingClientRect().width/32);d();const p=Math.floor(o.value/f),h=Math.floor((a.value.length-1)/f)+1,g=(p-1+h)%h*f+o.value%f;o.value=Math.max(g,0)}else c.key==="Enter"?(d(),i("change",a.value[o.value].emoji)):c.key==="Escape"&&(d(),i("close"))};return et(()=>{document.addEventListener("keydown",u,!0)}),rn(()=>{document.removeEventListener("keydown",u,!0)}),(c,d)=>(P(),H("div",uT,[t.search?(P(),H("div",cT,[ve(b(Sf),{size:"small",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),modelModifiers:{trim:!0}},null,8,["modelValue"]),ve(b(Uc),{size:"small",style:{width:"24px","margin-left":"8px"},title:"",onClick:l},{default:ae(()=>[dT]),_:1})])):le("",!0),z("ul",{class:"emoji-list",ref_key:"emojiContainer",ref:s},[(P(!0),H(pt,null,Fi(a.value,(f,p)=>(P(),H("li",{class:ne(["emoji-item",{selected:p===o.value}]),key:f.emoji,title:`${f.names[0]}: ${f.description}`,onClick:h=>c.$emit("change",f.emoji)},qe(f.emoji),11,fT))),128))],512)]))}}),d1=Dt(hT,[["__scopeId","data-v-925c0c2e"]]),pT=n=>(Ar("data-v-3f9c0b8c"),n=n(),Er(),n),mT={class:"callout-icon"},gT={class:"emoji-selector-panel"},yT=pT(()=>z("div",{class:"callout-content","data-prosemirror-content-dom":""},null,-1)),bT=Q({__name:"CalloutView",props:{node:{},view:{},getPos:{type:Function},decorations:{},innerDecorations:{}},emits:["updateAttrs"],setup(n,{emit:e}){const t=n,i=e,r=U(!1),o=D(()=>{var a;return((a=t.view)==null?void 0:a.editable)!==!1}),s=a=>{i("updateAttrs",a),r.value=!1};return(a,l)=>(P(),H("div",{class:ne(["callout-view",{editable:o.value}])},[ve(b(Bs),{trigger:"click",width:"auto",disabled:!o.value,transition:"none","hide-after":0,visible:r.value,"onUpdate:visible":l[1]||(l[1]=u=>r.value=u)},{reference:ae(()=>[z("div",mT,qe(a.node.attrs.icon),1)]),default:ae(()=>[z("div",gT,[r.value?(P(),ge(d1,{key:0,search:"",onChange:l[0]||(l[0]=u=>s({icon:u}))})):le("",!0)])]),_:1},8,["disabled","visible"]),yT],2))}}),f1=Dt(bT,[["__scopeId","data-v-3f9c0b8c"]]),kT=n=>({selectable:!0,content:n.content,group:n.group,attrs:{icon:{default:""}},parseDOM:[{tag:".callout-view",getAttrs(e){var i;if(typeof e=="string")return!1;const t=e.querySelector(".callout-icon");return t?{icon:((i=t.textContent)==null?void 0:i.trim())||""}:!1},contentElement:"[data-prosemirror-content-dom]"}],toDOM(e){return rf(e,f1)}}),vT=(n,e)=>{n.write("<aside>"),n.ensureNewLine(),n.write(e.attrs.icon),n.renderContent(e),n.ensureNewLine(),n.write("</aside>")},h1=n=>(Ar("data-v-89d1b9d5"),n=n(),Er(),n),wT=["data-katex-source"],xT={class:"katex-input-content"},_T=h1(()=>z("h5",{class:"input-title"},"",-1)),ST=["value"],jT=h1(()=>z("a",{href:"https://katex.org/docs/supported",class:"intro",target:"_blank",referrerpolicy:"strict-origin-when-cross-origin",rel:"noopener"},"",-1)),CT=Q({__name:"KatexBlockView",props:{node:{},view:{},getPos:{type:Function},decorations:{},innerDecorations:{}},emits:["updateAttrs"],setup(n,{emit:e}){const t=n,i=e,r=U(),o=D(()=>{var a;return((a=t.view)==null?void 0:a.editable)===void 0||t.view.editable===!0}),s=a=>{i("updateAttrs",{source:a.source||""})};return de(()=>t.node.attrs.source,async a=>{if(!a)return;r.value||await _t();const{default:l}=await C(async()=>{const{default:u}=await import("./katex-CvgdMzdh.js");return{default:u}},[],import.meta.url);l.render(a,r.value,{throwOnError:!1,output:"mathml"})},{immediate:!0}),(a,l)=>(P(),H("div",{class:ne(["katex-block-view",{editable:o.value}]),"data-prosemirror-dom":"","data-katex-source":a.node.attrs.source},[ve(b(aa),{width:"auto",trigger:"click",disabled:!o.value,transition:"none","hide-after":1,"trigger-keys":[]},{content:ae(()=>[z("div",xT,[_T,z("textarea",{name:"katex",cols:"30",rows:"5",class:"katex-source",placeholder:"e=mc^2",value:a.node.attrs.source||"",spellcheck:"false",onInput:l[0]||(l[0]=u=>s({source:u.target.value}))},null,40,ST),jT])]),default:ae(()=>[z("div",{class:ne(["katex-container",{"is-empty":!a.node.attrs.source}]),ref_key:"viewEl",ref:r},qe(o.value?"":""),3)]),_:1},8,["disabled"])],10,wT))}}),p1=Dt(CT,[["__scopeId","data-v-89d1b9d5"]]);class lt{constructor(e,t,i={}){this.match=e,this.match=e,this.handler=typeof t=="string"?AT(t):t,this.undoable=i.undoable!==!1,this.inCode=i.inCode||!1}}function AT(n){return function(e,t,i,r){let o=n;if(t[1]){let s=t[0].lastIndexOf(t[1]);o+=t[0].slice(s+t[1].length),i+=s;let a=i-r;a>0&&(o=t[0].slice(s-a,s)+o,i=r)}return e.tr.insertText(o,i,r)}}const ET=500;function OT({rules:n}){let e=new Nt({state:{init(){return null},apply(t,i){let r=t.getMeta(this);return r||(t.selectionSet||t.docChanged?null:i)}},props:{handleTextInput(t,i,r,o){return Lm(t,i,r,o,n,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:i}=t.state.selection;i&&Lm(t,i.pos,i.pos,"",n,e)})}}},isInputRules:!0});return e}function Lm(n,e,t,i,r,o){if(n.composing)return!1;let s=n.state,a=s.doc.resolve(e),l=a.parent.textBetween(Math.max(0,a.parentOffset-ET),a.parentOffset,null,"")+i;for(let u=0;u<r.length;u++){let c=r[u];if(a.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let d=c.match.exec(l),f=d&&c.handler(s,d,e-(d[0].length-i.length),t);if(f)return c.undoable&&f.setMeta(o,{transform:f,from:e,to:t,text:i}),n.dispatch(f),!0}return!1}const DT=(n,e)=>{let t=n.plugins;for(let i=0;i<t.length;i++){let r=t[i],o;if(r.spec.isInputRules&&(o=r.getState(n))){if(e){let s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){let l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to);e(s)}return!0}}return!1},TT=new lt(/--$/,""),PT=new lt(/\.\.\.$/,""),MT=new lt(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),FT=new lt(/"$/,""),BT=new lt(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),NT=new lt(/'$/,""),IT=[MT,FT,BT,NT];function lu(n,e,t=null,i){return new lt(n,(r,o,s,a)=>{let l=t instanceof Function?t(o):t,u=r.tr.delete(s,a),c=u.doc.resolve(s),d=c.blockRange(),f=d&&Rd(d,e,l);if(!f)return null;u.wrap(d,f);let p=u.doc.resolve(s-1).nodeBefore;return p&&p.type==e&&So(u.doc,s-1)&&(!i||i(o,p))&&u.join(s-1),u})}function m1(n,e,t=null){return new lt(n,(i,r,o,s)=>{let a=i.doc.resolve(o),l=t instanceof Function?t(r):t;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?i.tr.delete(o,s).setBlockType(o,o,e,l):null})}const RT=n=>({attrs:{source:{default:""}},selectable:!0,group:n.group,marks:"",toDOM(e){return rf(e,p1)},parseDOM:[{tag:"div.katex-block-view",getAttrs(e){return typeof e=="string"?!1:{source:e.dataset.katexSource}}}]}),LT=n=>({group:n.group,attrs:{source:{default:""}},selectable:!0,atom:!0,marks:"",inline:!0,toDOM(e){const t=document.createElement("span");return t.classList.add("katex"),t.dataset.katexSource=e.attrs.source,C(async()=>{const{default:i}=await import("./katex-CvgdMzdh.js");return{default:i}},[],import.meta.url).then(({default:i})=>{i.render(e.attrs.source,t,{throwOnError:!1,output:"mathml"})}),{dom:t}},parseDOM:[{tag:"span.katex",getAttrs(e){return typeof e=="string"?!1:{source:e.dataset.katexSource}}}]}),VT=n=>new lt(/^\$\$([\s\S]+)\$\$$/,(e,t,i,r)=>e.tr.replaceRangeWith(i,r,n.create({source:t[1]}))),zT=n=>new lt(new RegExp("(?<!\\$)\\$([^$]+)\\$$"),(e,t,i,r)=>e.tr.replaceWith(i,r,n.create({source:t[1]}))),$T=(n,e)=>{n.text("$$"),n.ensureNewLine(),n.text(e.attrs.source),n.ensureNewLine(),n.text("$$"),n.ensureNewLine()},qT=(n,e)=>{n.text(`$${e.attrs.source||""}$`)},HT=new ob({...Sp.nodes,todo:z3,image:eT,code_block:aT,details:rT,details_summary:oT,callout:vT,katex_block:$T,katex:qT},Sp.marks),WT=["ol",0],KT=["ul",0],UT=["li",0],JT={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(n){return{order:n.hasAttribute("start")?+n.getAttribute("start"):1}}}],toDOM(n){return n.attrs.order==1?WT:["ol",{start:n.attrs.order},0]}},GT={parseDOM:[{tag:"ul"}],toDOM(){return KT}},YT={parseDOM:[{tag:"li"}],toDOM(){return UT},defining:!0};function Vm(n,e=null){return function(t,i){let{$from:r,$to:o}=t.selection,s=r.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&r.node(s.depth-1).type.compatibleContent(n)&&s.startIndex==0){if(r.index(s.depth-1)==0)return!1;let c=t.doc.resolve(s.start-2);l=new hl(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new hl(r,t.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=Rd(l,n,e,s);return u?(i&&i(ZT(t.tr,s,u,a,n).scrollIntoView()),!0):!1}}function ZT(n,e,t,i,r){let o=R.empty;for(let c=t.length-1;c>=0;c--)o=R.from(t[c].type.create(t[c].attrs,o));n.step(new st(e.start-(i?2:0),e.end,e.start,e.end,new K(o,0,0),t.length,!0));let s=0;for(let c=0;c<t.length;c++)t[c].type==r&&(s=c+1);let a=t.length-s,l=e.start+t.length-(i?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&Wr(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return n}function XT(n,e){return function(t,i){let{$from:r,$to:o,node:s}=t.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;let a=r.node(-1);if(a.type!=n)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(i){let d=R.empty,f=r.index(-1)?1:r.index(-2)?2:3;for(let y=r.depth-f;y>=r.depth-3;y--)d=R.from(r.node(y).copy(d));let p=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;d=d.append(R.from(n.createAndFill()));let h=r.before(r.depth-(f-1)),m=t.tr.replace(h,r.after(-p),new K(d,4-f,0)),g=-1;m.doc.nodesBetween(h,m.doc.content.size,(y,k)=>{if(g>-1)return!1;y.isTextblock&&y.content.size==0&&(g=k+1)}),g>-1&&m.setSelection(pe.near(m.doc.resolve(g))),i(m.scrollIntoView())}return!0}let l=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,u=t.tr.delete(r.pos,o.pos),c=l?[null,{type:l}]:void 0;return Wr(u.doc,r.pos,2,c)?(i&&i(u.split(r.pos,2,c).scrollIntoView()),!0):!1}}function zm(n){return function(e,t){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,s=>s.childCount>0&&s.firstChild.type==n);return o?t?i.node(o.depth-1).type==n?QT(e,t,n,o):eP(e,t,o):!0:!1}}function QT(n,e,t,i){let r=n.tr,o=i.end,s=i.$to.end(i.depth);o<s&&(r.step(new st(o-1,s,o,s,new K(R.from(t.create(null,i.parent.copy())),1,0),1,!0)),i=new hl(r.doc.resolve(i.$from.pos),r.doc.resolve(s),i.depth));const a=Ys(i);if(a==null)return!1;r.lift(i,a);let l=r.mapping.map(o,-1)-1;return So(r.doc,l)&&r.join(l),e(r.scrollIntoView()),!0}function eP(n,e,t){let i=n.tr,r=t.parent;for(let p=t.end,h=t.endIndex-1,m=t.startIndex;h>m;h--)p-=r.child(h).nodeSize,i.delete(p-1,p+1);let o=i.doc.resolve(t.start),s=o.nodeAfter;if(i.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==r.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?R.empty:R.from(r))))return!1;let d=o.pos,f=d+s.nodeSize;return i.step(new st(d-(a?1:0),f+(l?1:0),d+1,f-1,new K((a?R.empty:R.from(r.copy(R.empty))).append(l?R.empty:R.from(r.copy(R.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function $m(n){return function(e,t){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,u=>u.childCount>0&&u.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(t){let u=l.lastChild&&l.lastChild.type==a.type,c=R.from(u?n.create():null),d=new K(R.from(n.create(null,R.from(a.type.create(null,c)))),u?3:1,0),f=o.start,p=o.end;t(e.tr.step(new st(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const tP=n=>({selectable:!0,group:n.group,toDOM(){return["div",{class:"toc-view"}]},parseDOM:[{tag:"div.toc-view"}]}),nP=n=>({attrs:{content:{default:null},align:{default:"center"},size:{default:100}},atom:!0,selectable:!0,toDOM(e){return["div",{class:"excalidraw-view"}]},parseDOM:[{tag:"div.excalidraw-view",getAttrs(e){return typeof e=="string"?!1:{content:null}}}],...n}),iP={doc:{content:"block+"},paragraph:{attrs:{align:{default:"left"}},content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},text:{inline:!0,group:"inline",marks:"_"},heading:{attrs:{level:{default:2},align:{default:"left"}},content:"inline*",marks:"",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(n){return["h"+n.attrs.level,0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},code_block:sT({content:"inline*",group:"block"}),plain_text:{content:"inline*",group:"plain",marks:"",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},bullet_list:{...GT,draggable:!1,group:"block",content:"group_list_item+"},ordered_list:{...JT,draggable:!1,group:"block",content:"group_list_item+"},list_item:{...YT,group:"group_list_item",content:"(block|todo_block)+",draggable:!1},todo:I3({group:"todo_block",content:"block+"}),image:XD({content:"plain_text",group:"block"}),...tT({summaryContent:"inline*",detailsContent:"block*",detailsGroup:"block"}),callout:kT({content:"block+",group:"block"}),katex_block:RT({group:"block"}),katex:LT({group:"inline"}),toc:tP({group:"block"}),excalidraw:nP({group:"block"})},rP={link:{attrs:{href:{}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(n){return{href:n.getAttribute("href")}}}],toDOM(n){const{href:e,title:t}=n.attrs;return["a",{href:e,title:t},0]}},em:{inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:n=>n.type.name=="em"}],toDOM(){return["em",0]}},strong:{inclusive:!1,parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name=="strong"},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM(){return["strong",0]}},code:{inclusive:!1,parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},del:{inclusive:!1,excludes:"underline",parseDOM:[{tag:"del"},{style:"text-decoration: line-through"}],toDOM(){return["del",0]}},underline:{inclusive:!1,excludes:"del",parseDOM:[{tag:"u"},{style:"text-decoration: underline"}],toDOM(n,e){return e?["span",{style:"text-decoration: underline"},0]:["div",{style:"text-decoration: underline"},0]}},super:{inclusive:!1,excludes:"sub",parseDOM:[{tag:"sup"},{style:"vertical-align: super"}],toDOM(){return["sup",0]}},sub:{inclusive:!1,excludes:"super",parseDOM:[{tag:"sub"},{style:"vertical-align: sub"}],toDOM(){return["sub",0]}},color:{attrs:{color:{}},parseDOM:[{style:"color",getAttrs(n){var t;return((t=n==null?void 0:n.style)==null?void 0:t.color)??!1}}],toDOM(n){return["span",{style:`color: ${n.attrs.color}`},0]}},backgroundColor:{attrs:{backgroundColor:{}},parseDOM:[{style:"background-color",getAttrs(n){var t;const e=(t=n==null?void 0:n.style)==null?void 0:t.backgroundColor;return e?{color:e}:!1}}],toDOM(n){return["span",{style:`background-color: ${n.attrs.backgroundColor}`},0]}}},Zu=new B0({nodes:iP,marks:rP});function g1(n,e){return typeof n=="string"?e.marks[n]:n}function oP(n){return n instanceof re}function Xa(n,e,t=null){const{schema:i,selection:r,tr:o}=n.state,{$from:s,$to:a,empty:l}=r,u=g1(e,i),c=u.create(t);return l?u.isInSet(o.storedMarks||[])||o.addStoredMark(c):o.addMark(s.pos,a.pos,c),n.dispatch(o),!0}function sP(n,e){const{schema:t,selection:i,tr:r}=n.state;if(!oP(i))return!1;const{$from:o,$to:s,empty:a}=i,l=g1(e,t);let u=!0;return a?l.isInSet(r.storedMarks||o.marks())||(u=!1):r.doc.nodesBetween(o.pos,s.pos,c=>{if(!u)return!1;c.isInline&&(l.isInSet(c.marks)||(u=!1))}),u}function aP(n,e){const{schema:t,selection:i,tr:r}=n.state,{$from:o,$to:s}=i,a=typeof e=="string"?t.marks[e]:e;return r.removeMark(o.pos,s.pos,a),n.dispatch(r),!0}function Zi(n,e){return sP(n,e)?aP(n,e):Xa(n,e)}const lP=(n,e,t,i)=>(t.nodesBetween(n,e,r=>{r.isTextblock&&(i=i.filter(o=>r.type.allowsMarkType(o)))}),i),uP=(n,e,t,i)=>{const r={};return t.nodesBetween(n,e,o=>{i=i.filter(s=>{if(o.isInline&&o.type.allowsMarkType(s)){const a=o.marks.find(l=>l.type===s);return a?r[s.name]?r[s.name].eq(a):(r[s.name]=a,!0):!1}return!0})}),r},cP={class:"color-panel"},dP={class:"color-list"},fP=["onPointerdown"],hP=Q({__name:"ColorPanel",props:{colors:{},type:{default:"backgroundColor"},selected:{}},emits:["select"],setup(n,{emit:e}){const t=e;return(i,r)=>(P(),H("div",cP,[z("ul",dP,[(P(!0),H(pt,null,Fi(i.colors,o=>(P(),H("li",{class:ne(["color-item",{selected:i.selected===o}]),style:Ye({[i.type]:o}),key:o,onPointerdown:ur(s=>t("select",o),["prevent"])},qe(i.type==="color"?"A":""),47,fP))),128))])]))}}),pP=Dt(hP,[["__scopeId","data-v-676e26a1"]]),mP=Q({props:{editorView:{type:Object,required:!0},toolbar:{type:Array,required:!0},visible:{type:Boolean,required:!0},marksValues:{type:Object,required:!0},position:{type:Object,required:!0}},components:{ColorPanel:pP,ElPopover:Bs,LinkInput:o1},data(){return{colors:["#1f1f1f","#858585","#2972f4","#00a3f5","#45b076","#f5c400","#f88825","#de3c36","#dd4097","#9a38d7"],backgroundColors:["transparent","#f3f5f7","#e5efff","#e5f6ff","#eafaf1","#fff9e3","#fff3eb","#ffe9e8","#ffecf4","#fdebff","#ebebeb","#dcdfe4","#c7dcff","#c7ecff","#ace2c5","#ffeead","#ffdcc4","#ffc9c7","#ffc7e2","#f2c7ff"]}},methods:{handler(n){["color","backgroundColor"].includes(n.name)||n.handler(this.editorView,this.marksValues)},handleColorSelect(n,e){n.handler(this.editorView,this.marksValues,e)},linkChangeHandler(n,e){var t,i;console.log(this.$refs.linkPopover),(i=(t=this.$refs.linkPopover)==null?void 0:t[0])==null||i.hide(),n.handler(this.editorView,this.marksValues,e)}}}),gP={class:"toolbar-list"},yP=["title"],bP=["title"],kP=["title","onPointerdown"];function vP(n,e,t,i,r,o){const s=yu("ColorPanel"),a=yu("el-popover"),l=yu("LinkInput");return P(),H(pt,null,[z("div",{class:"editor-toolbar",ref:"posRef",style:Ye({left:n.position.left+"px",top:n.position.top+"px"})},null,4),n.visible?(P(),ge(a,{key:0,"popper-style":{padding:0,minWidth:"100px"},placement:"top",ref:"popoverRef","virtual-ref":n.$refs.posRef,visible:n.visible,trigger:"click",width:"auto","virtual-triggering":""},{default:ae(()=>[z("ul",gP,[(P(!0),H(pt,null,Fi(n.toolbar,u=>(P(),H("li",{class:ne(["toolbar-item material-symbols-outlined",{active:!!n.marksValues[u.name]}]),key:u.name},[u.name==="color"||u.name==="backgroundColor"?(P(),ge(a,{key:0,trigger:"click",width:"fit-content"},{reference:ae(()=>[z("div",{class:"toolbar-item-label",title:u.title},qe(u.label),9,yP)]),default:ae(()=>{var c,d;return[ve(s,{colors:u.name==="backgroundColor"?n.backgroundColors:n.colors,type:u.name,selected:(d=(c=n.marksValues[u.name])==null?void 0:c.attrs)==null?void 0:d[u.name],onSelect:f=>n.handleColorSelect(u,f)},null,8,["colors","type","selected","onSelect"])]}),_:2},1024)):u.name==="link"?(P(),ge(a,{key:1,trigger:"click",width:"fit-content",ref_for:!0,ref:"linkPopover"},{reference:ae(()=>[z("div",{class:"toolbar-item-label",title:u.title},qe(u.label),9,bP)]),default:ae(()=>{var c,d;return[ve(l,{href:(d=(c=n.marksValues[u.name])==null?void 0:c.attrs)==null?void 0:d.href,onChange:f=>n.linkChangeHandler(u,f),onClear:f=>n.linkChangeHandler(u,null)},null,8,["href","onChange","onClear"])]}),_:2},1536)):(P(),H("div",{key:2,class:"toolbar-item-label",title:u.title,onPointerdown:ur(c=>n.handler(u),["prevent"])},qe(u.label),41,kP))],2))),128))])]),_:1},8,["virtual-ref","visible"])):le("",!0)],64)}const wP=Dt(mP,[["render",vP],["__scopeId","data-v-fd0e7c20"]]),Xu=[{name:"strong",title:"",label:"format_bold",handler(n){Zi(n,n.state.schema.marks.strong)}},{name:"em",title:"",label:"format_italic",handler(n){Zi(n,n.state.schema.marks.em)}},{name:"underline",title:"",label:"format_underlined",handler(n){Zi(n,n.state.schema.marks.underline)}},{name:"del",title:"",label:"format_strikethrough",handler(n){Zi(n,n.state.schema.marks.del)}},{name:"super",title:"",label:"superscript",handler(n){Zi(n,n.state.schema.marks.super)}},{name:"sub",title:"",label:"subscript",handler(n){Zi(n,n.state.schema.marks.sub)}},{name:"code",title:"",label:"code",handler(n){Zi(n,n.state.schema.marks.code)}},{name:"link",title:"",label:"link",handler(n,e,t){if(!t||typeof t=="object"&&!t.href){const i=n.state.selection.$from.start(),r=n.state.selection.$from.end();n.dispatch(n.state.tr.removeMark(i,r,n.state.schema.marks.link));return}typeof t!="string"&&Xa(n,n.state.schema.marks.link,k0(t))}},{name:"color",title:"",label:"format_color_text",handler(n,e,t){Xa(n,n.state.schema.marks.color,{color:t})}},{name:"backgroundColor",title:"",label:"format_color_fill",handler(n,e,t){Xa(n,n.state.schema.marks.backgroundColor,{backgroundColor:t})}}],xP=[{name:"viewLink",label:"open_in_new",title:"",handler(n,e){window.open(e.link.attrs.href)}},{name:"link",label:"link",title:"",handler(n,e,t){if(!t||typeof t=="string")return;let i=null,r=n.state.selection.from;const o=n.state.selection.$from.start();n.state.selection.$from.node().content.forEach((s,a)=>{o+a<=n.state.selection.from&&n.state.selection.from<o+a+s.nodeSize&&(i=s,r=o+a)}),i&&n.dispatch(n.state.tr.addMark(r,r+i.nodeSize,n.state.schema.mark("link",k0(t))))}},{name:"cancelLink",label:"link_off",title:"",handler(n){const e=n.state.selection.$from.start(),t=n.state.selection.$from.end();n.dispatch(n.state.tr.removeMark(e,t,n.state.schema.marks.link))}}];class _P{constructor(e,t){Le(this,"vm");Le(this,"vmProps",Cr({editorView:null,toolbar:ft(Xu),marksValues:{},visible:!1,position:{left:0,top:0}}));var r;this.pluginKey=t,this.vmProps.editorView=ft(e),this.vm=Gs({render:()=>xo(wP,this.vmProps)});const i=document.createElement("div");(r=e.dom.parentNode)==null||r.appendChild(i),this.vm.mount(i)}update(e){if(!this.pluginKey.getState(e.state).pointerup){this.vmProps.visible=!1;return}const{selection:t,doc:i,schema:r}=e.state,{from:o,to:s,empty:a,head:l}=t;if(!(t instanceof re)){this.vmProps.visible=!1;return}if(a){const m=t.$from.marks().reduce((g,y)=>({...g,[y.type.name]:y}),{});if(m.link){this.vmProps.visible=!0,this.vmProps.toolbar=ft(xP),this.vmProps.marksValues=ft(m);const g=e.coordsAtPos(o),y=e.dom.parentElement.offsetParent.getBoundingClientRect();this.vmProps.position={left:g.left-y.left,top:g.top-y.top};return}this.vmProps.visible=!1;return}const u=Xu.map(m=>r.marks[m.name]).filter(Boolean),c=lP(o,s,i,u),d=Xu.filter(m=>c.some(g=>g.name===m.name));if(!d.length){this.vmProps.visible=!1;return}this.vmProps.toolbar=d;const f=uP(o,s,i,c);this.vmProps.marksValues=ft(f);const p=e.coordsAtPos(l),h=e.dom.parentElement.offsetParent.getBoundingClientRect();this.vmProps.position={left:p.left-h.left,top:p.top-h.top},this.vmProps.visible=!0,console.log(this.vmProps.position)}destroy(){this.vm.unmount()}}const SP=()=>{const n=new $l("toolbar");return new Nt({key:n,state:{init(){return{pointerup:!1}},apply(e,t){const i=e.getMeta(n);return i?{pointerup:i.pointerup}:t}},props:{handleDOMEvents:{pointerup(e){n.get(e.state)&&e.dispatch(e.state.tr.setMeta(n,{pointerup:!0}))},pointerdown(e){e.dispatch(e.state.tr.setMeta(n,{pointerup:!1}))}}},view(e){return new _P(e,n)}})};var El=200,Xe=function(){};Xe.prototype.append=function(e){return e.length?(e=Xe.from(e),!this.length&&e||e.length<El&&this.leafAppend(e)||this.length<El&&e.leafPrepend(this)||this.appendInner(e)):this};Xe.prototype.prepend=function(e){return e.length?Xe.from(e).append(this):this};Xe.prototype.appendInner=function(e){return new jP(this,e)};Xe.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Xe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Xe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Xe.prototype.forEach=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length),t<=i?this.forEachInner(e,t,i,0):this.forEachInvertedInner(e,t,i,0)};Xe.prototype.map=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,s){return r.push(e(o,s))},t,i),r};Xe.from=function(e){return e instanceof Xe?e:e&&e.length?new y1(e):Xe.empty};var y1=function(n){function e(i){n.call(this),this.values=i}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new e(this.values.slice(r,o))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,o,s,a){for(var l=o;l<s;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,a){for(var l=o-1;l>=s;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=El)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=El)return new e(r.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Xe);Xe.empty=new y1([]);var jP=function(n){function e(t,i){n.call(this),this.left=t,this.right=i,this.length=t.length+i.length,this.depth=Math.max(t.depth,i.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,o,s){var a=this.left.length;if(r<a&&this.left.forEachInner(i,r,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(i,Math.max(r-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,o,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(i,r-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(i,Math.min(r,a),o,s)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Xe);const CP=500;class un{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;t&&(r=this.remapping(i,this.items.length),o=r.maps.length);let s=e.tr,a,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){r||(r=this.remapping(i,f+1),o=r.maps.length),o--,c.push(d);return}if(r){c.push(new wn(d.map));let p=d.step.map(r.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new wn(h,void 0,void 0,u.length+c.length))),o--,h&&r.appendMap(h,o)}else s.maybeStep(d.step);if(d.selection)return a=r?d.selection.map(r.slice(o)):d.selection,l=new un(this.items.slice(0,i).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,t,i,r){let o=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new wn(e.mapping.maps[c],d,t),p;(p=l&&l.merge(f))&&(f=p,c?o.pop():a=a.slice(0,a.length-1)),o.push(f),t&&(s++,t=void 0),r||(l=f)}let u=s-i.depth;return u>EP&&(a=AP(a,u),s-=u),new un(a.append(o),s)}remapping(e,t){let i=new Hr;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,s)},e,t),i}addMaps(e){return this.eventCount==0?this:new un(this.items.append(e.map(t=>new wn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=t;this.items.forEach(f=>{let p=o.getMirror(--l);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(f.step){let m=e.steps[p].invert(e.docs[p]),g=f.selection&&f.selection.map(o.slice(l+1,p));g&&a++,i.push(new wn(h,m,g))}else i.push(new wn(h))},r);let u=[];for(let f=t;f<s;f++)u.push(new wn(o.maps[f]));let c=this.items.slice(0,r).append(u).append(i),d=new un(c,a);return d.emptyItemCount()>CP&&(d=d.compress(this.items.length-i.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),i=t.maps.length,r=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)r.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(t.slice(i)),u=l&&l.getMap();if(i--,u&&t.appendMap(u,i),l){let c=s.selection&&s.selection.map(t.slice(i));c&&o++;let d=new wn(u.invert(),l,c),f,p=r.length-1;(f=r.length&&r[p].merge(d))?r[p]=f:r.push(d)}}else s.map&&i--},this.items.length,0),new un(Xe.from(r.reverse()),o)}}un.empty=new un(Xe.empty,0);function AP(n,e){let t;return n.forEach((i,r)=>{if(i.selection&&e--==0)return t=r,!1}),n.slice(t)}class wn{constructor(e,t,i,r){this.map=e,this.step=t,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new wn(t.getMap().invert(),t,this.selection)}}}class ki{constructor(e,t,i,r,o){this.done=e,this.undone=t,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}}const EP=20;function OP(n,e,t,i){let r=t.getMeta(gr),o;if(r)return r.historyState;t.getMeta(PP)&&(n=new ki(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(s&&s.getMeta(gr))return s.getMeta(gr).redo?new ki(n.done.addTransform(t,void 0,i,Qa(e)),n.undone,qm(t.mapping.maps),n.prevTime,n.prevComposition):new ki(n.done,n.undone.addTransform(t,void 0,i,Qa(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!s&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-i.newGroupDelay||!DP(t,n.prevRanges)),u=s?Qu(n.prevRanges,t.mapping):qm(t.mapping.maps);return new ki(n.done.addTransform(t,l?e.selection.getBookmark():void 0,i,Qa(e)),un.empty,u,t.time,a??n.prevComposition)}else return(o=t.getMeta("rebased"))?new ki(n.done.rebased(t,o),n.undone.rebased(t,o),Qu(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ki(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Qu(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function DP(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<e.length;o+=2)i<=e[o+1]&&r>=e[o]&&(t=!0)}),t}function qm(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((i,r,o,s)=>e.push(o,s));return e}function Qu(n,e){if(!n)return null;let t=[];for(let i=0;i<n.length;i+=2){let r=e.map(n[i],1),o=e.map(n[i+1],-1);r<=o&&t.push(r,o)}return t}function TP(n,e,t){let i=Qa(e),r=gr.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,i);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),r,i),l=new ki(t?a:o.remaining,t?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(gr,{redo:t,historyState:l})}let ec=!1,Hm=null;function Qa(n){let e=n.plugins;if(Hm!=e){ec=!1,Hm=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){ec=!0;break}}return ec}const gr=new $l("history"),PP=new $l("closeHistory");function MP(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Nt({key:gr,state:{init(){return new ki(un.empty,un.empty,null,0,-1)},apply(e,t,i){return OP(t,i,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let i=t.inputType,r=i=="historyUndo"?Of:i=="historyRedo"?Ns:null;return r?(t.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function b1(n,e){return(t,i)=>{let r=gr.getState(t);if(!r||(n?r.undone:r.done).eventCount==0)return!1;if(i){let o=TP(r,t,n);o&&i(e?o.scrollIntoView():o)}return!0}}const Of=b1(!1,!0),Ns=b1(!0,!0);var ai={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Is={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FP=typeof navigator<"u"&&/Mac/.test(navigator.platform),BP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ot=0;ot<10;ot++)ai[48+ot]=ai[96+ot]=String(ot);for(var ot=1;ot<=24;ot++)ai[ot+111]="F"+ot;for(var ot=65;ot<=90;ot++)ai[ot]=String.fromCharCode(ot+32),Is[ot]=String.fromCharCode(ot);for(var tc in ai)Is.hasOwnProperty(tc)||(Is[tc]=ai[tc]);function k1(n){var e=FP&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||BP&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Is:ai)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const NP=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function IP(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let i,r,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))NP?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(t="Alt-"+t),r&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function RP(n){let e=Object.create(null);for(let t in n)e[IP(t)]=n[t];return e}function nc(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function ic(n){return new Nt({props:{handleKeyDown:v1(n)}})}function v1(n){let e=RP(n);return function(t,i){let r=k1(i),o,s=e[nc(r,i)];if(s&&s(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=e[nc(r,i,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((i.shiftKey||i.altKey||i.metaKey||r.charCodeAt(0)>127)&&(o=ai[i.keyCode])&&o!=r){let a=e[nc(o,i)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const Df=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function LP(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const w1=(n,e,t)=>{let i=LP(n,t);if(!i)return!1;let r=_1(i);if(!r){let s=i.blockRange(),a=s&&Ys(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=r.nodeBefore;if(D1(n,r,e,-1))return!0;if(i.parent.content.size==0&&(fo(o,"end")||ie.isSelectable(o)))for(let s=i.depth;;s--){let a=Ld(n.doc,i.before(s),i.after(s),K.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(fo(o,"end")?pe.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):ie.create(l.doc,r.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||i.node(s-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(e&&e(n.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function fo(n,e,t=!1){for(let i=n;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(t&&i.childCount!=1)return!1}return!1}const x1=(n,e,t)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):i.parentOffset>0)return!1;o=_1(i)}let s=o&&o.nodeBefore;return!s||!ie.isSelectable(s)?!1:(e&&e(n.tr.setSelection(ie.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function _1(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function VP(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const zP=(n,e,t)=>{let i=VP(n,t);if(!i)return!1;let r=S1(i);if(!r)return!1;let o=r.nodeAfter;if(D1(n,r,e,1))return!0;if(i.parent.content.size==0&&(fo(o,"start")||ie.isSelectable(o))){let s=Ld(n.doc,i.before(),i.after(),K.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(fo(o,"start")?pe.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):ie.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(e&&e(n.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},$P=(n,e,t)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;o=S1(i)}let s=o&&o.nodeAfter;return!s||!ie.isSelectable(s)?!1:(e&&e(n.tr.setSelection(ie.create(n.doc,o.pos)).scrollIntoView()),!0)};function S1(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const qP=(n,e)=>{let t=n.selection,i=t instanceof ie,r;if(i){if(t.node.isTextblock||!So(n.doc,t.from))return!1;r=t.from}else if(r=W0(n.doc,t.from,-1),r==null)return!1;if(e){let o=n.tr.join(r);i&&o.setSelection(ie.create(o.doc,r-n.doc.resolve(r).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},HP=(n,e)=>{let t=n.selection,i;if(t instanceof ie){if(t.node.isTextblock||!So(n.doc,t.to))return!1;i=t.to}else if(i=W0(n.doc,t.to,1),i==null)return!1;return e&&e(n.tr.join(i).scrollIntoView()),!0},WP=(n,e)=>{let{$from:t,$to:i}=n.selection,r=t.blockRange(i),o=r&&Ys(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)},j1=(n,e)=>{let{$head:t,$anchor:i}=n.selection;return!t.parent.type.spec.code||!t.sameParent(i)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Tf(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const C1=(n,e)=>{let{$head:t,$anchor:i}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(i))return!1;let r=t.node(-1),o=t.indexAfter(-1),s=Tf(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(pe.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},A1=(n,e)=>{let t=n.selection,{$from:i,$to:r}=t;if(t instanceof $t||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=Tf(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(re.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},E1=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Wr(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let i=t.blockRange(),r=i&&Ys(i);return r==null?!1:(e&&e(n.tr.lift(i,r).scrollIntoView()),!0)};function KP(n){return(e,t)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof ie&&e.selection.node.isBlock)return!i.parentOffset||!Wr(e.doc,i.pos)?!1:(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(t){let o=r.parentOffset==r.parent.content.size,s=e.tr;(e.selection instanceof re||e.selection instanceof $t)&&s.deleteSelection();let a=i.depth==0?null:Tf(i.node(-1).contentMatchAt(i.indexAfter(-1))),l=o&&a?[{type:a}]:void 0,u=Wr(s.doc,s.mapping.map(i.pos),1,l);if(!l&&!u&&Wr(s.doc,s.mapping.map(i.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),u=!0),u&&(s.split(s.mapping.map(i.pos),1,l),!o&&!i.parentOffset&&i.parent.type!=a)){let c=s.mapping.map(i.before()),d=s.doc.resolve(c);a&&i.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&s.setNodeMarkup(s.mapping.map(i.before()),a)}t(s.scrollIntoView())}return!0}}const O1=KP(),UP=(n,e)=>{let{$from:t,to:i}=n.selection,r,o=t.sharedDepth(i);return o==0?!1:(r=t.before(o),e&&e(n.tr.setSelection(ie.create(n.doc,r))),!0)},JP=(n,e)=>(e&&e(n.tr.setSelection(new $t(n.doc))),!0);function GP(n,e,t){let i=e.nodeBefore,r=e.nodeAfter,o=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(r.isTextblock||So(n.doc,e.pos))?!1:(t&&t(n.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0)}function D1(n,e,t,i){let r=e.nodeBefore,o=e.nodeAfter,s,a,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&GP(n,e,t))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(t){let p=e.pos+o.nodeSize,h=R.empty;for(let y=s.length-1;y>=0;y--)h=R.from(s[y].create(null,h));h=R.from(r.copy(h));let m=n.tr.step(new st(e.pos-1,p,e.pos,p,new K(h,1,0),s.length,!0)),g=p+2*s.length;So(m.doc,g)&&m.join(g),t(m.scrollIntoView())}return!0}let c=o.type.spec.isolating||i>0&&l?null:pe.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),f=d&&Ys(d);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(d,f).scrollIntoView()),!0;if(u&&fo(o,"start",!0)&&fo(r,"end")){let p=r,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let m=o,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(t){let y=R.empty;for(let x=h.length-1;x>=0;x--)y=R.from(h[x].copy(y));let k=n.tr.step(new st(e.pos-h.length,e.pos+o.nodeSize,e.pos+g,e.pos+o.nodeSize-g,new K(y,h.length,0),0,!0));t(k.scrollIntoView())}return!0}}return!1}function T1(n){return function(e,t){let i=e.selection,r=n<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(t&&t(e.tr.setSelection(re.create(e.doc,n<0?r.start(o):r.end(o)))),!0):!1}}const YP=T1(-1),ZP=T1(1);function XP(n,e=null){return function(t,i){let{$from:r,$to:o}=t.selection,s=r.blockRange(o),a=s&&Rd(s,n,e);return a?(i&&i(t.tr.wrap(s,a).scrollIntoView()),!0):!1}}function rc(n,e=null){return function(t,i){let r=!1;for(let o=0;o<t.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,u)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)r=!0;else{let c=t.doc.resolve(u),d=c.index();r=c.parent.canReplaceWith(d,d+1,n)}})}if(!r)return!1;if(i){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}i(o.scrollIntoView())}return!0}}function QP(n,e,t,i){for(let r=0;r<e.length;r++){let{$from:o,$to:s}=e[r],a=o.depth==0?n.inlineContent&&n.type.allowsMarkType(t):!1;if(n.nodesBetween(o.pos,s.pos,(l,u)=>{if(a||!i)return!1;a=l.inlineContent&&l.type.allowsMarkType(t)}),a)return!0}return!1}function Ro(n,e=null,t){let i=t!==!1;return function(r,o){let{empty:s,$cursor:a,ranges:l}=r.selection;if(s&&!a||!QP(r.doc,l,n,i))return!1;if(o)if(a)n.isInSet(r.storedMarks||a.marks())?o(r.tr.removeStoredMark(n)):o(r.tr.addStoredMark(n.create(e)));else{let u,c=r.tr;u=!l.some(d=>r.doc.rangeHasMark(d.$from.pos,d.$to.pos,n));for(let d=0;d<l.length;d++){let{$from:f,$to:p}=l[d];if(!u)c.removeMark(f.pos,p.pos,n);else{let h=f.pos,m=p.pos,g=f.nodeAfter,y=p.nodeBefore,k=g&&g.isText?/^\s*/.exec(g.text)[0].length:0,x=y&&y.isText?/\s*$/.exec(y.text)[0].length:0;h+k<m&&(h+=k,m-=x),c.addMark(h,m,n.create(e))}}o(c.scrollIntoView())}return!0}}function Gr(...n){return function(e,t,i){for(let r=0;r<n.length;r++)if(n[r](e,t,i))return!0;return!1}}let oc=Gr(Df,w1,x1),Wm=Gr(Df,zP,$P);const Jn={Enter:Gr(j1,A1,E1,O1),"Mod-Enter":C1,Backspace:oc,"Mod-Backspace":oc,"Shift-Backspace":oc,Delete:Wm,"Mod-Delete":Wm,"Mod-a":JP},P1={"Ctrl-h":Jn.Backspace,"Alt-Backspace":Jn["Mod-Backspace"],"Ctrl-d":Jn.Delete,"Ctrl-Alt-Backspace":Jn["Mod-Delete"],"Alt-Delete":Jn["Mod-Delete"],"Alt-d":Jn["Mod-Delete"],"Ctrl-a":YP,"Ctrl-e":ZP};for(let n in Jn)P1[n]=Jn[n];const eM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,tM=eM?P1:Jn;function nM(n={}){return new Nt({view(e){return new iM(e,n)}})}class iM{constructor(e,t){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=t.width)!==null&&i!==void 0?i:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let o=s=>{this[r](s)};return e.dom.addEventListener(r,o),{name:r,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,i;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=a?c.bottom:c.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!i){let a=this.editorView.coordsAtPos(this.cursorPos);i={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=r.getBoundingClientRect();o=a.left-r.scrollLeft,s=a.top-r.scrollTop}this.element.style.left=i.left-o+"px",this.element.style.top=i.top-s+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=i&&i.type.spec.disableDropCursor,o=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!o){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=K0(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class Fe extends pe{constructor(e){super(e,e)}map(e,t){let i=e.resolve(t.map(this.head));return Fe.valid(i)?new Fe(i):pe.near(i)}content(){return K.empty}eq(e){return e instanceof Fe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Fe(e.resolve(t.pos))}getBookmark(){return new Pf(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!rM(e)||!oM(e))return!1;let i=t.type.spec.allowGapCursor;if(i!=null)return i;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,i=!1){e:for(;;){if(!i&&Fe.valid(e))return e;let r=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(t>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(t>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;r+=t;let l=e.doc.resolve(r);if(Fe.valid(l))return l}for(;;){let s=t>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ie.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),i=!1;continue e}break}o=s,r+=t;let a=e.doc.resolve(r);if(Fe.valid(a))return a}return null}}}Fe.prototype.visible=!1;Fe.findFrom=Fe.findGapCursorFrom;pe.jsonID("gapcursor",Fe);class Pf{constructor(e){this.pos=e}map(e){return new Pf(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Fe.valid(t)?new Fe(t):pe.near(t)}}function rM(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),i=n.node(e);if(t==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(t-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function oM(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),i=n.node(e);if(t==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(t);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function sM(){return new Nt({props:{decorations:cM,createSelectionBetween(n,e,t){return e.pos==t.pos&&Fe.valid(t)?new Fe(t):null},handleClick:lM,handleKeyDown:aM,handleDOMEvents:{beforeinput:uM}}})}const aM=v1({ArrowLeft:Pa("horiz",-1),ArrowRight:Pa("horiz",1),ArrowUp:Pa("vert",-1),ArrowDown:Pa("vert",1)});function Pa(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,o){let s=i.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof re){if(!o.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let u=Fe.findGapCursorFrom(a,e,l);return u?(r&&r(i.tr.setSelection(new Fe(u))),!0):!1}}function lM(n,e,t){if(!n||!n.editable)return!1;let i=n.state.doc.resolve(e);if(!Fe.valid(i))return!1;let r=n.posAtCoords({left:t.clientX,top:t.clientY});return r&&r.inside>-1&&ie.isSelectable(n.state.doc.nodeAt(r.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Fe(i))),!0)}function uM(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Fe))return!1;let{$from:t}=n.state.selection,i=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!i)return!1;let r=R.empty;for(let s=i.length-1;s>=0;s--)r=R.from(i[s].createAndFill(null,r));let o=n.state.tr.replace(t.pos,t.pos,new K(r,0,0));return o.setSelection(re.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function cM(n){if(!(n.selection instanceof Fe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Me.create(n.doc,[Wi.widget(n.selection.head,e,{key:"gapcursor"})])}const dM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function fM(n,e){const t={};let i;function r(o,s){t[o]=s}if(dM||r("Mod-y",Ns),r("Alt-ArrowUp",qP),r("Alt-ArrowDown",HP),r("Mod-BracketLeft",WP),r("Escape",UP),(i=n.marks.strong)&&(r("Mod-b",Ro(i)),r("Mod-B",Ro(i))),(i=n.marks.em)&&(r("Mod-i",Ro(i)),r("Mod-I",Ro(i))),(i=n.marks.icode)&&r("Mod-`",Ro(i)),(i=n.nodes.bullet_list)&&r("Shift-Ctrl-8",Vm(i)),(i=n.nodes.ordered_list)&&r("Shift-Ctrl-9",Vm(i)),(i=n.nodes.blockquote)&&r("Ctrl->",XP(i)),(i=n.nodes.list_item)&&(r("Enter",XT(i)),r("Tab",$m(i)),r("Shift-Tab",zm(i)),r("Mod-[",zm(i)),r("Mod-]",$m(i))),(i=n.nodes.paragraph)&&r("Shift-Ctrl-0",rc(i)),(i=n.nodes.code)&&r("Shift-Ctrl-\\",rc(i)),i=n.nodes.heading)for(let o=1;o<=6;o++)r("Shift-Ctrl-"+o,rc(i,{level:o}));if(i=n.nodes.divider){const o=i;r("Mod-_",(s,a)=>(a&&a(s.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0))}return t}const hM=Q({props:{blocks:{type:Array,required:!0},keyword:{type:String,required:!0},visible:{type:Boolean,require:!0},editorView:{type:Object,required:!0},position:{type:Object,required:!0}},data(){return{selectedIndex:0}},computed:{visibleCommands(){return this.keyword?this.blocks.filter(n=>[n.keyword,n.label].some(e=>e.includes(this.keyword))):this.blocks}},watch:{keyword(){this.selectedIndex=0},async selectedIndex(){var n;await this.$nextTick(),(n=this.$el.querySelector(".command-tool-item.selected"))==null||n.scrollIntoView({block:"nearest"})},visible(n){n?(this.editorView.dom.removeEventListener("keydown",this.keydownHandler,!0),this.editorView.dom.addEventListener("keydown",this.keydownHandler,!0)):this.editorView.dom.removeEventListener("keydown",this.keydownHandler,!0)}},methods:{keydownHandler(n){if(["ArrowDown","ArrowUp","Escape","Enter"].includes(n.key)&&(n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation()),n.key==="ArrowUp")this.selectedIndex=(this.selectedIndex-1+this.visibleCommands.length)%this.visibleCommands.length;else if(n.key==="ArrowDown")this.selectedIndex=(this.selectedIndex+1)%this.visibleCommands.length;else if(n.key==="Enter"){const e=this.visibleCommands[this.selectedIndex];if(!e)return null;this.commandHandler(e)}else n.key==="Escape"&&this.$emit("close")},commandHandler(n){n.handler(this.editorView)}}}),pM={class:"command-tool-list"},mM=["onClick"],gM={key:0,class:"command-tool-item"};function yM(n,e,t,i,r,o){return n.visible?(P(),H("div",{key:0,class:"command-tool",ref:"el",style:Ye({left:n.position.left+"px",top:n.position.top+"px"})},[z("ul",pM,[(P(!0),H(pt,null,Fi(n.visibleCommands,(s,a)=>(P(),H("li",{class:ne(["command-tool-item",{selected:a===n.selectedIndex}]),key:s.label,onClick:l=>n.commandHandler(s)},qe(s.label),11,mM))),128)),n.visibleCommands.length<=0?(P(),H("li",gM,"")):le("",!0)])],4)):le("",!0)}const bM=Dt(hM,[["render",yM],["__scopeId","data-v-ccd6e32c"]]),kM="/",vM=18,xt=(n,e,t)=>{const{selection:i,schema:r,tr:o}=n.state;if(!(i instanceof re))return;const{$cursor:s}=i;if(!s)return;if(s.node().isTextblock){const l=r.nodes[e];if(l.isTextblock){const u=o.setBlockType(s.before(),s.after(),l,t).deleteRange(s.start(),s.end());n.dispatch(u)}else{const u=l.createAndFill();if(!u)throw new Error(`updateNodeType failed: ${e}`);const c=o.replaceRangeWith(s.before(),s.after(),u);n.dispatch(c.setSelection(re.near(o.doc.resolve(s.before()+1),1)))}}},wM=[{label:"",keyword:"text",handler(n){xt(n,"paragraph")}},{label:"1",keyword:"h1",handler(n){xt(n,"heading",{level:1})}},{label:"2",keyword:"h2",handler(n){xt(n,"heading",{level:2})}},{label:"3",keyword:"h3",handler(n){xt(n,"heading",{level:3})}},{label:"",keyword:"image",handler(n){xt(n,"image")}},{label:"",keyword:"ordered-list",handler(n){xt(n,"ordered_list")}},{label:"",keyword:"unordered-list",handler(n){xt(n,"bullet_list")}},{label:"",keyword:"code",handler(n){xt(n,"code_block")}},{label:"",keyword:"quote",handler(n){xt(n,"blockquote")}},{label:"",keyword:"divider",handler(n){xt(n,"horizontal_rule")}},{label:"",keyword:"details",handler(n){xt(n,"details")}},{label:"Callout",keyword:"callout",handler(n){xt(n,"callout")}},{label:"",keyword:"katex",handler(n){xt(n,"katex_block")}},{label:"",keyword:"toc",handler(n){xt(n,"toc")}},{label:"Excalidraw",keyword:"excalidraw",handler(n){xt(n,"excalidraw")}}];class xM{constructor(e){Le(this,"vm");Le(this,"vmProps",Cr({blocks:ft(wM),editorView:null,keyword:"",position:{top:0,left:0},visible:!1,onClose:()=>{this.vmProps.visible=!1}}));var r;this.vmProps.editorView=ft(e);const t=Gs({render:()=>xo(bM,this.vmProps)}),i=document.createElement("div");(r=e.dom.parentNode)==null||r.appendChild(i),t.mount(i),this.vm=t}update(e){const t=e.state.selection;if(!(t instanceof re)){this.vmProps.visible=!1;return}const i=t.$cursor;if(!i){this.vmProps.visible=!1;return}const r=i.parent.textContent;if(r.startsWith(kM)&&r.length<vM){const o=e.coordsAtPos(t.$cursor.pos),s=e.dom.offsetParent.getBoundingClientRect(),a=o.bottom-s.top,l=o.left-s.left;this.vmProps.keyword=r.substring(1),this.vmProps.visible=!0,this.vmProps.position={top:a,left:l},this.vmProps.editorView=ft(e)}else this.vmProps.visible=!1}destroy(){this.vm.unmount()}}const _M=()=>new Nt({view(n){return new xM(n)}}),SM=1024;let jM=0,Ut=class{constructor(e,t){this.from=e,this.to=t}};class fe{constructor(e={}){this.id=jM++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ot.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}fe.closedBy=new fe({deserialize:n=>n.split(" ")});fe.openedBy=new fe({deserialize:n=>n.split(" ")});fe.group=new fe({deserialize:n=>n.split(" ")});fe.isolate=new fe({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});fe.contextHash=new fe({perNode:!0});fe.lookAhead=new fe({perNode:!0});fe.mounted=new fe({perNode:!0});class Rs{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[fe.mounted.id]}}const CM=Object.create(null);class Ot{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):CM,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ot(e.name||"",t,e.id,i);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(fe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(fe.group),o=-1;o<(r?r.length:0);o++){let s=t[o<0?i.name:r[o]];if(s)return s}}}}Ot.none=new Ot("",Object.create(null),0,8);class Mf{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let o of e){let s=o(i);s&&(r||(r=Object.assign({},i.props)),r[s[0].id]=s[1])}t.push(r?new Ot(i.name,r,i.id,i.flags):i)}return new Mf(t)}}const Ma=new WeakMap,Km=new WeakMap;var Te;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Te||(Te={}));class je{constructor(e,t,i,r,o){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=Rs.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ol(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Ma.get(this)||this.topNode,o=new Ol(r);return o.moveTo(e,t),Ma.set(this,o._tree),o}get topNode(){return new yt(this,0,0,null)}resolve(e,t=0){let i=Ls(Ma.get(this)||this.topNode,e,t,!1);return Ma.set(this,i),i}resolveInner(e,t=0){let i=Ls(Km.get(this)||this.topNode,e,t,!0);return Km.set(this,i),i}resolveStack(e,t=0){return OM(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:o=this.length}=e,s=e.mode||0,a=(s&Te.IncludeAnonymous)>0;for(let l=this.cursor(s|Te.IncludeAnonymous);;){let u=!1;if(l.from<=o&&l.to>=r&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Nf(Ot.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new je(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new je(Ot.none,t,i,r)))}static build(e){return DM(e)}}je.empty=new je(Ot.none,[],[],0);class Ff{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ff(this.buffer,this.index)}}class Vi{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ot.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,i==e)return o;let s=[];for(;e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,i,r,o){let{buffer:s}=this,a=-1;for(let l=e;l!=t&&!(M1(o,r,s[l+1],s[l+2])&&(a=l,i>0));l=s[l+3]);return a}slice(e,t,i){let r=this.buffer,o=new Uint16Array(t-e),s=0;for(let a=e,l=0;a<t;){o[l++]=r[a++],o[l++]=r[a++]-i;let u=o[l++]=r[a++]-i;o[l++]=r[a++]-e,s=Math.max(s,u)}return new Vi(o,s,this.set)}}function M1(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ls(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!i&&n instanceof yt&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=i?0:Te.IgnoreOverlays;if(i)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof yt&&s.index<0&&((r=a.enter(e,t,o))===null||r===void 0?void 0:r.from)!=s.from&&(n=a);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class F1{cursor(e=0){return new Ol(this,e)}getChild(e,t=null,i=null){let r=Um(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Um(this,e,t,i)}resolve(e,t=0){return Ls(this,e,t,!1)}resolveInner(e,t=0){return Ls(this,e,t,!0)}matchContext(e){return Jc(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class yt extends F1{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,u=t>0?a.length:-1;e!=u;e+=t){let c=a[e],d=l[e]+s.from;if(M1(r,i,d,d+c.length)){if(c instanceof Vi){if(o&Te.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,t,i-d,r);if(f>-1)return new On(new AM(s,c,e,d),null,f)}else if(o&Te.IncludeAnonymous||!c.type.isAnonymous||Bf(c)){let f;if(!(o&Te.IgnoreMounts)&&(f=Rs.get(c))&&!f.overlay)return new yt(f.tree,d,e,s);let p=new yt(c,d,e,s);return o&Te.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?c.children.length-1:0,t,i,r)}}}if(o&Te.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Te.IgnoreOverlays)&&(r=Rs.get(this._tree))&&r.overlay){let o=e-this.from;for(let{from:s,to:a}of r.overlay)if((t>0?s<=o:s<o)&&(t<0?a>=o:a>o))return new yt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Um(n,e,t,i){let r=n.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=r.type.is(t),!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function Jc(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class AM{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class On extends F1{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return o<0?null:new On(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Te.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new On(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new On(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new On(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let s=i.buffer[this.index+1];e.push(i.slice(r,o,s)),t.push(0)}return new je(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function B1(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let i=t instanceof yt&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new EM(r,t)}class EM{constructor(e,t){this.heads=e,this.node=t}get next(){return B1(this.heads)}}function OM(n,e,t){let i=n.resolveInner(e,t),r=null;for(let o=i instanceof yt?i:i.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(r||(r=[i])).push(s.resolve(e,t)),o=s}else{let s=Rs.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new yt(s.tree,s.overlay[0].from+o.from,-1,o);(r||(r=[i])).push(Ls(a,e,t,!1))}}return r?B1(r):i}class Ol{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof yt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof yt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Te.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Te.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Te.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let o=t+e,s=e<0?-1:i._tree.children.length;o!=s;o+=e){let a=i._tree.children[o];if(this.mode&Te.IncludeAnonymous||a instanceof Vi||!a.type.isAnonymous||Bf(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,i=o+1;break e}r=this.stack[--o]}for(let r=i;r<this.stack.length;r++)t=new On(this.buffer,t,this.stack[r]);return this.bufferNode=new On(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return Jc(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return Jc(this.node,e,r);let s=i[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function Bf(n){return n.children.some(e=>e instanceof Vi||!e.type.isAnonymous||Bf(e))}function DM(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=SM,reused:o=[],minRepeatType:s=i.types.length}=n,a=Array.isArray(t)?new Ff(t,t.length):t,l=i.types,u=0,c=0;function d(w,_,S,B,O,L){let{id:F,start:I,end:W,size:Z}=a,A=c;for(;Z<0;)if(a.next(),Z==-1){let ee=o[F];S.push(ee),B.push(I-w);return}else if(Z==-3){u=F;return}else if(Z==-4){c=F;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let V=l[F],M,X,G=I-w;if(W-I<=r&&(X=g(a.pos-_,O))){let ee=new Uint16Array(X.size-X.skip),me=a.pos-X.size,J=ee.length;for(;a.pos>me;)J=y(X.start,ee,J);M=new Vi(ee,W-X.start,i),G=X.start-w}else{let ee=a.pos-Z;a.next();let me=[],J=[],te=F>=s?F:-1,we=0,Ce=W;for(;a.pos>ee;)te>=0&&a.id==te&&a.size>=0?(a.end<=Ce-r&&(h(me,J,I,we,a.end,Ce,te,A),we=me.length,Ce=a.end),a.next()):L>2500?f(I,ee,me,J):d(I,ee,me,J,te,L+1);if(te>=0&&we>0&&we<me.length&&h(me,J,I,we,I,Ce,te,A),me.reverse(),J.reverse(),te>-1&&we>0){let se=p(V);M=Nf(V,me,J,0,me.length,0,W-I,se,se)}else M=m(V,me,J,W-I,A-W)}S.push(M),B.push(G)}function f(w,_,S,B){let O=[],L=0,F=-1;for(;a.pos>_;){let{id:I,start:W,end:Z,size:A}=a;if(A>4)a.next();else{if(F>-1&&W<F)break;F<0&&(F=Z-r),O.push(I,W,Z),L++,a.next()}}if(L){let I=new Uint16Array(L*4),W=O[O.length-2];for(let Z=O.length-3,A=0;Z>=0;Z-=3)I[A++]=O[Z],I[A++]=O[Z+1]-W,I[A++]=O[Z+2]-W,I[A++]=A;S.push(new Vi(I,O[2]-W,i)),B.push(W-w)}}function p(w){return(_,S,B)=>{let O=0,L=_.length-1,F,I;if(L>=0&&(F=_[L])instanceof je){if(!L&&F.type==w&&F.length==B)return F;(I=F.prop(fe.lookAhead))&&(O=S[L]+F.length+I)}return m(w,_,S,B,O)}}function h(w,_,S,B,O,L,F,I){let W=[],Z=[];for(;w.length>B;)W.push(w.pop()),Z.push(_.pop()+S-O);w.push(m(i.types[F],W,Z,L-O,I-L)),_.push(O-S)}function m(w,_,S,B,O=0,L){if(u){let F=[fe.contextHash,u];L=L?[F].concat(L):[F]}if(O>25){let F=[fe.lookAhead,O];L=L?[F].concat(L):[F]}return new je(w,_,S,B,L)}function g(w,_){let S=a.fork(),B=0,O=0,L=0,F=S.end-r,I={size:0,start:0,skip:0};e:for(let W=S.pos-w;S.pos>W;){let Z=S.size;if(S.id==_&&Z>=0){I.size=B,I.start=O,I.skip=L,L+=4,B+=4,S.next();continue}let A=S.pos-Z;if(Z<0||A<W||S.start<F)break;let V=S.id>=s?4:0,M=S.start;for(S.next();S.pos>A;){if(S.size<0)if(S.size==-3)V+=4;else break e;else S.id>=s&&(V+=4);S.next()}O=M,B+=Z,L+=V}return(_<0||B==w)&&(I.size=B,I.start=O,I.skip=L),I.size>4?I:void 0}function y(w,_,S){let{id:B,start:O,end:L,size:F}=a;if(a.next(),F>=0&&B<s){let I=S;if(F>4){let W=a.pos-(F-4);for(;a.pos>W;)S=y(w,_,S)}_[--S]=I,_[--S]=L-w,_[--S]=O-w,_[--S]=B}else F==-3?u=B:F==-4&&(c=B);return S}let k=[],x=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,x,-1,0);let v=(e=n.length)!==null&&e!==void 0?e:k.length?x[0]+k[0].length:0;return new je(l[n.topID],k.reverse(),x.reverse(),v)}const Jm=new WeakMap;function el(n,e){if(!n.isAnonymous||e instanceof Vi||e.type!=n)return 1;let t=Jm.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof je)){t=1;break}t+=el(n,i)}Jm.set(e,t)}return t}function Nf(n,e,t,i,r,o,s,a,l){let u=0;for(let h=i;h<r;h++)u+=el(n,e[h]);let c=Math.ceil(u*1.5/8),d=[],f=[];function p(h,m,g,y,k){for(let x=g;x<y;){let v=x,w=m[x],_=el(n,h[x]);for(x++;x<y;x++){let S=el(n,h[x]);if(_+S>=c)break;_+=S}if(x==v+1){if(_>c){let S=h[v];p(S.children,S.positions,0,S.children.length,m[v]+k);continue}d.push(h[v])}else{let S=m[x-1]+h[x-1].length-w;d.push(Nf(n,h,m,v,x,w,S,null,l))}f.push(w+k-o)}}return p(e,t,i,r,0),(a||l)(d,f,s)}class UN{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof On?this.setBuffer(e.context.buffer,e.index,t):e instanceof yt&&this.map.set(e.tree,t)}get(e){return e instanceof On?this.getBuffer(e.context.buffer,e.index):e instanceof yt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ni{constructor(e,t,i,r,o=!1,s=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new ni(0,e.length,e,0,!1,i)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<t.length?t[a]:null,d=c?c.fromA:1e9;if(d-l>=i)for(;s&&s.from<d;){let f=s;if(l>=f.from||d<=f.to||u){let p=Math.max(f.from,l)-u,h=Math.min(f.to,d)-u;f=p>=h?null:new ni(p,h,f.tree,f.offset+u,a>0,!!c)}if(f&&r.push(f),s.to>d)break;s=o<e.length?e[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return r}}class N1{startParse(e,t,i){return typeof e=="string"&&(e=new TM(e)),i=i?i.length?i.map(r=>new Ut(r.from,r.to)):[new Ut(0,0)]:[new Ut(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let o=r.advance();if(o)return o}}}class TM{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function JN(n){return(e,t,i,r)=>new MM(e,n,t,i,r)}class Gm{constructor(e,t,i,r,o){this.parser=e,this.parse=t,this.overlay=i,this.target=r,this.from=o}}function Ym(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class PM{constructor(e,t,i,r,o,s,a){this.parser=e,this.predicate=t,this.mounts=i,this.index=r,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const Gc=new fe({perNode:!0});class MM{constructor(e,t,i,r,o){this.nest=t,this.input=i,this.fragments=r,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new je(i.type,i.children,i.positions,i.length,i.propValues.concat([[Gc,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[fe.mounted.id]=new Rs(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new NM(this.fragments),t=null,i=null,r=new Ol(new yt(this.baseTree,this.ranges[0].from,0,null),Te.IncludeAnonymous|Te.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)a=!1;else if(e.hasNode(r)){if(t){let u=t.mounts.find(c=>c.frag.from<=r.from&&c.frag.to>=r.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let d=c.from+u.pos,f=c.to+u.pos;d>=r.from&&f<=r.to&&!t.ranges.some(p=>p.from<f&&p.to>d)&&t.ranges.push({from:d,to:f})}}a=!1}else if(i&&(s=FM(i.ranges,r.from,r.to)))a=s!=2;else if(!r.type.isAnonymous&&(o=this.nest(r,this.input))&&(r.from<r.to||!o.overlay)){r.tree||BM(r);let u=e.findMounts(r.from,o.parser);if(typeof o.overlay=="function")t=new PM(o.parser,o.overlay,u,this.inner.length,r.from,r.tree,t);else{let c=Qm(this.ranges,o.overlay||(r.from<r.to?[new Ut(r.from,r.to)]:[]));c.length&&Ym(c),(c.length||!o.overlay)&&this.inner.push(new Gm(o.parser,c.length?o.parser.startParse(this.input,eg(u,c),c):o.parser.startParse(""),o.overlay?o.overlay.map(d=>new Ut(d.from-r.from,d.to-r.from)):null,r.tree,c.length?c[0].from:r.from)),o.overlay?c.length&&(i={ranges:c,depth:0,prev:i}):a=!1}}else t&&(l=t.predicate(r))&&(l===!0&&(l=new Ut(r.from,r.to)),l.from<l.to&&t.ranges.push(l));if(a&&r.firstChild())t&&t.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){let u=Qm(this.ranges,t.ranges);u.length&&(Ym(u),this.inner.splice(t.index,0,new Gm(t.parser,t.parser.startParse(this.input,eg(t.mounts,u),u),t.ranges.map(c=>new Ut(c.from-t.start,c.to-t.start)),t.target,u[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function FM(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function Zm(n,e,t,i,r,o){if(e<t){let s=n.buffer[e+1];i.push(n.slice(e,t,s)),r.push(s-o)}}function BM(n){let{node:e}=n,t=[],i=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let r=n.tree,o=r.children.indexOf(i),s=r.children[o],a=s.buffer,l=[o];function u(c,d,f,p,h,m){let g=t[m],y=[],k=[];Zm(s,c,g,y,k,p);let x=a[g+1],v=a[g+2];l.push(y.length);let w=m?u(g+4,a[g+3],s.set.types[a[g]],x,v-x,m-1):e.toTree();return y.push(w),k.push(x-p),Zm(s,a[g+3],d,y,k,p),new je(f,y,k,h)}r.children[o]=u(0,a.length,Ot.none,0,s.length,t.length-1);for(let c of l){let d=n.tree.children[c],f=n.tree.positions[c];n.yield(new yt(d,f+n.from,c,n._tree))}}class Xm{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Te.IncludeAnonymous|Te.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,Te.IgnoreOverlays|Te.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof je)t=t.children[0];else break}return!1}}class NM{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(Gc))!==null&&t!==void 0?t:i.to,this.inner=new Xm(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(Gc))!==null&&e!==void 0?e:t.to,this.inner=new Xm(t.tree,-t.offset)}}findMounts(e,t){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(i=o.tree)===null||i===void 0?void 0:i.prop(fe.mounted);if(s&&s.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&r.push({frag:l,pos:o.from-l.offset,mount:s})}}}return r}}function Qm(n,e){let t=null,i=e;for(let r=1,o=0;r<n.length;r++){let s=n[r-1].to,a=n[r].from;for(;o<i.length;o++){let l=i[o];if(l.from>=a)break;l.to<=s||(t||(i=t=e.slice()),l.from<s?(t[o]=new Ut(l.from,s),l.to>a&&t.splice(o+1,0,new Ut(a,l.to))):l.to>a?t[o--]=new Ut(a,l.to):t.splice(o--,1))}}return i}function IM(n,e,t,i){let r=0,o=0,s=!1,a=!1,l=-1e9,u=[];for(;;){let c=r==n.length?1e9:s?n[r].to:n[r].from,d=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let f=Math.max(l,t),p=Math.min(c,d,i);f<p&&u.push(new Ut(f,p))}if(l=Math.min(c,d),l==1e9)break;c==l&&(s?(s=!1,r++):s=!0),d==l&&(a?(a=!1,o++):a=!0)}return u}function eg(n,e){let t=[];for(let{pos:i,mount:r,frag:o}of n){let s=i+(r.overlay?r.overlay[0].from:0),a=s+r.tree.length,l=Math.max(o.from,s),u=Math.min(o.to,a);if(r.overlay){let c=r.overlay.map(f=>new Ut(f.from+i,f.to+i)),d=IM(e,c,l,u);for(let f=0,p=l;;f++){let h=f==d.length,m=h?u:d[f].from;if(m>p&&t.push(new ni(p,m,r.tree,-s,o.from>=p||o.openStart,o.to<=m||o.openEnd)),h)break;p=d[f].to}}else t.push(new ni(l,u,r.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return t}class be{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=ho(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Sn.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ho(this,e,t);let i=[];return this.decompose(e,t,i,0),Sn.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new us(this),o=new us(e);for(let s=t,a=t;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new us(this,e)}iterRange(e,t=this.length){return new I1(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new R1(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?be.empty:e.length<=32?new Be(e):Sn.from(Be.split(e,[]))}}class Be extends be{constructor(e,t=RM(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.text[o],a=r+s.length;if((t?i:a)>=e)return new LM(r,a,i,s);r=a+1,i++}}decompose(e,t,i,r){let o=e<=0&&t>=this.length?this:new Be(tg(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let s=i.pop(),a=tl(o.text,s.text.slice(),0,o.length);if(a.length<=32)i.push(new Be(a,s.length+o.length));else{let l=a.length>>1;i.push(new Be(a.slice(0,l)),new Be(a.slice(l)))}}else i.push(o)}replace(e,t,i){if(!(i instanceof Be))return super.replace(e,t,i);[e,t]=ho(this,e,t);let r=tl(this.text,tl(i.text,tg(this.text,0,e)),t),o=this.length+i.length-(t-e);return r.length<=32?new Be(r,o):Sn.from(Be.split(r,[]),o)}sliceString(e,t=this.length,i=`
`){[e,t]=ho(this,e,t);let r="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.slice(Math.max(0,e-o),t-o)),o=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let o of e)i.push(o),r+=o.length+1,i.length==32&&(t.push(new Be(i,r)),i=[],r=-1);return r>-1&&t.push(new Be(i,r)),t}}class Sn extends be{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.children[o],a=r+s.length,l=i+s.lines-1;if((t?l:a)>=e)return s.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&t>=s){let u=r&((s<=e?1:0)|(l>=t?2:0));s>=e&&l<=t&&!u?i.push(a):a.decompose(e-s,t-s,i,u)}s=l+1}}replace(e,t,i){if([e,t]=ho(this,e,t),i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(e>=o&&t<=a){let l=s.replace(e-o,t-o,i),u=this.lines-s.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[r]=l,new Sn(c,this.length-(t-e)+i.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=ho(this,e,t);let r="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.sliceString(e-s,t-s,i)),s=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Sn))return 0;let i=0,[r,o,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==s||o==a)return i;let l=this.children[r],u=e.children[o];if(l!=u)return i+l.scanIdentical(u,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let h of e)h.flatten(p);return new Be(p,t)}let r=Math.max(32,i>>5),o=r<<1,s=r>>1,a=[],l=0,u=-1,c=[];function d(p){let h;if(p.lines>o&&p instanceof Sn)for(let m of p.children)d(m);else p.lines>s&&(l>s||!l)?(f(),a.push(p)):p instanceof Be&&l&&(h=c[c.length-1])instanceof Be&&p.lines+h.lines<=32?(l+=p.lines,u+=p.length+1,c[c.length-1]=new Be(h.text.concat(p.text),h.length+1+p.length)):(l+p.lines>r&&f(),l+=p.lines,u+=p.length+1,c.push(p))}function f(){l!=0&&(a.push(c.length==1?c[0]:Sn.from(c,u)),u=-1,l=c.length=0)}for(let p of e)d(p);return f(),a.length==1?a[0]:new Sn(a,t)}}be.empty=new Be([""],0);function RM(n){let e=-1;for(let t of n)e+=t.length+1;return e}function tl(n,e,t=0,i=1e9){for(let r=0,o=0,s=!0;o<n.length&&r<=i;o++){let a=n[o],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),s?(e[e.length-1]+=a,s=!1):e.push(a)),r=l+1}return e}function tg(n,e,t){return tl(n,[""],e,t)}class us{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Be?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],s=o>>1,a=r instanceof Be?r.text.length:r.children.length;if(s==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Be){let l=r.text[s+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[s+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Be?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class I1{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new us(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class R1{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(be.prototype[Symbol.iterator]=function(){return this.iter()},us.prototype[Symbol.iterator]=I1.prototype[Symbol.iterator]=R1.prototype[Symbol.iterator]=function(){return this});class LM{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}function ho(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}let Yr="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Yr.length;n++)Yr[n]+=Yr[n-1];function VM(n){for(let e=1;e<Yr.length;e+=2)if(Yr[e]>n)return Yr[e-1]<=n;return!1}function ng(n){return n>=127462&&n<=127487}const ig=8205;function St(n,e,t=!0,i=!0){return(t?L1:zM)(n,e,i)}function L1(n,e,t){if(e==n.length)return e;e&&V1(n.charCodeAt(e))&&z1(n.charCodeAt(e-1))&&e--;let i=nl(n,e);for(e+=Yc(i);e<n.length;){let r=nl(n,e);if(i==ig||r==ig||t&&VM(r))e+=Yc(r),i=r;else if(ng(r)){let o=0,s=e-2;for(;s>=0&&ng(nl(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function zM(n,e,t){for(;e>0;){let i=L1(n,e-2,t);if(i<e)return i;e--}return 0}function V1(n){return n>=56320&&n<57344}function z1(n){return n>=55296&&n<56320}function nl(n,e){let t=n.charCodeAt(e);if(!z1(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return V1(i)?(t-55296<<10)+(i-56320)+65536:t}function Yc(n){return n<65536?1:2}const Zc=/\r\n?|\n/;var Vt=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Vt||(Vt={}));class ii{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(i,r,o),r+=o):r+=s,i+=o}}iterChangedRanges(e,t=!1){Xc(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new ii(e)}composeDesc(e){return this.empty?e:e.empty?this:$1(this,e)}mapDesc(e,t=!1){return e.empty?this:Qc(this,e,t)}mapPos(e,t=-1,i=Vt.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],u=r+a;if(l<0){if(u>e)return o+(e-r);o+=a}else{if(i!=Vt.Simple&&u>=e&&(i==Vt.TrackDel&&r<e&&u>e||i==Vt.TrackBefore&&r<e||i==Vt.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!a)return e==r||t<0?o:o+l;o+=l}r=u}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let o=this.sections[i++],s=this.sections[i++],a=r+o;if(s>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ii(e)}static create(e){return new ii(e)}}class Ge extends ii{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Xc(this,(t,i,r,o,s)=>e=e.replace(r,r+(i-t),s),!1),e}mapDesc(e,t=!1){return Qc(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,o=0;r<t.length;r+=2){let s=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=s;let l=r>>1;for(;i.length<l;)i.push(be.empty);i.push(s?e.slice(o,o+s):be.empty)}o+=s}return new Ge(t,i)}compose(e){return this.empty?e:e.empty?this:$1(this,e,!0)}map(e,t=!1){return e.empty?this:Qc(this,e,t,!0)}iterChanges(e,t=!1){Xc(this,e,t)}get desc(){return ii.create(this.sections)}filter(e){let t=[],i=[],r=[],o=new Vs(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,l-a);ct(r,c,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;ct(t,c,d),d>0&&Pi(i,t,o.text),o.forward(c),a+=c}let u=e[s++];for(;a<u;){if(o.done)break e;let c=Math.min(o.len,u-a);ct(t,c,-1),ct(r,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),a+=c}}return{changes:new Ge(t,i),filtered:ii.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],o=[],s=0,a=null;function l(c=!1){if(!c&&!r.length)return;s<t&&ct(r,t-s,-1);let d=new Ge(r,o);a=a?a.compose(d.map(a)):d,r=[],o=[],s=0}function u(c){if(Array.isArray(c))for(let d of c)u(d);else if(c instanceof Ge){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:d,to:f=d,insert:p}=c;if(d>f||d<0||f>t)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${t})`);let h=p?typeof p=="string"?be.of(p.split(i||Zc)):p:be.empty,m=h.length;if(d==f&&m==0)return;d<s&&l(),d>s&&ct(r,d-s,-1),ct(r,f-d,m),Pi(o,r,h),s=f}}return u(e),l(!a),a}static empty(e){return new Ge(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;i.length<r;)i.push(be.empty);i[r]=be.of(o.slice(1)),t.push(o[0],i[r].length)}}}return new Ge(t,i)}static createSet(e,t){return new Ge(e,t)}}function ct(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function Pi(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(be.empty);n.push(t)}}function Xc(n,e,t){let i=n.inserted;for(let r=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],l=n.sections[s++];if(l<0)r+=a,o+=a;else{let u=r,c=o,d=be.empty;for(;u+=a,c+=l,l&&i&&(d=d.append(i[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],l=n.sections[s++];e(r,u,o,c,d),r=u,o=c}}}function Qc(n,e,t,i=!1){let r=[],o=i?[]:null,s=new Vs(n),a=new Vs(e);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let u=Math.min(s.len,a.len);ct(r,u,-1),s.forward(u),a.forward(u)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!t))){let u=a.len;for(ct(r,a.ins,-1);u;){let c=Math.min(s.len,u);s.ins>=0&&l<s.i&&s.len<=c&&(ct(r,0,s.ins),o&&Pi(o,r,s.text),l=s.i),s.forward(c),u-=c}a.next()}else if(s.ins>=0){let u=0,c=s.len;for(;c;)if(a.ins==-1){let d=Math.min(c,a.len);u+=d,c-=d,a.forward(d)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;ct(r,u,l<s.i?s.ins:0),o&&l<s.i&&Pi(o,r,s.text),l=s.i,s.forward(s.len-c)}else{if(s.done&&a.done)return o?Ge.createSet(r,o):ii.create(r);throw new Error("Mismatched change set lengths")}}function $1(n,e,t=!1){let i=[],r=t?[]:null,o=new Vs(n),s=new Vs(e);for(let a=!1;;){if(o.done&&s.done)return r?Ge.createSet(i,r):ii.create(i);if(o.ins==0)ct(i,o.len,0,a),o.next();else if(s.len==0&&!s.done)ct(i,0,s.ins,a),r&&Pi(r,i,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),u=i.length;if(o.ins==-1){let c=s.ins==-1?-1:s.off?0:s.ins;ct(i,l,c,a),r&&c&&Pi(r,i,s.text)}else s.ins==-1?(ct(i,o.off?0:o.len,l,a),r&&Pi(r,i,o.textBit(l))):(ct(i,o.off?0:o.len,s.off?0:s.ins,a),r&&!s.off&&Pi(r,i,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||i.length>u),o.forward2(l),s.forward(l)}}}}class Vs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?be.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?be.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class sr{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new sr(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return $.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return $.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return $.range(e.anchor,e.head)}static create(e,t,i){return new sr(e,t,i)}}class ${constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:$.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new $([this.main],0)}addRange(e,t=!0){return $.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,$.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $(e.ranges.map(t=>sr.fromJSON(t)),e.main)}static single(e,t=e){return new $([$.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=i:o.from<i)return $.normalized(e.slice(),t);i=o.to}return new $(e,t)}static cursor(e,t=0,i,r){return sr.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let o=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?sr.create(t,e,48|o):sr.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let i=e[t];e.sort((r,o)=>r.from-o.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let o=e[r],s=e[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);r<=t&&t--,e.splice(--r,2,o.anchor>o.head?$.range(l,a):$.range(a,l))}}return new $(e,t)}}function q1(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let If=0;class oe{constructor(e,t,i,r,o){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=If++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new oe(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Rf),!!e.static,e.enables)}of(e){return new il([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new il(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new il(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Rf(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class il{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=If++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?u=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||c.push(e[d.id]);return{create(d){return d.values[s]=i(d),1},update(d,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||ed(d,c)){let p=i(d);if(a?!rg(p,d.values[s],r):!r(p,d.values[s]))return d.values[s]=p,1}return 0},reconfigure:(d,f)=>{let p,h=f.config.address[o];if(h!=null){let m=Tl(f,h);if(this.dependencies.every(g=>g instanceof oe?f.facet(g)===d.facet(g):g instanceof Tr?f.field(g,!1)==d.field(g,!1):!0)||(a?rg(p=i(d),m,r):r(p=i(d),m)))return d.values[s]=m,0}else p=i(d);return d.values[s]=p,1}}}}function rg(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function ed(n,e){let t=!1;for(let i of e)cs(n,i)&1&&(t=!0);return t}function $M(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),o=i.filter(l=>!(l&1)),s=n[e.id]>>1;function a(l){let u=[];for(let c=0;c<i.length;c++){let d=Tl(l,i[c]);if(r[c]==2)for(let f of d)u.push(f);else u.push(d)}return e.combine(u)}return{create(l){for(let u of i)cs(l,u);return l.values[s]=a(l),1},update(l,u){if(!ed(l,o))return 0;let c=a(l);return e.compare(c,l.values[s])?0:(l.values[s]=c,1)},reconfigure(l,u){let c=ed(l,i),d=u.config.facets[e.id],f=u.facet(e);if(d&&!c&&Rf(t,d))return l.values[s]=f,0;let p=a(l);return e.compare(p,f)?(l.values[s]=f,0):(l.values[s]=p,1)}}}const og=oe.define({static:!0});class Tr{constructor(e,t,i,r,o){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new Tr(If++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(og).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let o=i.values[t],s=this.updateF(o,r);return this.compareF(o,s)?0:(i.values[t]=s,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,og.of({field:this,create:e})]}get extension(){return this}}const er={lowest:4,low:3,default:2,high:1,highest:0};function Lo(n){return e=>new H1(e,n)}const uu={highest:Lo(er.highest),high:Lo(er.high),default:Lo(er.default),low:Lo(er.low),lowest:Lo(er.lowest)};class H1{constructor(e,t){this.inner=e,this.prec=t}}class la{of(e){return new td(this,e)}reconfigure(e){return la.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class td{constructor(e,t){this.compartment=e,this.inner=t}}class Dl{constructor(e,t,i,r,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],o=Object.create(null),s=new Map;for(let f of qM(e,t,s))f instanceof Tr?r.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of r)a[f.id]=u.length<<1,u.push(p=>f.slot(p));let c=i==null?void 0:i.config.facets;for(let f in o){let p=o[f],h=p[0].facet,m=c&&c[f]||[];if(p.every(g=>g.type==0))if(a[h.id]=l.length<<1|1,Rf(m,p))l.push(i.facet(h));else{let g=h.combine(p.map(y=>y.value));l.push(i&&h.compare(g,i.facet(h))?i.facet(h):g)}else{for(let g of p)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=u.length<<1,u.push(y=>g.dynamicSlot(y)));a[h.id]=u.length<<1,u.push(g=>$M(g,h,p))}}let d=u.map(f=>f(a));return new Dl(e,s,d,a,l,o)}}function qM(n,e,t){let i=[[],[],[],[],[]],r=new Map;function o(s,a){let l=r.get(s);if(l!=null){if(l<=a)return;let u=i[l].indexOf(s);u>-1&&i[l].splice(u,1),s instanceof td&&t.delete(s.compartment)}if(r.set(s,a),Array.isArray(s))for(let u of s)o(u,a);else if(s instanceof td){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(s.compartment)||s.inner;t.set(s.compartment,u),o(u,a)}else if(s instanceof H1)o(s.inner,s.prec);else if(s instanceof Tr)i[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof il)i[a].push(s),s.facet.extensions&&o(s.facet.extensions,er.default);else{let u=s.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,a)}}return o(n,er.default),i.reduce((s,a)=>s.concat(a))}function cs(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Tl(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const W1=oe.define(),nd=oe.define({combine:n=>n.some(e=>e),static:!0}),K1=oe.define({combine:n=>n.length?n[0]:void 0,static:!0}),U1=oe.define(),J1=oe.define(),G1=oe.define(),Y1=oe.define({combine:n=>n.length?n[0]:!1});class Ao{constructor(e,t){this.type=e,this.value=t}static define(){return new HM}}class HM{of(e){return new Ao(this,e)}}class WM{constructor(e){this.map=e}of(e){return new He(this,e)}}class He{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new He(this.type,t)}is(e){return this.type==e}static define(e={}){return new WM(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let o=r.map(t);o&&i.push(o)}return i}}He.reconfigure=He.define();He.appendConfig=He.define();class gt{constructor(e,t,i,r,o,s){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&q1(i,t.newLength),o.some(a=>a.type==gt.time)||(this.annotations=o.concat(gt.time.of(Date.now())))}static create(e,t,i,r,o,s){return new gt(e,t,i,r,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(gt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}gt.time=Ao.define();gt.userEvent=Ao.define();gt.addToHistory=Ao.define();gt.remote=Ao.define();function KM(n,e){let t=[];for(let i=0,r=0;;){let o,s;if(i<n.length&&(r==e.length||e[r]>=n[i]))o=n[i++],s=n[i++];else if(r<e.length)o=e[r++],s=e[r++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function Z1(n,e,t){var i;let r,o,s;return t?(r=e.changes,o=Ge.empty(e.changes.length),s=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:He.mapEffects(n.effects,r).concat(He.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function id(n,e,t){let i=e.selection,r=Zr(e.annotations);return e.userEvent&&(r=r.concat(gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ge?e.changes:Ge.of(e.changes||[],t,n.facet(K1)),selection:i&&(i instanceof $?i:$.single(i.anchor,i.head)),effects:Zr(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function X1(n,e,t){let i=id(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;i=Z1(i,id(n,e[o],s?i.changes.newLength:n.doc.length),s)}let r=gt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return JM(t?UM(r):r)}function UM(n){let e=n.startState,t=!0;for(let r of e.facet(U1)){let o=r(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:KM(t,o))}if(t!==!0){let r,o;if(t===!1)o=n.changes.invertedDesc,r=Ge.empty(e.doc.length);else{let s=n.changes.filter(t);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=gt.create(e,r,n.selection&&n.selection.map(o),He.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let i=e.facet(J1);for(let r=i.length-1;r>=0;r--){let o=i[r](n);o instanceof gt?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof gt?n=o[0]:n=X1(e,Zr(o),!1)}return n}function JM(n){let e=n.startState,t=e.facet(G1),i=n;for(let r=t.length-1;r>=0;r--){let o=t[r](n);o&&Object.keys(o).length&&(i=Z1(i,id(e,o,n.changes.newLength),!0))}return i==n?n:gt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const GM=[];function Zr(n){return n==null?GM:Array.isArray(n)?n:[n]}var Zn=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Zn||(Zn={}));const YM=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let rd;try{rd=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function ZM(n){if(rd)return rd.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||YM.test(t)))return!0}return!1}function XM(n){return e=>{if(!/\S/.test(e))return Zn.Space;if(ZM(e))return Zn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Zn.Word;return Zn.Other}}class ke{constructor(e,t,i,r,o,s){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)cs(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return cs(this,i),Tl(this,i)}update(...e){return X1(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let a of e.effects)a.is(la.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,u)=>r.set(u,l)),t=null),r.set(a.value.compartment,a.value.extension)):a.is(He.reconfigure)?(t=null,i=a.value):a.is(He.appendConfig)&&(t=null,i=Zr(i).concat(a.value));let o;t?o=e.startState.values.slice():(t=Dl.resolve(i,r,this),o=new ke(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let s=e.startState.facet(nd)?e.newSelection:e.newSelection.asSingle();new ke(t,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:$.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),o=[i.range],s=Zr(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),u=this.changes(l.changes),c=u.map(r);for(let f=0;f<a;f++)o[f]=o[f].map(c);let d=r.mapDesc(u,!0);o.push(l.range.map(d)),r=r.compose(c),s=He.mapEffects(s,c).concat(He.mapEffects(Zr(l.effects),d))}return{changes:r,selection:$.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Ge?e:Ge.of(e,this.doc.length,this.facet(ke.lineSeparator))}toText(e){return be.of(e.split(this.facet(ke.lineSeparator)||Zc))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(cs(this,t),Tl(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Tr&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(e,o)){let s=i[o],a=e[o];r.push(s.init(l=>s.spec.fromJSON(a,l)))}}return ke.create({doc:e.doc,selection:$.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Dl.resolve(e.extensions||[],new Map),i=e.doc instanceof be?e.doc:be.of((e.doc||"").split(t.staticFacet(ke.lineSeparator)||Zc)),r=e.selection?e.selection instanceof $?e.selection:$.single(e.selection.anchor,e.selection.head):$.single(0);return q1(r,i.length),t.staticFacet(nd)||(r=r.asSingle()),new ke(t,i,r,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(ke.tabSize)}get lineBreak(){return this.facet(ke.lineSeparator)||`
`}get readOnly(){return this.facet(Y1)}phrase(e,...t){for(let i of this.facet(ke.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>t.length?i:t[o-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let o of this.facet(W1))for(let s of o(this,t,i))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return XM(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-i,a=e-i;for(;s>0;){let l=St(t,s,!1);if(o(t.slice(l,s))!=Zn.Word)break;s=l}for(;a<r;){let l=St(t,a);if(o(t.slice(a,l))!=Zn.Word)break;a=l}return s==a?null:$.range(s+i,a+i)}}ke.allowMultipleSelections=nd;ke.tabSize=oe.define({combine:n=>n.length?n[0]:4});ke.lineSeparator=K1;ke.readOnly=Y1;ke.phrases=oe.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});ke.languageData=W1;ke.changeFilter=U1;ke.transactionFilter=J1;ke.transactionExtender=G1;la.reconfigure=He.define();function QM(n,e,t={}){let i={};for(let r of n)for(let o of Object.keys(r)){let s=r[o],a=i[o];if(a===void 0)i[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(t,o))i[o]=t[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class po{eq(e){return this==e}range(e,t=e){return zs.create(e,t,this)}}po.prototype.startSide=po.prototype.endSide=0;po.prototype.point=!1;po.prototype.mapMode=Vt.TrackDel;class zs{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new zs(e,t,i)}}function od(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Lf{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let o=i?this.to:this.from;for(let s=r,a=o.length;;){if(s==a)return s;let l=s+a>>1,u=o[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==s)return u>=0?s:a;u>=0?a=l:s=l+1}}between(e,t,i,r){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(r(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let i=[],r=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,d=this.to[l]+e,f,p;if(c==d){let h=t.mapPos(c,u.startSide,u.mapMode);if(h==null||(f=p=h,u.startSide!=u.endSide&&(p=t.mapPos(c,u.endSide),p<f)))continue}else if(f=t.mapPos(c,u.startSide),p=t.mapPos(d,u.endSide),f>p||f==p&&u.startSide>0&&u.endSide<=0)continue;(p-f||u.endSide-u.startSide)<0||(s<0&&(s=f),u.point&&(a=Math.max(a,p-f)),i.push(u),r.push(f-s),o.push(p-s))}return{mapped:i.length?new Lf(r,o,i,a):null,pos:s}}}class Oe{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Oe(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(i&&(t=t.slice().sort(od)),this.isEmpty)return t.length?Oe.of(t):this;let a=new Q1(this,null,-1).goto(0),l=0,u=[],c=new $s;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let d=t[l++];c.addInner(d.from,d.to,d.value)||u.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!s||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||r>a.to||o<a.from||s(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(zs.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Oe.empty:this.nextLayer.update({add:u,filter:s,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],u=e.touchesRange(a,a+l.length);if(u===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:d}=l.map(a,e);c&&(r=Math.max(r,c.maxPoint),t.push(c),i.push(d))}}let o=this.nextLayer.map(e);return t.length==0?o:new Oe(i,t,o||Oe.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return qs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return qs.from(e).goto(t)}static compare(e,t,i,r,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),l=sg(s,a,i),u=new Vo(s,l,o),c=new Vo(a,l,o);i.iterGaps((d,f,p)=>ag(u,d,c,f,p,r)),i.empty&&i.length==0&&ag(u,0,c,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let o=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),s=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=sg(o,s),l=new Vo(o,a,0).goto(i),u=new Vo(s,a,0).goto(i);for(;;){if(l.to!=u.to||!sd(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>r)return!0;l.next(),u.next()}}static spans(e,t,i,r,o=-1){let s=new Vo(e,null,o).goto(t),a=t,l=s.openStart;for(;;){let u=Math.min(s.to,i);if(s.point){let c=s.activeForPoint(s.to),d=s.pointFrom<t?c.length+1:s.point.startSide<0?c.length:Math.min(c.length,l);r.point(a,u,s.point,c,d,s.pointRank),l=Math.min(s.openEnd(u),c.length)}else u>a&&(r.span(a,u,s.active,l),l=s.openEnd(u));if(s.to>i)return l+(s.point&&s.to>i?1:0);a=s.to,s.next()}}static of(e,t=!1){let i=new $s;for(let r of e instanceof zs?[e]:t?e5(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return Oe.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=Oe.empty;r=r.nextLayer)t=new Oe(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}Oe.empty=new Oe([],[],null,-1);function e5(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(od(e,i)>0)return n.slice().sort(od);e=i}return n}Oe.empty.nextLayer=Oe.empty;class $s{finishChunk(e){this.chunks.push(new Lf(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new $s)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Oe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Oe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function sg(n,e,t){let i=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=i.get(o.chunk[s]);a!=null&&(t?t.mapPos(a):a)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(a,a+o.chunk[s].length))&&r.add(o.chunk[s])}return r}class Q1{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class qs{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new Q1(s,t,i,o));return r.length==1?r[0]:new qs(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)sc(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)sc(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),sc(this.heap,0)}}}function sc(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Vo{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=qs.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Fa(this.active,e),Fa(this.activeTo,e),Fa(this.activeRank,e),this.minActive=lg(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Ba(this.active,t,i),Ba(this.activeTo,t,r),Ba(this.activeRank,t,o),e&&Ba(e,t,this.cursor.from),this.minActive=lg(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Fa(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function ag(n,e,t,i,r,o){n.goto(e),t.goto(i);let s=i+r,a=i,l=i-e;for(;;){let u=n.to+l-t.to||n.endSide-t.endSide,c=u<0?n.to+l:t.to,d=Math.min(c,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&sd(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(a,d,n.point,t.point):d>a&&!sd(n.active,t.active)&&o.compareRange(a,d,n.active,t.active),c>s)break;a=c,u<=0&&n.next(),u>=0&&t.next()}}function sd(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Fa(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Ba(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function lg(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function cu(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=St(n,r));return i}function t5(n,e,t,i){for(let r=0,o=0;;){if(o>=e)return r;if(r==n.length)break;o+=n.charCodeAt(r)==9?t-o%t:1,r=St(n,r)}return i===!0?-1:n.length}const ad="",ug=typeof Symbol>"u"?"__"+ad:Symbol.for(ad),ld=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class zi{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,u){let c=[],d=/^@(\w+)\b/.exec(s[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(s[0]+";");for(let p in a){let h=a[p];if(/&/.test(p))o(p.split(/,\s*/).map(m=>s.map(g=>m.replace(/&/,g))).reduce((m,g)=>m.concat(g)),h,l);else if(h&&typeof h=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");o(r(p),h,c,f)}else h!=null&&c.push(p.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+h+";")}(c.length||f)&&l.push((i&&!d&&!u?s.map(i):s).join(", ")+" {"+c.join(" ")+"}")}for(let s in e)o(r(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=cg[ug]||1;return cg[ug]=e+1,ad+e.toString(36)}static mount(e,t,i){let r=e[ld],o=i&&i.nonce;r?o&&r.setNonce(o):r=new n5(e,o),r.mount(Array.isArray(t)?t:[t],e)}}let dg=new Map;class n5{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let o=dg.get(i);if(o)return e[ld]=o;this.sheet=new r.CSSStyleSheet,dg.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[ld]=this}mount(e,t){let i=this.sheet,r=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),i)for(let u=0;u<a.rules.length;u++)i.insertRule(a.rules[u],r++)}else{for(;o<l;)r+=this.modules[o++].rules.length;r+=a.rules.length,o++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}function Hs(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function ud(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function i5(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function rl(n,e){if(!e.anchorNode)return!1;try{return ud(n,e.anchorNode)}catch{return!1}}function Ws(n){return n.nodeType==3?_r(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function ds(n,e,t,i){return t?fg(n,e,t,i,-1)||fg(n,e,t,i,1):!1}function xr(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Pl(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function fg(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:li(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=xr(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?li(n):0}else return!1}}function li(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Vf(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function r5(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function e2(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function o5(n,e,t,i,r,o,s,a){let l=n.ownerDocument,u=l.defaultView||window;for(let c=n,d=!1;c&&!d;)if(c.nodeType==1){let f,p=c==l.body,h=1,m=1;if(p)f=r5(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(d=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let k=c.getBoundingClientRect();({scaleX:h,scaleY:m}=e2(c,k)),f={left:k.left,right:k.left+c.clientWidth*h,top:k.top,bottom:k.top+c.clientHeight*m}}let g=0,y=0;if(r=="nearest")e.top<f.top?(y=-(f.top-e.top+s),t>0&&e.bottom>f.bottom+y&&(y=e.bottom-f.bottom+y+s)):e.bottom>f.bottom&&(y=e.bottom-f.bottom+s,t<0&&e.top-y<f.top&&(y=-(f.top+y-e.top+s)));else{let k=e.bottom-e.top,x=f.bottom-f.top;y=(r=="center"&&k<=x?e.top+k/2-x/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-x+s)-f.top}if(i=="nearest"?e.left<f.left?(g=-(f.left-e.left+o),t>0&&e.right>f.right+g&&(g=e.right-f.right+g+o)):e.right>f.right&&(g=e.right-f.right+o,t<0&&e.left<f.left+g&&(g=-(f.left+g-e.left+o))):g=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==a?e.left-o:e.right-(f.right-f.left)+o)-f.left,g||y)if(p)u.scrollBy(g,y);else{let k=0,x=0;if(y){let v=c.scrollTop;c.scrollTop+=y/m,x=(c.scrollTop-v)*m}if(g){let v=c.scrollLeft;c.scrollLeft+=g/h,k=(c.scrollLeft-v)*h}e={left:e.left-k,top:e.top-x,right:e.right-k,bottom:e.bottom-x},k&&Math.abs(k-g)<1&&(i="nearest"),x&&Math.abs(x-y)<1&&(r="nearest")}if(p)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function s5(n){let e=n.ownerDocument,t,i;for(let r=n.parentNode;r&&!(r==e.body||t&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:i}}class a5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?li(t):0),i,Math.min(e.focusOffset,i?li(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Rr=null;function t2(n){if(n.setActive)return n.setActive();if(Rr)return n.focus(Rr);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Rr==null?{get preventScroll(){return Rr={preventScroll:!0},!0}}:void 0),!Rr){Rr=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let hg;function _r(n,e,t=e){let i=hg||(hg=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Xr(n,e,t,i){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let o=new KeyboardEvent("keydown",r);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function l5(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function n2(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function u5(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,li(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=li(t))}else{if(t==n)return!0;i=xr(t),t=t.parentNode}}function i2(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function r2(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=li(t)}else if(t.parentNode&&!Pl(t))i=xr(t),t=t.parentNode;else return null}}function o2(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Pl(t))i=xr(t)+1,t=t.parentNode;else return null}}class ht{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new ht(e.parentNode,xr(e),t)}static after(e,t){return new ht(e.parentNode,xr(e)+1,t)}}const zf=[];class _e{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=r?r.nextSibling:i.firstChild)){let a=_e.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&o!=s.dom&&(t.written=!0),s.dom.parentNode==i)for(;o&&o!=s.dom;)o=pg(o);else i.insertBefore(s.dom,o);r=s.dom}for(o=r?r.nextSibling:i.firstChild,o&&t&&t.node==i&&(t.written=!0);o;)o=pg(o)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=li(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!_e.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,a=-1;for(let l=0,u=i,c=i;l<this.children.length;l++){let d=this.children[l],f=u+d.length;if(u<e&&f>t)return d.domBoundsAround(e,t,u);if(f>=e&&r==-1&&(r=l,o=u),u>t&&d.dom.parentNode==this.dom){s=l,a=c;break}c=f,u=f+d.breakAfter}return{from:o,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=zf){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&i.indexOf(o)<0&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new s2(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}_e.prototype.breakAfter=0;function pg(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class s2{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function a2(n,e,t,i,r,o,s,a,l){let{children:u}=n,c=u.length?u[e]:null,d=o.length?o[o.length-1]:null,f=d?d.breakAfter:s;if(!(e==i&&c&&!s&&!f&&o.length<2&&c.merge(t,r,o.length?d:null,t==0,a,l))){if(i<u.length){let p=u[i];p&&(r<p.length||p.breakAfter&&(d!=null&&d.breakAfter))?(e==i&&(p=p.split(r),r=0),!f&&d&&p.merge(0,r,d,!0,0,l)?o[o.length-1]=p:((r||p.children.length&&!p.children[0].length)&&p.merge(0,r,null,!1,0,l),o.push(p))):p!=null&&p.breakAfter&&(d?d.breakAfter=1:s=1),i++}for(c&&(c.breakAfter=s,t>0&&(!s&&o.length&&c.merge(t,c.length,o[0],!1,a,0)?c.breakAfter=o.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<i&&o.length;)if(u[i-1].become(o[o.length-1]))i--,o.pop(),l=o.length?0:a;else if(u[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,a,l)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function l2(n,e,t,i,r,o){let s=n.childCursor(),{i:a,off:l}=s.findPos(t,1),{i:u,off:c}=s.findPos(e,-1),d=e-t;for(let f of i)d+=f.length;n.length+=d,a2(n,u,c,a,l,i,0,r,o)}let Tt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},cd=typeof document<"u"?document:{documentElement:{style:{}}};const dd=/Edge\/(\d+)/.exec(Tt.userAgent),u2=/MSIE \d/.test(Tt.userAgent),fd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tt.userAgent),du=!!(u2||fd||dd),mg=!du&&/gecko\/(\d+)/i.test(Tt.userAgent),ac=!du&&/Chrome\/(\d+)/.exec(Tt.userAgent),gg="webkitFontSmoothing"in cd.documentElement.style,c2=!du&&/Apple Computer/.test(Tt.vendor),yg=c2&&(/Mobile\/\w+/.test(Tt.userAgent)||Tt.maxTouchPoints>2);var Y={mac:yg||/Mac/.test(Tt.platform),windows:/Win/.test(Tt.platform),linux:/Linux|X11/.test(Tt.platform),ie:du,ie_version:u2?cd.documentMode||6:fd?+fd[1]:dd?+dd[1]:0,gecko:mg,gecko_version:mg?+(/Firefox\/(\d+)/.exec(Tt.userAgent)||[0,0])[1]:0,chrome:!!ac,chrome_version:ac?+ac[1]:0,ios:yg,android:/Android\b/.test(Tt.userAgent),webkit:gg,safari:c2,webkit_version:gg?+(/\bAppleWebKit\/(\d+)/.exec(Tt.userAgent)||[0,0])[1]:0,tabSize:cd.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const c5=256;class dn extends _e{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof dn)||this.length-(t-e)+i.length>c5||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new dn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new ht(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return d5(this.dom,e,t)}}class ui extends _e{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(n2(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,o,s){return i&&(!(i instanceof ui&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(l2(this,e,t,i?i.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=o),i=l,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new ui(this.mark,t,s)}domAtPos(e){return d2(this,e)}coordsAt(e,t){return h2(this,e,t)}}function d5(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?Y.chrome||Y.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let a=_r(n,r,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:t>=0)?0:a.length-1];return Y.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),s?Vf(l,s<0):l||null}class ar extends _e{static create(e,t,i){return new ar(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=ar.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof ar)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof ar&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return be.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):be.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ht.before(this.dom):ht.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?r.length-1:0;o=r[a],!(e>0?a==0:a==r.length-1||o.top<o.bottom);a+=s?-1:1);return Vf(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class mo extends _e{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof mo&&e.side==this.side}split(){return new mo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ht.before(this.dom):ht.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return be.empty}get isHidden(){return!0}}dn.prototype.children=ar.prototype.children=mo.prototype.children=zf;function d2(n,e){let t=n.dom,{children:i}=n,r=0;for(let o=0;r<i.length;r++){let s=i[r],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=r;o>0;o--){let s=i[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=r;o<i.length;o++){let s=i[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new ht(t,0)}function f2(n,e,t){let i,{children:r}=n;t>0&&e instanceof ui&&r.length&&(i=r[r.length-1])instanceof ui&&i.mark.eq(e.mark)?f2(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function h2(n,e,t){let i=null,r=-1,o=null,s=-1;function a(u,c){for(let d=0,f=0;d<u.children.length&&f<=c;d++){let p=u.children[d],h=f+p.length;h>=c&&(p.children.length?a(p,c-f):(!o||o.isHidden&&t>0)&&(h>c||f==h&&p.getSide()>0)?(o=p,s=c-f):(f<c||f==h&&p.getSide()<0&&!p.isHidden)&&(i=p,r=c-f)),f=h}}a(n,e);let l=(t<0?i:o)||i||o;return l?l.coordsAt(Math.max(0,l==i?r:s),t):f5(n)}function f5(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Ws(e);return t[t.length-1]||null}function hd(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const bg=Object.create(null);function Ml(n,e,t){if(n==e)return!0;n||(n=bg),e||(e=bg);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let o of i)if(o!=t&&(r.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function pd(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function h5(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Ve extends _e{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof Ve))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),l2(this,e,t,i?i.children.slice():[],o,s),!0}split(e){let t=new Ve;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ml(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){f2(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=hd(t,this.attrs||{})),i&&(this.attrs=hd({class:i},this.attrs||{}))}domAtPos(e){return d2(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(n2(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(pd(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&_e.get(r)instanceof ui;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=_e.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!Y.ios||!this.children.some(o=>o instanceof dn))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof dn)||/[^ -~]/.test(i.text))return null;let r=Ws(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=h2(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=i.bottom-i.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let s=(o-r.textHeight)/2;return{top:i.top+s,bottom:i.bottom-s,left:i.left,right:i.left}}}return i}become(e){return e instanceof Ve&&this.children.length==0&&e.children.length==0&&Ml(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof Ve)return o;if(s>t)break}r=s+o.breakAfter}return null}}class ri extends _e{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof ri)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?ht.before(this.dom):ht.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new ri(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return zf}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):be.empty}domBoundsAround(){return null}become(e){return e instanceof ri&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class $f{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var qt=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(qt||(qt={}));class Qe extends po{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new ua(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new $i(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=p2(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new $i(e,i,r,t,e.widget||null,!0)}static line(e){return new ca(e)}static set(e,t=!1){return Oe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Qe.none=Oe.empty;class ua extends Qe{constructor(e){let{start:t,end:i}=p2(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof ua&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Ml(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ua.prototype.point=!1;class ca extends Qe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ca&&this.spec.class==e.spec.class&&Ml(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ca.prototype.mapMode=Vt.TrackBefore;ca.prototype.point=!0;class $i extends Qe{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?Vt.TrackBefore:Vt.TrackAfter:Vt.TrackDel}get type(){return this.startSide!=this.endSide?qt.WidgetRange:this.startSide<=0?qt.WidgetBefore:qt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof $i&&p5(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}$i.prototype.point=!0;function p2(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function p5(n,e){return n==e||!!(n&&e&&n.compare(e))}function md(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class fs{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ri&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ve),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Na(new mo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ri)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Na(new dn(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof $i){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof $i)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ri(i.widget||go.block,a,i));else{let l=ar.create(i.widget||go.inline,a,a?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&o<=r.length&&(e<t||i.startSide>0),c=!l.isEditable&&(e<t||o>r.length||i.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),u&&(d.append(Na(new mo(1),r),o),o=r.length+Math.max(0,o-r.length)),d.append(Na(l,r),o),this.atCursorPos=c,this.pendingBuffer=c?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new fs(e,t,i,o);return s.openEnd=Oe.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Na(n,e){for(let t of e)n=new ui(t,[n],n.length);return n}class go extends $f{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}go.inline=new go("span");go.block=new go("div");var Ne=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Ne||(Ne={}));const Sr=Ne.LTR,qf=Ne.RTL;function m2(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const m5=m2("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),g5=m2("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),gd=Object.create(null),yn=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);gd[e]=t,gd[t]=-e}function g2(n){return n<=247?m5[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?g5[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const y5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Mi{get dir(){return this.level%2?qf:Sr}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==i)return s;(o<0||(r!=0?r<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function y2(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!y2(i.inner,r.inner))return!1}return!0}const xe=[];function b5(n,e,t,i,r){for(let o=0;o<=i.length;o++){let s=o?i[o-1].to:e,a=o<i.length?i[o].from:t,l=o?256:r;for(let u=s,c=l,d=l;u<a;u++){let f=g2(n.charCodeAt(u));f==512?f=c:f==8&&d==4&&(f=16),xe[u]=f==4?2:f,f&7&&(d=f),c=f}for(let u=s,c=l,d=l;u<a;u++){let f=xe[u];if(f==128)u<a-1&&c==xe[u+1]&&c&24?f=xe[u]=c:xe[u]=256;else if(f==64){let p=u+1;for(;p<a&&xe[p]==64;)p++;let h=u&&c==8||p<t&&xe[p]==8?d==1?1:8:256;for(let m=u;m<p;m++)xe[m]=h;u=p-1}else f==8&&d==1&&(xe[u]=1);c=f,f&7&&(d=f)}}}function k5(n,e,t,i,r){let o=r==1?2:1;for(let s=0,a=0,l=0;s<=i.length;s++){let u=s?i[s-1].to:e,c=s<i.length?i[s].from:t;for(let d=u,f,p,h;d<c;d++)if(p=gd[f=n.charCodeAt(d)])if(p<0){for(let m=a-3;m>=0;m-=3)if(yn[m+1]==-p){let g=yn[m+2],y=g&2?r:g&4?g&1?o:r:0;y&&(xe[d]=xe[yn[m]]=y),a=m;break}}else{if(yn.length==189)break;yn[a++]=d,yn[a++]=f,yn[a++]=l}else if((h=xe[d])==2||h==1){let m=h==r;l=m?0:1;for(let g=a-3;g>=0;g-=3){let y=yn[g+2];if(y&2)break;if(m)yn[g+2]|=2;else{if(y&4)break;yn[g+2]|=4}}}}}function v5(n,e,t,i){for(let r=0,o=i;r<=t.length;r++){let s=r?t[r-1].to:n,a=r<t.length?t[r].from:e;for(let l=s;l<a;){let u=xe[l];if(u==256){let c=l+1;for(;;)if(c==a){if(r==t.length)break;c=t[r++].to,a=r<t.length?t[r].from:e}else if(xe[c]==256)c++;else break;let d=o==1,f=(c<e?xe[c]:i)==1,p=d==f?d?1:2:i;for(let h=c,m=r,g=m?t[m-1].to:n;h>l;)h==g&&(h=t[--m].from,g=m?t[m-1].to:n),xe[--h]=p;l=c}else o=u,l++}}}function yd(n,e,t,i,r,o,s){let a=i%2?2:1;if(i%2==r%2)for(let l=e,u=0;l<t;){let c=!0,d=!1;if(u==o.length||l<o[u].from){let m=xe[l];m!=a&&(c=!1,d=m==16)}let f=!c&&a==1?[]:null,p=c?i:i+1,h=l;e:for(;;)if(u<o.length&&h==o[u].from){if(d)break e;let m=o[u];if(!c)for(let g=m.to,y=u+1;;){if(g==t)break e;if(y<o.length&&o[y].from==g)g=o[y++].to;else{if(xe[g]==a)break e;break}}if(u++,f)f.push(m);else{m.from>l&&s.push(new Mi(l,m.from,p));let g=m.direction==Sr!=!(p%2);bd(n,g?i+1:i,r,m.inner,m.from,m.to,s),l=m.to}h=m.to}else{if(h==t||(c?xe[h]!=a:xe[h]==a))break;h++}f?yd(n,l,h,i+1,r,f,s):l<h&&s.push(new Mi(l,h,p)),l=h}else for(let l=t,u=o.length;l>e;){let c=!0,d=!1;if(!u||l>o[u-1].to){let m=xe[l-1];m!=a&&(c=!1,d=m==16)}let f=!c&&a==1?[]:null,p=c?i:i+1,h=l;e:for(;;)if(u&&h==o[u-1].to){if(d)break e;let m=o[--u];if(!c)for(let g=m.from,y=u;;){if(g==e)break e;if(y&&o[y-1].to==g)g=o[--y].from;else{if(xe[g-1]==a)break e;break}}if(f)f.push(m);else{m.to<l&&s.push(new Mi(m.to,l,p));let g=m.direction==Sr!=!(p%2);bd(n,g?i+1:i,r,m.inner,m.from,m.to,s),l=m.from}h=m.from}else{if(h==e||(c?xe[h-1]!=a:xe[h-1]==a))break;h--}f?yd(n,h,l,i+1,r,f,s):h<l&&s.push(new Mi(h,l,p)),l=h}}function bd(n,e,t,i,r,o,s){let a=e%2?2:1;b5(n,r,o,i,a),k5(n,r,o,i,a),v5(r,o,i,a),yd(n,r,o,e,t,i,s)}function w5(n,e,t){if(!n)return[new Mi(0,0,e==qf?1:0)];if(e==Sr&&!t.length&&!y5.test(n))return b2(n.length);if(t.length)for(;n.length>xe.length;)xe[xe.length]=256;let i=[],r=e==Sr?0:1;return bd(n,r,r,t,0,n.length,i),i}function b2(n){return[new Mi(0,n,0)]}let k2="";function x5(n,e,t,i,r){var o;let s=i.head-n.from,a=Mi.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc),l=e[a],u=l.side(r,t);if(s==u){let f=a+=r?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],s=l.side(!r,t),u=l.side(r,t)}let c=St(n.text,s,l.forward(r,t));(c<l.from||c>l.to)&&(c=u),k2=n.text.slice(Math.min(s,c),Math.max(s,c));let d=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return d&&c==u&&d.level+(r?0:1)<l.level?$.cursor(d.side(!r,t)+n.from,d.forward(r,t)?1:-1,d.level):$.cursor(c+n.from,l.forward(r,t)?-1:1,l.level)}function _5(n,e,t){for(let i=e;i<t;i++){let r=g2(n.charCodeAt(i));if(r==1)return Sr;if(r==2||r==4)return qf}return Sr}const v2=oe.define(),w2=oe.define(),x2=oe.define(),_2=oe.define(),kd=oe.define(),S2=oe.define(),j2=oe.define(),C2=oe.define({combine:n=>n.some(e=>e)}),A2=oe.define({combine:n=>n.some(e=>e)}),E2=oe.define();class Qr{constructor(e,t="nearest",i="nearest",r=5,o=5,s=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new Qr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Qr($.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ia=He.define({map:(n,e)=>n.map(e)}),O2=He.define();function Dn(n,e,t){let i=n.facet(_2);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Si=oe.define({combine:n=>n.length?n[0]:!0});let S5=0;const Yo=oe.define();class qi{constructor(e,t,i,r,o){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=o(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:o,decorations:s}=t||{};return new qi(S5++,e,i,r,a=>{let l=[Yo.of(a)];return s&&l.push(Ks.of(u=>{let c=u.plugin(a);return c?s(c):Qe.none})),o&&l.push(o(a)),l})}static fromClass(e,t){return qi.define(i=>new e(i),t)}}class lc{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Dn(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Dn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Dn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const D2=oe.define(),Hf=oe.define(),Ks=oe.define(),T2=oe.define(),Wf=oe.define(),P2=oe.define();function kg(n,e){let t=n.state.facet(P2);if(!t.length)return t;let i=t.map(o=>o instanceof Function?o(n):o),r=[];return Oe.spans(i,e.from,e.to,{point(){},span(o,s,a,l){let u=o-e.from,c=s-e.from,d=r;for(let f=a.length-1;f>=0;f--,l--){let p=a[f].spec.bidiIsolate,h;if(p==null&&(p=_5(e.text,u,c)),l>0&&d.length&&(h=d[d.length-1]).to==u&&h.direction==p)h.to=c,d=h.inner;else{let m={from:u,to:c,direction:p,inner:[]};d.push(m),d=m.inner}}}}),r}const M2=oe.define();function F2(n){let e=0,t=0,i=0,r=0;for(let o of n.state.facet(M2)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(i=Math.max(i,s.top)),s.bottom!=null&&(r=Math.max(r,s.bottom)))}return{left:e,right:t,top:i,bottom:r}}const Zo=oe.define();class Xt{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Xt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,a=0;;r++){let l=r==e.length?null:e[r],u=s-a,c=l?l.fromB:1e9;for(;o<t.length&&t[o]<c;){let d=t[o],f=t[o+1],p=Math.max(a,d),h=Math.min(c,f);if(p<=h&&new Xt(p+u,h+u,p,h).addToSet(i),f>c)break;o+=2}if(!l)return i;new Xt(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),s=l.toA,a=l.toB}}}class Fl{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ge.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,s,a,l)=>r.push(new Xt(o,s,a,l))),this.changedRanges=r}static create(e,t,i){return new Fl(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class vg extends _e{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Qe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ve],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Xt(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!T5(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let o=r>-1?C5(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;i=new Xt(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Y.ie||Y.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=O5(s,a,e.changes);return i=Xt.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Y.chrome||Y.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ri&&s.widget instanceof wg&&o.push(s.dom);r.updateGaps(o)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=r.length-1;;s--){let a=s>=0?r[s]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:d}=a,f,p,h,m;if(i&&i.range.fromB<d&&i.range.toB>c){let v=fs.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),w=fs.build(this.view.state.doc,i.range.toB,d,this.decorations,this.dynamicDecorationMap);p=v.breakAtStart,h=v.openStart,m=w.openEnd;let _=this.compositionView(i);w.breakAtStart?_.breakAfter=1:w.content.length&&_.merge(_.length,_.length,w.content[0],!1,w.openStart,0)&&(_.breakAfter=w.content[0].breakAfter,w.content.shift()),v.content.length&&_.merge(0,0,v.content[v.content.length-1],!0,0,v.openEnd)&&v.content.pop(),f=v.content.concat(_).concat(w.content)}else({content:f,breakAtStart:p,openStart:h,openEnd:m}=fs.build(this.view.state.doc,c,d,this.decorations,this.dynamicDecorationMap));let{i:g,off:y}=o.findPos(u,1),{i:k,off:x}=o.findPos(l,-1);a2(this,k,x,g,y,f,p,h,m)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(O2)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new dn(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new ui(r,[t],t.length);let i=new Ve;return i.append(t,0),i}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=_e.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)i=r.childPos(i.off,1),r=r.children[i.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,o=!r&&rl(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Y.gecko&&a.empty&&!this.hasComposition&&j5(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=u=new ht(d,0),s=!0}let c=this.view.observer.selectionRange;(s||!c.focusNode||(!ds(l.node,l.offset,c.anchorNode,c.anchorOffset)||!ds(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{Y.android&&Y.chrome&&this.dom.contains(c.focusNode)&&D5(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Hs(this.view.root);if(d)if(a.empty){if(Y.gecko){let f=A5(l.node,l.offset);if(f&&f!=3){let p=(f==1?r2:o2)(l.node,l.offset);p&&(l=new ht(p.node,p.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),f.setEnd(u.node,u.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new ht(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new ht(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ds(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Hs(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let s=Ve.find(this,t.head);if(!s)return;let a=s.posAtStart;if(t.head==a||t.head==a+s.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&i.collapse(r,o)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let o=_e.get(t.childNodes[r]);o instanceof Ve&&(i=o.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let o=_e.get(t.childNodes[r]);o instanceof Ve&&(i=o.domAtPos(o.length))}return i?new ht(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=_e.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Ve)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof Ve&&!(i instanceof Ve&&t>=0)))i=a,r=u;else if(i&&u==e&&l==e&&a instanceof ri&&Math.abs(t)<2){if(a.deco.startSide<0)break;s&&(i=null)}o=u}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Ve))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof dn))return null;let o=St(r.text,i);if(o==i)return null;let s=_r(r.dom,i,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Ne.LTR;for(let u=0,c=0;c<this.children.length;c++){let d=this.children[c],f=u+d.length;if(f>r)break;if(u>=i){let p=d.dom.getBoundingClientRect();if(t.push(p.height),s){let h=d.dom.lastChild,m=h?Ws(h):[];if(m.length){let g=m[m.length-1],y=l?g.right-p.left:p.right-g.left;y>a&&(a=y,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ne.RTL:Ne.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Ve){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Ws(e.firstChild)[0];t=e.getBoundingClientRect().height,i=o?o.width/27:7,r=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new s2(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let a=(t.lineBlockAt(s).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Qe.replace({widget:new wg(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return Qe.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Ks).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),i=!1,r=this.view.state.facet(T2).map((o,s)=>{let a=typeof o=="function";return a&&(i=!0),a?o(this.view):o});for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(Oe.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(E2))try{if(u(this.view,e.range,e))return!0}catch(c){Dn(this.view.state,c,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=F2(this.view),s={left:i.left-o.left,top:i.top-o.top,right:i.right+o.right,bottom:i.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;o5(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Ne.LTR)}}function j5(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class wg extends $f{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function B2(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=r2(t.focusNode,t.focusOffset),r=o2(t.focusNode,t.focusOffset),o=i||r;if(r&&i&&r.node!=i.node){let a=_e.get(r.node);if(!a||a instanceof dn&&a.text!=r.node.nodeValue)o=r;else if(n.docView.lastCompositionAfterCursor){let l=_e.get(i.node);!l||l instanceof dn&&l.text!=i.node.nodeValue||(o=r)}}if(n.docView.lastCompositionAfterCursor=o!=i,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function C5(n,e,t){let i=B2(n,t);if(!i)return null;let{node:r,from:o,to:s}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,u=new Xt(l.mapPos(o),l.mapPos(s),o,s),c=[];for(let d=r.parentNode;;d=d.parentNode){let f=_e.get(d);if(f instanceof ui)c.push({node:d,deco:f.mark});else{if(f instanceof Ve||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:u,text:r,marks:c,line:d};if(d!=n.contentDOM)c.push({node:d,deco:new ua({inclusive:!0,attributes:h5(d),tagName:d.tagName.toLowerCase()})});else return null}}}function A5(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let E5=class{constructor(){this.changes=[]}compareRange(e,t){md(e,t,this.changes)}comparePoint(e,t){md(e,t,this.changes)}};function O5(n,e,t){let i=new E5;return Oe.compare(n,e,t,i),i.changes}function D5(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function T5(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function P5(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return $.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,a=o;t<0?s=St(r.text,o,!1):a=St(r.text,o);let l=i(r.text.slice(s,a));for(;s>0;){let u=St(r.text,s,!1);if(i(r.text.slice(u,s))!=l)break;s=u}for(;a<r.length;){let u=St(r.text,a);if(i(r.text.slice(a,u))!=l)break;a=u}return $.range(s+r.from,a+r.from)}function M5(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function F5(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function uc(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function xg(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function _g(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function vd(n,e,t){let i,r,o,s,a=!1,l,u,c,d;for(let h=n.firstChild;h;h=h.nextSibling){let m=Ws(h);for(let g=0;g<m.length;g++){let y=m[g];r&&uc(r,y)&&(y=xg(_g(y,r.bottom),r.top));let k=M5(e,y),x=F5(t,y);if(k==0&&x==0)return h.nodeType==3?Sg(h,e,t):vd(h,e,t);if(!i||s>x||s==x&&o>k){i=h,r=y,o=k,s=x;let v=x?t<y.top?-1:1:k?e<y.left?-1:1:0;a=!v||(v>0?g<m.length-1:g>0)}k==0?t>y.bottom&&(!c||c.bottom<y.bottom)?(l=h,c=y):t<y.top&&(!d||d.top>y.top)&&(u=h,d=y):c&&uc(c,y)?c=_g(c,y.bottom):d&&uc(d,y)&&(d=xg(d,y.top))}}if(c&&c.bottom>=t?(i=l,r=c):d&&d.top<=t&&(i=u,r=d),!i)return{node:n,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return Sg(i,f,t);if(a&&i.contentEditable!="false")return vd(i,f,t);let p=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:p}}function Sg(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<i;a++){let l=_r(n,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;s||(s=e-c.left);let d=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&d<o){let f=e>=(c.left+c.right)/2,p=f;if((Y.chrome||Y.gecko)&&_r(n,a).getBoundingClientRect().left==c.right&&(p=!f),d<=0)return{node:n,offset:a+(p?1:0)};r=a+(p?1:0),o=d}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function N2(n,e,t,i=-1){var r,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,l,{docHeight:u}=n.viewState,{x:c,y:d}=e,f=d-a;if(f<0)return 0;if(f>u)return n.state.doc.length;for(let v=n.viewState.heightOracle.textHeight/2,w=!1;l=n.elementAtHeight(f),l.type!=qt.Text;)for(;f=i>0?l.bottom+v:l.top-v,!(f>=0&&f<=u);){if(w)return t?null:0;w=!0,i=-i}d=a+f;let p=l.from;if(p<n.viewport.from)return n.viewport.from==0?0:t?null:jg(n,s,l,c,d);if(p>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:jg(n,s,l,c,d);let h=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:h,g=m.elementFromPoint(c,d);g&&!n.contentDOM.contains(g)&&(g=null),g||(c=Math.max(s.left+1,Math.min(s.right-1,c)),g=m.elementFromPoint(c,d),g&&!n.contentDOM.contains(g)&&(g=null));let y,k=-1;if(g&&((r=n.docView.nearest(g))===null||r===void 0?void 0:r.isEditable)!=!1){if(h.caretPositionFromPoint){let v=h.caretPositionFromPoint(c,d);v&&({offsetNode:y,offset:k}=v)}else if(h.caretRangeFromPoint){let v=h.caretRangeFromPoint(c,d);v&&({startContainer:y,startOffset:k}=v,(!n.contentDOM.contains(y)||Y.safari&&B5(y,k,c)||Y.chrome&&N5(y,k,c))&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let v=Ve.find(n.docView,p);if(!v)return f>l.top+l.height/2?l.to:l.from;({node:y,offset:k}=vd(v.dom,c,d))}let x=n.docView.nearest(y);if(!x)return null;if(x.isWidget&&((o=x.dom)===null||o===void 0?void 0:o.nodeType)==1){let v=x.dom.getBoundingClientRect();return e.y<v.top||e.y<=v.bottom&&e.x<=(v.left+v.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(y,k)+x.posAtStart}function jg(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(n.defaultLineHeight-a)*.5)/a);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+t5(s,o,n.state.tabSize)}function B5(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return _r(n,i-1,i).getBoundingClientRect().left>t}function N5(n,e,t){if(e!=0)return!1;for(let r=n;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let i=n.nodeType==1?n.getBoundingClientRect():_r(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function wd(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==qt.Text))return i}return t}function I5(n,e,t,i){let r=wd(n,e.head),o=!i||r.type!=qt.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(r.from),l=n.posAtCoords({x:t==(a==Ne.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return $.cursor(l,t?-1:1)}return $.cursor(t?r.to:r.from,t?-1:1)}function Cg(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let a=e,l=null;;){let u=x5(r,o,s,a,t),c=k2;if(!u){if(r.number==(t?n.state.doc.lines:1))return a;c=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),u=n.visualLineSide(r,!t)}if(l){if(!l(c))return a}else{if(!i)return u;l=i(c)}a=u}}function R5(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==Zn.Space&&(r=s),r==s}}function L5(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return $.cursor(r,e.assoc);let s=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(r,e.assoc||-1),c=n.documentTop;if(u)s==null&&(s=u.left-l.left),a=o<0?u.top:u.bottom;else{let p=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-p.from))),a=(o<0?p.top:p.bottom)+c}let d=l.left+s,f=i??n.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let h=a+(f+p)*o,m=N2(n,{x:d,y:h},!1,o);if(h<l.top||h>l.bottom||(o<0?m<r:m>r)){let g=n.docView.coordsForChar(m),y=!g||h<g.top?-1:1;return $.cursor(m,y,void 0,s)}}}function ol(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=i||t||(e-o<s-e?-1:1);e=l<0?o:s,i=l}});if(!i)return e}}function cc(n,e,t){let i=ol(n.state.facet(Wf).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:$.cursor(i,i<t.from?1:-1)}const Xo="";class V5{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(ke.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Xo}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let o=this.text.length;this.readNode(r);let s=r.nextSibling;if(s==t)break;let a=_e.get(r),l=_e.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:Pl(r))||Pl(s)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>o)&&this.lineBreak(),r=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(a=r.exec(t))&&(o=a.index,s=a[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=_e.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(z5(e,i.node,i.offset)?t:0))}}function z5(n,e,t){for(;;){if(!e||t<li(e))return!1;if(e==n)return!0;t=xr(e)+1,e=e.parentNode}}class Ag{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class $5{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=o||s?[]:W5(e),l=new V5(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=K5(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!ud(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!ud(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((Y.ios||Y.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let d=Math.min(l,u),f=Math.max(l,u),p=c.from-d,h=c.to-f;(p==0||p==1||d==0)&&(h==0||h==-1||f==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=$.single(u,l)}}}function I2(n,e){let t,{newSel:i}=e,r=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=r.from,u=null;(o===8||Y.android&&e.text.length<a-s)&&(l=r.to,u="end");let c=H5(n.state.doc.sliceString(s,a,Xo),e.text,l-s,u);c&&(Y.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Xo+Xo&&c.toB--,t={from:s+c.from,to:s+c.toA,insert:be.of(e.text.slice(c.from,c.toB).split(Xo))})}else i&&(!n.hasFocus&&n.state.facet(Si)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:(Y.mac||Y.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=$.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:be.of([" "])}):Y.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=$.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:be.of([" "])}),t)return Kf(n,t,i,o);if(i&&!i.main.eq(r)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:s,userEvent:a}),!0}else return!1}function Kf(n,e,t,i=-1){if(Y.ios&&n.inputState.flushIOSKey(e))return!0;let r=n.state.selection.main;if(Y.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&n.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Xr(n.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Xr(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Xr(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,a=()=>s||(s=q5(n,e,t));return n.state.facet(S2).some(l=>l(n,e.from,e.to,o,a))||n.dispatch(a()),!0}function q5(n,e,t){let i,r=n.state,o=r.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=o.from<e.from?r.sliceDoc(o.from,e.from):"",l=o.to>e.to?r.sliceDoc(e.to,o.to):"";i=r.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=r.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let u=n.state.sliceDoc(e.from,e.to),c,d=t&&B2(n,t.main.head);if(d){let h=e.insert.length-(e.to-e.from);c={from:d.from,to:d.to-h}}else c=n.state.doc.lineAt(o.head);let f=o.to-e.to,p=o.to-o.from;i=r.changeByRange(h=>{if(h.from==o.from&&h.to==o.to)return{changes:a,range:l||h.map(a)};let m=h.to-f,g=m-u.length;if(h.to-h.from!=p||n.state.sliceDoc(g,m)!=u||h.to>=c.from&&h.from<=c.to)return{range:h};let y=r.changes({from:g,to:m,insert:e.insert}),k=h.to-o.to;return{changes:y,range:l?$.range(Math.max(0,l.anchor+k),Math.max(0,l.head+k)):h.map(y)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:s,scrollIntoView:!0})}function H5(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,a=e.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(i=="end"){let l=Math.max(0,o-Math.min(s,a));t-=s+l-o}if(s<o&&n.length<e.length){let l=t<=o&&t>=s?o-t:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=t<=o&&t>=a?o-t:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function W5(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new Ag(t,i)),(r!=t||o!=i)&&e.push(new Ag(r,o))),e}function K5(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?$.single(t+e,i+e):null}class U5{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Y.safari&&e.contentDOM.addEventListener("input",()=>null),Y.gecko&&uF(e.contentDOM.ownerDocument)}handleEvent(e){!tF(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=J5(e),i=this.handlers,r=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,a=i[o];a&&s!=!a.handlers.length&&(r.removeEventListener(o,this.handleEvent),a=null),a||r.addEventListener(o,this.handleEvent,{passive:s})}for(let o in i)o!="scroll"&&!t[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&L2.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Y.android&&Y.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Y.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=R2.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||G5.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Xr(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Y.safari&&!Y.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Eg(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Dn(t.state,r)}}}function J5(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec;if(r&&r.domEventHandlers)for(let o in r.domEventHandlers){let s=r.domEventHandlers[o];s&&t(o).handlers.push(Eg(i.value,s))}if(r&&r.domEventObservers)for(let o in r.domEventObservers){let s=r.domEventObservers[o];s&&t(o).observers.push(Eg(i.value,s))}}for(let i in fn)t(i).handlers.push(fn[i]);for(let i in nn)t(i).observers.push(nn[i]);return e}const R2=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],G5="dthko",L2=[16,17,18,20,91,92,224,225],Ra=6;function La(n){return Math.max(0,n)*.7+8}function Y5(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Z5{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=s5(e.contentDOM),this.atoms=e.state.facet(Wf).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ke.allowMultipleSelections)&&X5(e,t),this.dragging=eF(e,t)&&$2(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Y5(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=F2(this.view);e.clientX-l.left<=r+Ra?t=-La(r-e.clientX):e.clientX+l.right>=s-Ra&&(t=La(e.clientX-s)),e.clientY-l.top<=o+Ra?i=-La(o-e.clientY):e.clientY+l.bottom>=a-Ra&&(i=La(e.clientY-a)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],o=null;if(r.empty){let s=ol(this.atoms,r.from,0);s!=r.from&&(o=$.cursor(s,-1))}else{let s=ol(this.atoms,r.from,-1),a=ol(this.atoms,r.to,1);(s!=r.from||a!=r.to)&&(o=$.range(r.from==r.anchor?s:a,r.from==r.head?s:a))}o&&(t||(t=e.ranges.slice()),t[i]=o)}return t?$.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function X5(n,e){let t=n.state.facet(v2);return t.length?t[0](e):Y.mac?e.metaKey:e.ctrlKey}function Q5(n,e){let t=n.state.facet(w2);return t.length?t[0](e):Y.mac?!e.altKey:!e.ctrlKey}function eF(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Hs(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function tF(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=_e.get(t))&&i.ignoreEvent(e))return!1;return!0}const fn=Object.create(null),nn=Object.create(null),V2=Y.ie&&Y.ie_version<15||Y.ios&&Y.webkit_version<604;function nF(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),z2(n,t.value)},50)}function z2(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(xd!=null&&t.selection.ranges.every(l=>l.empty)&&xd==o.toString()){let l=-1;i=t.changeByRange(u=>{let c=t.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let d=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:d},range:$.cursor(u.from+d.length)}})}else s?i=t.changeByRange(l=>{let u=o.line(r++);return{changes:{from:l.from,to:l.to,insert:u.text},range:$.cursor(l.from+u.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}nn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};fn.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);nn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};nn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};fn.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(x2))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=oF(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new Z5(n,e,t,i)),i&&n.observer.ignore(()=>{t2(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Og(n,e,t,i){if(i==1)return $.cursor(e,t);if(i==2)return P5(n.state,e,t);{let r=Ve.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,a=r?r.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,$.range(s,a)}}let Dg=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function iF(n,e,t,i){let r=Ve.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&Dg(t,i,s))return-1;let a=r.coordsAt(o,1);return a&&Dg(t,i,a)?1:s&&s.bottom>=i?-1:1}function Tg(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:iF(n,t,e.clientX,e.clientY)}}const rF=Y.ie&&Y.ie_version<=11;let Pg=null,Mg=0,Fg=0;function $2(n){if(!rF)return n.detail;let e=Pg,t=Fg;return Pg=n,Fg=Date.now(),Mg=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Mg+1)%3:1}function oF(n,e){let t=Tg(n,e),i=$2(e),r=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),r=r.map(o.changes))},get(o,s,a){let l=Tg(n,o),u,c=Og(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!s){let d=Og(n,t.pos,t.bias,i),f=Math.min(d.from,c.from),p=Math.max(d.to,c.to);c=f<c.from?$.range(f,p):$.range(p,f)}return s?r.replaceRange(r.main.extend(c.from,c.to)):a&&i==1&&r.ranges.length>1&&(u=sF(r,l.pos))?u:a?r.addRange(c):$.create([c])}}}function sF(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return $.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}fn.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.nearest(e.target);if(r&&r.isWidget){let o=r.posAtStart,s=o+r.length;(o>=t.to||s<=t.from)&&(t=$.range(o,s))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};fn.dragend=n=>(n.inputState.draggedContent=null,!1);function Bg(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=i&&o&&Q5(n,e)?{from:o.from,to:o.to}:null,a={from:r,insert:t},l=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}fn.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,o=()=>{++r==t.length&&Bg(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[s]=a.result),o()},a.readAsText(t[s])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Bg(n,e,i,!0),!0}return!1};fn.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=V2?null:e.clipboardData;return t?(z2(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(nF(n),!1)};function aF(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function lF(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let xd=null;fn.copy=fn.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=lF(n.state);if(!t&&!r)return!1;xd=r?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let o=V2?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(aF(n,t),!1)};const q2=Ao.define();function H2(n,e){let t=[];for(let i of n.facet(j2)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:q2.of(!0)}):null}function W2(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=H2(n.state,e);t?n.dispatch(t):n.update([])}},10)}nn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),W2(n)};nn.blur=n=>{n.observer.clearSelectionRange(),W2(n)};nn.compositionstart=nn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};nn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Y.chrome&&Y.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};nn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};fn.beforeinput=(n,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=n.posAtDOM(a.startContainer,a.startOffset),u=n.posAtDOM(a.endContainer,a.endOffset);return Kf(n,{from:l,to:u,insert:n.state.toText(o)},null),!0}}let r;if(Y.chrome&&Y.android&&(r=R2.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let o=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Y.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Y.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>nn.compositionend(n,e),20),!1};const Ng=new Set;function uF(n){Ng.has(n)||(Ng.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Ig=["pre-wrap","normal","pre-line","break-spaces"];let yo=!1;function Rg(){yo=!1}class cF{constructor(e){this.lineWrapping=e,this.doc=be.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ig.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o,s){let a=Ig.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=o,l){this.heightSamples={};for(let u=0;u<s.length;u++){let c=s[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class dF{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class jn{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this._content=o}get type(){return typeof this._content=="number"?qt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $i?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new jn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ee=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Ee||(Ee={}));const sl=.001;class jt{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>sl&&(yo=!0),this.height=e)}replace(e,t,i){return jt.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this,s=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:d}=r[a],f=o.lineAt(l,Ee.ByPosNoHeight,i.setDoc(t),0,0),p=f.to>=u?f:o.lineAt(u,Ee.ByPosNoHeight,i,0,0);for(d+=p.to-u,u=p.to;a>0&&f.from<=r[a-1].toA;)l=r[a-1].fromA,c=r[a-1].fromB,a--,l<f.from&&(f=o.lineAt(l,Ee.ByPosNoHeight,i,0,0));c+=f.from-l,l=f.from;let h=Uf.build(i.setDoc(s),e,c,d);o=Bl(o,o.replace(l,u,h))}return o.updateHeight(i,0)}static empty(){return new Rt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(o>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,o-=a.size}else break;else if(r<o){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(o+=a.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new fF(jt.of(e.slice(0,t)),s,jt.of(e.slice(i)))}}function Bl(n,e){return n==e?n:(n.constructor!=e.constructor&&(yo=!0),e)}jt.prototype.size=1;class K2 extends jt{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new jn(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Rt extends K2{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new jn(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof Rt||r instanceof it&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof it?r=new Rt(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):jt.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class it extends jt{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,o=r-i+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:i,lastLine:r,perLine:s,perChar:a}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let u=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),c=t.doc.lineAt(u),d=a+c.length*l,f=Math.max(i,e-d/2);return new jn(c.from,c.length,f,d,0)}else{let u=Math.max(0,Math.min(s-o,Math.floor((e-i)/a))),{from:c,length:d}=t.doc.line(o+u);return new jn(c,d,i+a*u,a,0)}}lineAt(e,t,i,r,o){if(t==Ee.ByHeight)return this.blockAt(e,i,r,o);if(t==Ee.ByPosNoHeight){let{from:p,to:h}=i.doc.lineAt(e);return new jn(p,h-p,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(i,o),u=i.doc.lineAt(e),c=a+u.length*l,d=u.number-s,f=r+a*d+l*(u.from-o-d);return new jn(u.from,u.length,Math.max(r,Math.min(f,r+this.height-c)),c,0)}forEachLine(e,t,i,r,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(i,o);for(let c=e,d=r;c<=t;){let f=i.doc.lineAt(c);if(c==e){let h=f.number-a;d+=l*h+u*(e-o-h)}let p=l+u*f.length;s(new jn(f.from,f.length,d,p,0)),d+=p,c=f.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof it?i[i.length-1]=new it(o.length+r):i.push(null,new it(r-1))}if(e>0){let o=i[0];o instanceof it?i[0]=new it(e+o.length):i.unshift(new it(e-1),null)}return jt.of(i)}decomposeLeft(e,t){t.push(new it(e-1),null)}decomposeRight(e,t){t.push(null,new it(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],a=Math.max(t,r.from),l=-1;for(r.from>t&&s.push(new it(r.from-t-1).updateHeight(e,t));a<=o&&r.more;){let c=e.doc.lineAt(a).length;s.length&&s.push(null);let d=r.heights[r.index++];l==-1?l=d:Math.abs(d-l)>=sl&&(l=-2);let f=new Rt(c,d);f.outdated=!1,s.push(f),a+=c+1}a<=o&&s.push(null,new it(o-a).updateHeight(e,a));let u=jt.of(s);return(l<0||Math.abs(u.height-this.height)>=sl||Math.abs(l-this.heightMetrics(e,t).perLine)>=sl)&&(yo=!0),Bl(this,u)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class fF extends jt{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,a=o+this.left.length+this.break,l=t==Ee.ByHeight?e<s:e<a,u=l?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=t==Ee.ByPosNoHeight?Ee.ByPosNoHeight:Ee.ByPos;return l?u.join(this.right.lineAt(a,c,i,s,a)):this.left.lineAt(a,c,i,r,o).join(u)}forEachLine(e,t,i,r,o,s){let a=r+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,o,s),t>=l&&this.right.forEachLine(e,t,i,a,l,s);else{let u=this.lineAt(l,Ee.ByPos,i,r,o);e<u.from&&this.left.forEachLine(e,u.from-1,i,r,o,s),u.to>=e&&u.from<=t&&s(u),t>u.to&&this.right.forEachLine(u.to+1,t,i,a,l,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of i)o.push(a);if(e>0&&Lg(o,s-1),t<this.length){let a=o.length;this.decomposeRight(t,o),Lg(o,a)}return jt.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?jt.of(this.break?[e,null,t]:[e,t]):(this.left=Bl(this.left,e),this.right=Bl(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,a=t+o.length+this.break,l=null;return r&&r.from<=t+o.length&&r.more?l=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=a+s.length&&r.more?l=s=s.updateHeight(e,a,i,r):s.updateHeight(e,a,i),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Lg(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof it&&(i=n[e+1])instanceof it&&n.splice(e-1,3,new it(t.length+1+i.length))}const hF=5;class Uf{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Rt?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Rt(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,o=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new K2(s,r,i)):(s||o||r>=hF)&&this.addLineDeco(r,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Rt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new it(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Rt)return e;let t=new Rt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Rt)&&!this.isCovered?this.nodes.push(new Rt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Rt&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new Uf(i,e);return Oe.spans(t,i,r,o,0),o.finish(i)}}function pF(n,e,t){let i=new mF;return Oe.compare(n,e,t,i,0),i.changes}class mF{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&md(e,t,this.changes,5)}}function gF(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,o=Math.max(0,t.left),s=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=i.body;)if(u.nodeType==1){let c=u,d=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&d.overflow!="visible"){let f=c.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),a=Math.max(a,f.top),l=u==n.parentNode?f.bottom:Math.min(l,f.bottom)}u=d.position=="absolute"||d.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function yF(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class dc{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return Qe.replace({widget:new bF(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class bF extends $f{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Vg{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=zg,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ne.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Hf).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new cF(t),this.stateDeco=e.facet(Ks).filter(i=>typeof i!="function"),this.heightMap=jt.empty().applyChanges(this.stateDeco,be.empty,this.heightOracle.setDoc(e.doc),[new Xt(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Qe.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Va(o,s))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?zg:new Jf(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Qo(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Ks).filter(c=>typeof c!="function");let r=e.changedRanges,o=Xt.extendWithRanges(r,pF(i,this.stateDeco,e?e.changes:Ge.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Rg(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||yo)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(A2)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Ne.RTL:Ne.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:v,scaleY:w}=e2(t,a);(v>.005&&Math.abs(this.scaleX-v)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=v,this.scaleY=w,u|=8,s=l=!0)}let d=(parseInt(i.paddingTop)||0)*this.scaleY,f=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=i2(e.scrollDOM);let h=(this.printing?yF:gF)(t,this.paddingTop),m=h.top-this.pixelViewport.top,g=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let v=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(v)&&(s=!0),s||r.lineWrapping&&Math.abs(k-this.contentDOMWidth)>r.charWidth){let{lineHeight:w,charWidth:_,textHeight:S}=e.docView.measureTextSize();s=w>0&&r.refresh(o,w,_,S,k/_,v),s&&(e.docView.minWidth=0,u|=8)}m>0&&g>0?c=Math.max(m,g):m<0&&g<0&&(c=Math.min(m,g)),Rg();for(let w of this.viewports){let _=w.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?jt.empty().applyChanges(this.stateDeco,be.empty,this.heightOracle,[new Xt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,s,new dF(w.from,_))}yo&&(u|=2)}let x=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new Va(r.lineAt(s-i*1e3,Ee.ByHeight,o,0,0).from,r.lineAt(a+(1-i)*1e3,Ee.ByHeight,o,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=r.lineAt(u,Ee.ByPos,o,0,0),f;t.y=="center"?f=(d.top+d.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&u<l.from?f=d.top:f=d.bottom-c,l=new Va(r.lineAt(f-1e3/2,Ee.ByHeight,o,0,0).from,r.lineAt(f+c+1e3/2,Ee.ByHeight,o,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Va(this.heightMap.lineAt(i,Ee.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ee.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ee.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Ee.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new dc(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,o=r>>1,s=r<<1;if(this.defaultTextDirection!=Ne.LTR&&!i)return[];let a=[],l=(c,d,f,p)=>{if(d-c<o)return;let h=this.state.selection.main,m=[h.from];h.empty||m.push(h.to);for(let y of m)if(y>c&&y<d){l(c,y-10,f,p),l(y+10,d,f,p);return}let g=vF(e,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-c)<o&&Math.abs(y.to-d)<o&&!m.some(k=>y.from<k&&y.to>k));if(!g){if(d<f.to&&t&&i&&t.visibleRanges.some(y=>y.from<=d&&y.to>=d)){let y=t.moveToLineBoundary($.cursor(d),!1,!0).head;y>c&&(d=y)}g=new dc(c,d,this.gapSize(f,c,d,p))}a.push(g)},u=c=>{if(c.length<s||c.type!=qt.Text)return;let d=kF(c.from,c.to,this.stateDeco);if(d.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,p,h;if(i){let m=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(f!=null){let k=$a(d,f),x=((this.visibleBottom-this.visibleTop)/2+m)/c.height;g=k-x,y=k+x}else g=(this.visibleTop-c.top-m)/c.height,y=(this.visibleBottom-c.top+m)/c.height;p=za(d,g),h=za(d,y)}else{let m=d.total*this.heightOracle.charWidth,g=r*this.heightOracle.charWidth,y,k;if(f!=null){let x=$a(d,f),v=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/m;y=x-v,k=x+v}else y=(this.pixelViewport.left-g)/m,k=(this.pixelViewport.right+g)/m;p=za(d,y),h=za(d,k)}p>c.from&&l(c.from,p,c,d),h<c.to&&l(h,c.to,c,d)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,t,i,r){let o=$a(r,i)-$a(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){dc.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Qe.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Oe.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Qo(this.heightMap.lineAt(e,Ee.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Qo(this.heightMap.lineAt(this.scaler.fromDOM(e),Ee.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Qo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Va{constructor(e,t){this.from=e,this.to=t}}function kF(n,e,t){let i=[],r=n,o=0;return Oe.spans(t,n,e,{span(){},point(s,a){s>r&&(i.push({from:r,to:s}),o+=s-r),r=a}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function za({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],a=s-o;if(i<=a)return o+i;i-=a}}function $a(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function vF(n,e){for(let t of n)if(e(t))return t}const zg={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Jf{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:a,to:l})=>{let u=t.lineAt(a,Ee.ByPos,e,0,0).top,c=t.lineAt(l,Ee.ByPos,e,0,0).bottom;return r+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}eq(e){return e instanceof Jf?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Qo(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new jn(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>Qo(r,e)):n._content)}const qa=oe.define({combine:n=>n.join(" ")}),_d=oe.define({combine:n=>n.indexOf(!0)>-1}),Sd=zi.newName(),U2=zi.newName(),J2=zi.newName(),G2={"&light":"."+U2,"&dark":"."+J2};function jd(n,e,t){return new zi(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const wF=jd("."+Sd,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},G2),xF={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},fc=Y.ie&&Y.ie_version<=11;class _F{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new a5,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Y.ie&&Y.ie_version<=11||Y.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Y.chrome&&Y.chrome_version<126)&&(this.editContext=new jF(e),e.state.facet(Si)&&(e.contentDOM.editContext=this.editContext.editContext)),fc&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Si)?i.root.activeElement!=this.dom:!rl(i.dom,r))return;let o=r.anchorNode&&i.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Y.ie&&Y.ie_version<=11||Y.android&&Y.chrome)&&!i.state.selection.main.empty&&r.focusNode&&ds(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Hs(e.root);if(!t)return!1;let i=Y.safari&&e.root.nodeType==11&&i5(this.dom.ownerDocument)==this.dom&&SF(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=rl(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&u5(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,xF),fc&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),fc&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Xr(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&rl(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new $5(this.view,e,t,i);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=I2(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=$g(t,e.previousSibling||e.target.previousSibling,-1),r=$g(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Si)!=e.state.facet(Si)&&(e.view.contentDOM.editContext=e.state.facet(Si)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function $g(n,e,t){for(;e;){let i=_e.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function qg(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return ds(s.node,s.offset,r,o)&&([t,i,r,o]=[r,o,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}}function SF(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return qg(n,r)}let t=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?qg(n,t):null}class jF{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let{anchor:r}=e.state.selection.main,o={from:this.toEditorPos(i.updateRangeStart),to:this.toEditorPos(i.updateRangeEnd),insert:be.of(i.text.split(`
`))};o.from==this.from&&r<this.from?o.from=r:o.to==this.to&&r>this.to&&(o.to=r),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||Kf(e,o,$.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=i=>{let r=[],o=null;for(let s=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,r.push(o)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let o of i.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(Qe.mark({attributes:{style:l}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:O2.of(Qe.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=Hs(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,u)=>{if(i)return;let c=u.length-(s-o);if(r&&s>=r.to)if(r.from==o&&r.to==s&&r.insert.eq(u)){r=this.pendingContextChange=null,t+=c,this.to+=c;return}else r=null,this.revertPending(e.state);if(o+=t,s+=t,s<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+u.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),u.toString()),this.to+=c}t+=c}),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ce{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(r=>t(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||l5(e.parent)||document,this.viewState=new Vg(e.state||ke.create(e)),e.scrollTo&&e.scrollTo.is(Ia)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Yo).map(i=>new lc(i));for(let i of this.plugins)i.update(this);this.observer=new _F(this),this.inputState=new U5(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vg(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=e.length==1&&e[0]instanceof gt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(q2))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=H2(o,s),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(ke.phrases)!=this.state.facet(ke.phrases))return this.setState(o);r=Fl.create(this,o,e),r.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:p}=f.state.selection;d=new Qr(p.empty?p:$.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of f.effects)p.is(Ia)&&(d=p.value.clip(this.state))}this.viewState.update(r,d),this.bidiCache=Nl.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Zo)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(qa)!=r.state.facet(qa)&&(this.viewState.mustMeasureContent=!0),(t||i||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let f of this.state.facet(kd))try{f(r)}catch(p){Dn(this.state,p,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!I2(this,c)&&u.force&&Xr(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Vg(e),this.plugins=e.facet(Yo).map(i=>new lc(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new vg(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Yo),i=e.state.facet(Yo);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new lc(o));else{let a=this.plugins[s];a.mustUpdate=e,r.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Dn(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(i2(i))o=-1,s=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(r);o=p.from,s=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(p=>{try{return p.read(this)}catch(h){return Dn(this.state,h),Hg}}),d=Fl.create(this,this.state,[]),f=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(c[p]!=Hg)try{let h=u[p];h.write&&h.write(c[p],this)}catch(h){Dn(this.state,h)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let h=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(h>1||h<-1){r=r+h,i.scrollTop=r/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(kd))a(t)}get themeClasses(){return Sd+" "+(this.state.facet(_d)?J2:U2)+" "+this.state.facet(qa)}updateAttrs(){let e=Wg(this,D2,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Si)?"true":"false",class:"cm-content",style:`${Y.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Wg(this,Hf,t);let i=this.observer.ignore(()=>{let r=pd(this.contentDOM,this.contentAttrs,t),o=pd(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(ce.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Zo);let e=this.state.facet(ce.cspNonce);zi.mount(this.root,this.styleModules.concat(wF).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return cc(this,e,Cg(this,e,t,i))}moveByGroup(e,t){return cc(this,e,Cg(this,e,t,i=>R5(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),o=i[t?i.length-1:0];return $.cursor(o.side(t,r)+e.from,o.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return I5(this,e,t,i)}moveVertically(e,t,i){return cc(this,e,L5(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),N2(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Mi.find(o,e-r.from,-1,t)];return Vf(i,s.dir==Ne.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(C2)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>CF)return b2(e.length);let t=this.textDirectionAt(e.from),i;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||y2(o.isolates,i=kg(this,e))))return o.order;i||(i=kg(this,e));let r=w5(e.text,t,i);return this.bidiCache.push(new Nl(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Y.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{t2(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ia.of(new Qr(typeof e=="number"?$.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Ia.of(new Qr($.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return qi.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return qi.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=zi.newName(),r=[qa.of(i),Zo.of(jd(`.${i}`,e))];return t&&t.dark&&r.push(_d.of(!0)),r}static baseTheme(e){return uu.lowest(Zo.of(jd("."+Sd,e,G2)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&_e.get(i)||_e.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}ce.styleModule=Zo;ce.inputHandler=S2;ce.scrollHandler=E2;ce.focusChangeEffect=j2;ce.perLineTextDirection=C2;ce.exceptionSink=_2;ce.updateListener=kd;ce.editable=Si;ce.mouseSelectionStyle=x2;ce.dragMovesSelection=w2;ce.clickAddsSelectionRange=v2;ce.decorations=Ks;ce.outerDecorations=T2;ce.atomicRanges=Wf;ce.bidiIsolatedRanges=P2;ce.scrollMargins=M2;ce.darkTheme=_d;ce.cspNonce=oe.define({combine:n=>n.length?n[0]:""});ce.contentAttributes=Hf;ce.editorAttributes=D2;ce.lineWrapping=ce.contentAttributes.of({class:"cm-lineWrapping"});ce.announce=He.define();const CF=4096,Hg={};class Nl{constructor(e,t,i,r,o,s){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:Ne.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new Nl(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return i}}function Wg(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&hd(s,t)}return t}const AF=Y.mac?"mac":Y.windows?"win":Y.linux?"linux":"key";function EF(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,o,s,a;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),a&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function Ha(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const OF=uu.default(ce.domEventHandlers({keydown(n,e){return MF(DF(e.state),n,e,"editor")}})),Y2=oe.define({enables:OF}),Kg=new WeakMap;function DF(n){let e=n.facet(Y2),t=Kg.get(e);return t||Kg.set(e,t=PF(e.reduce((i,r)=>i.concat(r),[]))),t}let ji=null;const TF=4e3;function PF(n,e=AF){let t=Object.create(null),i=Object.create(null),r=(s,a)=>{let l=i[s];if(l==null)i[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,u,c)=>{var d,f;let p=t[s]||(t[s]=Object.create(null)),h=a.split(/ (?!$)/).map(y=>EF(y,e));for(let y=1;y<h.length;y++){let k=h.slice(0,y).join(" ");r(k,!0),p[k]||(p[k]={preventDefault:!0,stopPropagation:!1,run:[x=>{let v=ji={view:x,prefix:k,scope:s};return setTimeout(()=>{ji==v&&(ji=null)},TF),!0}]})}let m=h.join(" ");r(m,!1);let g=p[m]||(p[m]={preventDefault:!1,stopPropagation:!1,run:((f=(d=p._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0),c&&(g.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let u of a){let c=t[u]||(t[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let f in c)c[f].run.push(p=>d(p,Cd))}let l=s[e]||s.key;if(l)for(let u of a)o(u,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(u,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return t}let Cd=null;function MF(n,e,t,i){Cd=e;let r=k1(e),o=nl(r,0),s=Yc(o)==r.length&&r!=" ",a="",l=!1,u=!1,c=!1;ji&&ji.view==t&&ji.scope==i&&(a=ji.prefix+" ",L2.indexOf(e.keyCode)<0&&(u=!0,ji=null));let d=new Set,f=g=>{if(g){for(let y of g.run)if(!d.has(y)&&(d.add(y),y(t)))return g.stopPropagation&&(c=!0),!0;g.preventDefault&&(g.stopPropagation&&(c=!0),u=!0)}return!1},p=n[i],h,m;return p&&(f(p[a+Ha(r,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Y.windows&&e.ctrlKey&&e.altKey)&&(h=ai[e.keyCode])&&h!=r?(f(p[a+Ha(h,e,!0)])||e.shiftKey&&(m=Is[e.keyCode])!=r&&m!=h&&f(p[a+Ha(m,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(p[a+Ha(r,e,!0)])&&(l=!0),!l&&f(p._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),Cd=null,l}class da{constructor(e,t,i,r,o){this.className=e,this.left=t,this.top=i,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let o=Z2(e);return[new da(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return FF(e,t,i)}}function Z2(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Ne.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Ug(n,e,t,i){let r=n.coordsAtPos(e,t*2);if(!r)return i;let o=n.dom.getBoundingClientRect(),s=(r.top+r.bottom)/2,a=n.posAtCoords({x:o.left+1,y:s}),l=n.posAtCoords({x:o.right-1,y:s});return a==null||l==null?i:{from:Math.max(i.from,Math.min(a,l)),to:Math.min(i.to,Math.max(a,l))}}function FF(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),o=n.textDirection==Ne.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),l=Z2(n),u=s.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),d=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=a.right-(c?parseInt(c.paddingRight):0),p=wd(n,i),h=wd(n,r),m=p.type==qt.Text?p:null,g=h.type==qt.Text?h:null;if(m&&(n.lineWrapping||p.widgetLineBreaks)&&(m=Ug(n,i,1,m)),g&&(n.lineWrapping||h.widgetLineBreaks)&&(g=Ug(n,r,-1,g)),m&&g&&m.from==g.from&&m.to==g.to)return k(x(t.from,t.to,m));{let w=m?x(t.from,null,m):v(p,!1),_=g?x(null,t.to,g):v(h,!0),S=[];return(m||p).to<(g||h).from-(m&&g?1:0)||p.widgetLineBreaks>1&&w.bottom+n.defaultLineHeight/2<_.top?S.push(y(d,w.bottom,f,_.top)):w.bottom<_.top&&n.elementAtHeight((w.bottom+_.top)/2).type==qt.Text&&(w.bottom=_.top=(w.bottom+_.top)/2),k(w).concat(S).concat(k(_))}function y(w,_,S,B){return new da(e,w-l.left,_-l.top-.01,S-w,B-_+.01)}function k({top:w,bottom:_,horizontal:S}){let B=[];for(let O=0;O<S.length;O+=2)B.push(y(S[O],w,S[O+1],_));return B}function x(w,_,S){let B=1e9,O=-1e9,L=[];function F(Z,A,V,M,X){let G=n.coordsAtPos(Z,Z==S.to?-2:2),ee=n.coordsAtPos(V,V==S.from?2:-2);!G||!ee||(B=Math.min(G.top,ee.top,B),O=Math.max(G.bottom,ee.bottom,O),X==Ne.LTR?L.push(o&&A?d:G.left,o&&M?f:ee.right):L.push(!o&&M?d:ee.left,!o&&A?f:G.right))}let I=w??S.from,W=_??S.to;for(let Z of n.visibleRanges)if(Z.to>I&&Z.from<W)for(let A=Math.max(Z.from,I),V=Math.min(Z.to,W);;){let M=n.state.doc.lineAt(A);for(let X of n.bidiSpans(M)){let G=X.from+M.from,ee=X.to+M.from;if(G>=V)break;ee>A&&F(Math.max(G,A),w==null&&G<=I,Math.min(ee,V),_==null&&ee>=W,X.dir)}if(A=M.to+1,A>=V)break}return L.length==0&&F(I,w==null,W,_==null,n.textDirection),{top:B,bottom:O,horizontal:L}}function v(w,_){let S=a.top+(_?w.top:w.bottom);return{top:S,bottom:S,horizontal:[]}}}function BF(n,e){return n.constructor==e.constructor&&n.eq(e)}class NF{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(al)!=e.state.facet(al)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(al);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!BF(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const al=oe.define();function X2(n){return[qi.define(e=>new NF(e,n)),al.of(n)]}const Q2=!Y.ios,Us=oe.define({combine(n){return QM(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function IF(n={}){return[Us.of(n),RF,LF,VF,A2.of(!0)]}function ek(n){return n.startState.facet(Us)!=n.state.facet(Us)}const RF=X2({above:!0,markers(n){let{state:e}=n,t=e.facet(Us),i=[];for(let r of e.selection.ranges){let o=r==e.selection.main;if(r.empty?!o||Q2:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:$.cursor(r.head,r.head>r.anchor?-1:1);for(let l of da.forRange(n,s,a))i.push(l)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=ek(n);return t&&Jg(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Jg(e.state,n)},class:"cm-cursorLayer"});function Jg(n,e){e.style.animationDuration=n.facet(Us).cursorBlinkRate+"ms"}const LF=X2({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:da.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||ek(n)},class:"cm-selectionLayer"}),Ad={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Q2&&(Ad[".cm-line"].caretColor=Ad[".cm-content"].caretColor="transparent !important");const VF=uu.highest(ce.theme(Ad));class bo extends po{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bo.prototype.elementClass="";bo.prototype.toDOM=void 0;bo.prototype.mapMode=Vt.TrackBefore;bo.prototype.startSide=bo.prototype.endSide=-1;bo.prototype.point=!0;let zF=0;class xn{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=zF++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new xn([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Il;return t=>t.modified.indexOf(e)>-1?t:Il.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let $F=0;class Il{constructor(){this.instances=[],this.id=$F++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&qF(t,a.modified));if(i)return i;let r=[],o=new xn(r,e,t);for(let a of t)a.instances.push(o);let s=HF(t);for(let a of e.set)if(!a.modified.length)for(let l of s)r.push(Il.get(a,l));return o}}function qF(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function HF(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function WF(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let o=[],s=2,a=r;for(let d=0;;){if(a=="..."&&d>0&&d+3==r.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+r);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==r.length)break;let p=r[d++];if(d==r.length&&p=="!"){s=0;break}if(p!="/")throw new RangeError("Invalid path: "+r);a=r.slice(d)}let l=o.length-1,u=o[l];if(!u)throw new RangeError("Invalid path: "+r);let c=new Rl(i,s,l>0?o.slice(0,l):null);e[u]=c.sort(e[u])}}return tk.add(e)}const tk=new fe;class Rl{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rl.empty=new Rl([],2,null);function nk(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:i,all:r=null}=e||{};return{style:o=>{let s=r;for(let a of o)for(let l of a.set){let u=t[l.id];if(u){s=s?s+" "+u:u;break}}return s},scope:i}}function KF(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function UF(n,e,t,i=0,r=n.length){let o=new JF(i,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),i,r,"",o.highlighters),o.flush(r)}class JF{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,o){let{type:s,from:a,to:l}=e;if(a>=i||l<=t)return;s.isTop&&(o=this.highlighters.filter(p=>!p.scope||p.scope(s)));let u=r,c=GF(e)||Rl.empty,d=KF(o,c.tags);if(d&&(u&&(u+=" "),u+=d,c.mode==1&&(r+=(r?" ":"")+d)),this.startSpan(Math.max(t,a),u),c.opaque)return;let f=e.tree&&e.tree.prop(fe.mounted);if(f&&f.overlay){let p=e.node.enter(f.overlay[0].from+a,1),h=this.highlighters.filter(g=>!g.scope||g.scope(f.tree.type)),m=e.firstChild();for(let g=0,y=a;;g++){let k=g<f.overlay.length?f.overlay[g]:null,x=k?k.from+a:l,v=Math.max(t,y),w=Math.min(i,x);if(v<w&&m)for(;e.from<w&&(this.highlightRange(e,v,w,r,o),this.startSpan(Math.min(w,e.to),u),!(e.to>=x||!e.nextSibling())););if(!k||x>i)break;y=k.to+a,y>t&&(this.highlightRange(p.cursor(),Math.max(t,k.from+a),Math.min(i,y),"",h),this.startSpan(Math.min(i,y),u))}m&&e.parent()}else if(e.firstChild()){f&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,o),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function GF(n){let e=n.type.prop(tk);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const q=xn.define,Wa=q(),vi=q(),Gg=q(vi),Yg=q(vi),wi=q(),Ka=q(wi),hc=q(wi),vn=q(),Xi=q(vn),bn=q(),kn=q(),Ed=q(),zo=q(Ed),Ua=q(),E={comment:Wa,lineComment:q(Wa),blockComment:q(Wa),docComment:q(Wa),name:vi,variableName:q(vi),typeName:Gg,tagName:q(Gg),propertyName:Yg,attributeName:q(Yg),className:q(vi),labelName:q(vi),namespace:q(vi),macroName:q(vi),literal:wi,string:Ka,docString:q(Ka),character:q(Ka),attributeValue:q(Ka),number:hc,integer:q(hc),float:q(hc),bool:q(wi),regexp:q(wi),escape:q(wi),color:q(wi),url:q(wi),keyword:bn,self:q(bn),null:q(bn),atom:q(bn),unit:q(bn),modifier:q(bn),operatorKeyword:q(bn),controlKeyword:q(bn),definitionKeyword:q(bn),moduleKeyword:q(bn),operator:kn,derefOperator:q(kn),arithmeticOperator:q(kn),logicOperator:q(kn),bitwiseOperator:q(kn),compareOperator:q(kn),updateOperator:q(kn),definitionOperator:q(kn),typeOperator:q(kn),controlOperator:q(kn),punctuation:Ed,separator:q(Ed),bracket:zo,angleBracket:q(zo),squareBracket:q(zo),paren:q(zo),brace:q(zo),content:vn,heading:Xi,heading1:q(Xi),heading2:q(Xi),heading3:q(Xi),heading4:q(Xi),heading5:q(Xi),heading6:q(Xi),contentSeparator:q(vn),list:q(vn),quote:q(vn),emphasis:q(vn),strong:q(vn),link:q(vn),monospace:q(vn),strikethrough:q(vn),inserted:q(),deleted:q(),changed:q(),invalid:q(),meta:Ua,documentMeta:q(Ua),annotation:q(Ua),processingInstruction:q(Ua),definition:xn.defineModifier(),constant:xn.defineModifier(),function:xn.defineModifier(),standard:xn.defineModifier(),local:xn.defineModifier(),special:xn.defineModifier()};nk([{tag:E.link,class:"tok-link"},{tag:E.heading,class:"tok-heading"},{tag:E.emphasis,class:"tok-emphasis"},{tag:E.strong,class:"tok-strong"},{tag:E.keyword,class:"tok-keyword"},{tag:E.atom,class:"tok-atom"},{tag:E.bool,class:"tok-bool"},{tag:E.url,class:"tok-url"},{tag:E.labelName,class:"tok-labelName"},{tag:E.inserted,class:"tok-inserted"},{tag:E.deleted,class:"tok-deleted"},{tag:E.literal,class:"tok-literal"},{tag:E.string,class:"tok-string"},{tag:E.number,class:"tok-number"},{tag:[E.regexp,E.escape,E.special(E.string)],class:"tok-string2"},{tag:E.variableName,class:"tok-variableName"},{tag:E.local(E.variableName),class:"tok-variableName tok-local"},{tag:E.definition(E.variableName),class:"tok-variableName tok-definition"},{tag:E.special(E.variableName),class:"tok-variableName2"},{tag:E.definition(E.propertyName),class:"tok-propertyName tok-definition"},{tag:E.typeName,class:"tok-typeName"},{tag:E.namespace,class:"tok-namespace"},{tag:E.className,class:"tok-className"},{tag:E.macroName,class:"tok-macroName"},{tag:E.propertyName,class:"tok-propertyName"},{tag:E.operator,class:"tok-operator"},{tag:E.comment,class:"tok-comment"},{tag:E.meta,class:"tok-meta"},{tag:E.invalid,class:"tok-invalid"},{tag:E.punctuation,class:"tok-punctuation"}]);var pc;const lr=new fe;function ik(n){return oe.define({combine:n?e=>e.concat(n):void 0})}const YF=new fe;class Jt{constructor(e,t,i=[],r=""){this.data=e,this.name=r,ke.prototype.hasOwnProperty("tree")||Object.defineProperty(ke.prototype,"tree",{get(){return hn(this)}}),this.parser=t,this.extension=[wo.of(this),ke.languageData.of((o,s,a)=>{let l=Zg(o,s,a),u=l.type.prop(lr);if(!u)return[];let c=o.facet(u),d=l.type.prop(YF);if(d){let f=l.resolve(s-l.from,a);for(let p of d)if(p.test(f,o)){let h=o.facet(p.facet);return p.type=="replace"?h:h.concat(c)}}return c})].concat(i)}isActiveAt(e,t,i=-1){return Zg(e,t,i).type.prop(lr)==this.data}findRegions(e){let t=e.facet(wo);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(o,s)=>{if(o.prop(lr)==this.data){i.push({from:s,to:s+o.length});return}let a=o.prop(fe.mounted);if(a){if(a.tree.prop(lr)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+s,to:l.to+s});else i.push({from:s,to:s+o.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+s),i.length>l)return}}for(let l=0;l<o.children.length;l++){let u=o.children[l];u instanceof je&&r(u,o.positions[l]+s)}};return r(hn(e),0),i}get allowsNesting(){return!0}}Jt.setState=He.define();function Zg(n,e,t){let i=n.facet(wo),r=hn(n).topNode;if(!i||i.allowsNesting)for(let o=r;o;o=o.enter(e,t,Te.ExcludeBuffers))o.type.isTop&&(r=o);return r}class Od extends Jt{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=ik(e.languageData);return new Od(t,e.parser.configure({props:[lr.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Od(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function hn(n){let e=n.field(Jt.state,!1);return e?e.tree:je.empty}class ZF{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let $o=null;class ko{constructor(e,t,i=[],r,o,s,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ko(e,t,[],je.empty,0,i,[],null)}startParse(){return this.parser.startParse(new ZF(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=je.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(ni.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ni.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=$o;$o=this;try{return e()}finally{$o=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Xg(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,d,f)=>l.push({fromA:u,toA:c,fromB:d,toB:f})),i=ni.applyChanges(i,l),r=je.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);c<d&&a.push({from:c,to:d})}}}return new ko(this.parser,t,i,r,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<e.to&&o>e.from&&(this.fragments=Xg(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends N1{createParse(t,i,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let l=$o;if(l){for(let u of r)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new je(Ot.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return $o}}function Xg(n,e,t){return ni.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class vo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new vo(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ko.create(e.facet(wo).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new vo(i)}}Jt.state=Tr.define({create:vo.init,update(n,e){for(let t of e.effects)if(t.is(Jt.setState))return t.value;return e.startState.facet(wo)!=e.state.facet(wo)?vo.init(e.state):n.apply(e)}});let rk=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(rk=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const mc=typeof navigator<"u"&&(!((pc=navigator.scheduling)===null||pc===void 0)&&pc.isInputPending)?()=>navigator.scheduling.isInputPending():null,XF=qi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Jt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Jt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=rk(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(Jt.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!mc?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&i.doc.length>r+1e3,l=o.context.work(()=>mc&&mc()||Date.now()>s,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Jt.setState.of(new vo(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Dn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),wo=oe.define({combine(n){return n.length?n[0]:null},enables:n=>[Jt.state,XF,ce.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class QF{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class j{constructor(e,t,i,r,o,s=void 0){this.name=e,this.alias=t,this.extensions=i,this.filename=r,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:i}=e;if(!t){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(i)}return new j(e.name,(e.alias||[]).concat(e.name).map(r=>r.toLowerCase()),e.extensions||[],e.filename,t,i)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let i=/\.([^.]+)$/.exec(t);if(i){for(let r of e)if(r.extensions.indexOf(i[1])>-1)return r}return null}static matchLanguageName(e,t,i=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some(o=>o==t))return r;if(i)for(let r of e)for(let o of r.alias){let s=t.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(t[s-1])&&!/\w/.test(t[s+o.length])))return r}return null}}const ok=oe.define(),Gf=oe.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function jr(n){let e=n.facet(Gf);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Ll(n,e){let t="",i=n.tabSize,r=n.facet(Gf)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let o=0;o<e;o++)t+=r;return t}function sk(n,e){n instanceof ke&&(n=new fu(n));for(let i of n.state.facet(ok)){let r=i(n,e);if(r!==void 0)return r}let t=hn(n.state);return t.length>=e?tB(n,t,e):null}class fu{constructor(e,t={}){this.state=e,this.options=t,this.unit=jr(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.countColumn(i,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(e,t=e.length){return cu(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const eB=new fe;function tB(n,e,t){let i=e.resolveStack(t),r=i.node.enterUnfinishedNodesBefore(t);if(r!=i.node){let o=[];for(let s=r;s!=i.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)i={node:o[s],next:i}}return ak(i,n,t)}function ak(n,e,t){for(let i=n;i;i=i.next){let r=iB(i.node);if(r)return r(Yf.create(e,t,i))}return 0}function nB(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function iB(n){let e=n.type.prop(eB);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(fe.closedBy))){let r=n.lastChild,o=r&&i.indexOf(r.name)>-1;return s=>lk(s,!0,1,void 0,o&&!nB(s)?r.from:void 0)}return n.parent==null?rB:null}function rB(){return 0}class Yf extends fu{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Yf(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(oB(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return ak(this.context.next,this.base,this.pos)}}function oB(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function sB(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<s?t:null;a=l.to}}function ZN({closing:n,align:e=!0,units:t=1}){return i=>lk(i,e,t,n)}function lk(n,e,t,i,r){let o=n.textAfter,s=o.match(/^\s*/)[0].length,a=i&&o.slice(s,s+i.length)==i||r==n.pos+s,l=e?sB(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const XN=n=>n.baseIndent;function QN({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const eI=oe.define(),tI=new fe;function nI(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class fa{constructor(e,t){this.specs=e;let i;function r(a){let l=zi.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const o=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,s=t.scope;this.scope=s instanceof Jt?a=>a.prop(lr)==s.data:s?a=>a==s:void 0,this.style=nk(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=i?new zi(i):null,this.themeType=t.themeType}static define(e,t){return new fa(e,t||{})}}const Dd=oe.define(),aB=oe.define({combine(n){return n.length?[n[0]]:null}});function gc(n){let e=n.facet(Dd);return e.length?e:n.facet(aB)}function lB(n,e){let t=[cB],i;return n instanceof fa&&(n.module&&t.push(ce.styleModule.of(n.module)),i=n.themeType),i?t.push(Dd.computeN([ce.darkTheme],r=>r.facet(ce.darkTheme)==(i=="dark")?[n]:[])):t.push(Dd.of(n)),t}class uB{constructor(e){this.markCache=Object.create(null),this.tree=hn(e.state),this.decorations=this.buildDeco(e,gc(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=hn(e.state),i=gc(e.state),r=i!=gc(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!r&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return Qe.none;let i=new $s;for(let{from:r,to:o}of e.visibleRanges)UF(this.tree,t,(s,a,l)=>{i.add(s,a,this.markCache[l]||(this.markCache[l]=Qe.mark({class:l})))},r,o);return i.finish()}}const cB=uu.high(qi.fromClass(uB,{decorations:n=>n.decorations}));E.meta,E.link,E.heading,E.emphasis,E.strong,E.strikethrough,E.keyword,E.atom,E.bool,E.url,E.contentSeparator,E.labelName,E.literal,E.inserted,E.string,E.deleted,E.regexp,E.escape,E.string,E.variableName,E.variableName,E.typeName,E.namespace,E.className,E.variableName,E.macroName,E.propertyName,E.comment,E.invalid;const dB=1e4,fB="()[]{}",hB=new fe;function Td(n,e,t){let i=n.prop(e<0?fe.openedBy:fe.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function Pd(n){let e=n.type.prop(hB);return e?e(n.node):n}function $r(n,e,t,i={}){let r=i.maxScanDistance||dB,o=i.brackets||fB,s=hn(n),a=s.resolveInner(e,t);for(let l=a;l;l=l.parent){let u=Td(l.type,t,o);if(u&&l.from<l.to){let c=Pd(l);if(c&&(t>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return pB(n,e,t,l,c,u,o)}}return mB(n,e,t,s,a.type,r,o)}function pB(n,e,t,i,r,o,s){let a=i.parent,l={from:r.from,to:r.to},u=0,c=a==null?void 0:a.cursor();if(c&&(t<0?c.childBefore(i.from):c.childAfter(i.to)))do if(t<0?c.to<=i.from:c.from>=i.to){if(u==0&&o.indexOf(c.type.name)>-1&&c.from<c.to){let d=Pd(c);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Td(c.type,t,s))u++;else if(Td(c.type,-t,s)){if(u==0){let d=Pd(c);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function mB(n,e,t,i,r,o,s){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},c=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let f=0;!c.next().done&&f<=o;){let p=c.value;t<0&&(f+=p.length);let h=e+f*t;for(let m=t>0?0:p.length-1,g=t>0?p.length:-1;m!=g;m+=t){let y=s.indexOf(p[m]);if(!(y<0||i.resolveInner(h+m,1).type!=r))if(y%2==0==t>0)d++;else{if(d==1)return{start:u,end:{from:h+m,to:h+m+1},matched:y>>1==l>>1};d--}}t>0&&(f+=p.length)}return c.done?{start:u,matched:!1}:null}function Qg(n,e,t,i=0,r=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let o=r;for(let s=i;s<e;s++)n.charCodeAt(s)==9?o+=t-o%t:o++;return o}class uk{constructor(e,t,i,r){this.string=e,this.tabSize=t,this.indentUnit=i,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e instanceof RegExp?e.test(t):e(t)),i)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Qg(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Qg(this.string,null,this.tabSize)}match(e,t,i){if(typeof e=="string"){let r=s=>i?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}}current(){return this.string.slice(this.start,this.pos)}}function gB(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||yB,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||Qf}}function yB(n){if(typeof n!="object")return n;let e={};for(let t in n){let i=n[t];e[t]=i instanceof Array?i.slice():i}return e}const e0=new WeakMap;class Zf extends Jt{constructor(e){let t=ik(e.languageData),i=gB(e),r,o=new class extends N1{createParse(s,a,l){return new kB(r,s,a,l)}};super(t,o,[ok.of((s,a)=>this.getIndent(s,a))],e.name),this.topNode=xB(t),r=this,this.streamParser=i,this.stateAfter=new fe({perNode:!0}),this.tokenTable=e.tokenTable?new hk(i.tokenTable):wB}static define(e){return new Zf(e)}getIndent(e,t){let i=hn(e.state),r=i.resolve(t);for(;r&&r.type!=this.topNode;)r=r.parent;if(!r)return null;let o,{overrideIndentation:s}=e.options;s&&(o=e0.get(e.state),o!=null&&o<t-1e4&&(o=void 0));let a=Xf(this,i,0,r.from,o??t),l,u;if(a?(u=a.state,l=a.pos+1):(u=this.streamParser.startState(e.unit),l=0),t-l>1e4)return null;for(;l<t;){let d=e.state.doc.lineAt(l),f=Math.min(t,d.to);if(d.length){let p=s?s(d.from):-1,h=new uk(d.text,e.state.tabSize,e.unit,p<0?void 0:p);for(;h.pos<f-d.from;)dk(this.streamParser.token,h,u)}else this.streamParser.blankLine(u,e.unit);if(f==t)break;l=d.to+1}let c=e.lineAt(t);return s&&o==null&&e0.set(e.state,c.from),this.streamParser.indent(u,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function Xf(n,e,t,i,r){let o=t>=i&&t+e.length<=r&&e.prop(n.stateAfter);if(o)return{state:n.streamParser.copyState(o),pos:t+e.length};for(let s=e.children.length-1;s>=0;s--){let a=e.children[s],l=t+e.positions[s],u=a instanceof je&&l<r&&Xf(n,a,l,i,r);if(u)return u}return null}function ck(n,e,t,i,r){if(r&&t<=0&&i>=e.length)return e;!r&&e.type==n.topNode&&(r=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],a=e.children[o],l;if(s<i&&a instanceof je){if(!(l=ck(n,a,t-s,i-s,r)))break;return r?new je(e.type,e.children.slice(0,o).concat(l),e.positions.slice(0,o+1),s+l.length):l}}return null}function bB(n,e,t,i){for(let r of e){let o=r.from+(r.openStart?25:0),s=r.to-(r.openEnd?25:0),a=o<=t&&s>t&&Xf(n,r.tree,0-r.offset,t,s),l;if(a&&(l=ck(n,r.tree,t+r.offset,a.pos+r.offset,!1)))return{state:a.state,tree:l}}return{state:n.streamParser.startState(i?jr(i):4),tree:je.empty}}class kB{constructor(e,t,i,r){this.lang=e,this.input=t,this.fragments=i,this.ranges=r,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=r[r.length-1].to;let o=ko.get(),s=r[0].from,{state:a,tree:l}=bB(e,i,s,o==null?void 0:o.state);this.state=a,this.parsedPos=this.chunkStart=s+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(jr(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=ko.get(),t=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(t,this.chunkStart+2048);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)t==`
`&&(t="");else{let i=t.indexOf(`
`);i>-1&&(t=t.slice(0,i))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),i=e+t.length;for(let r=this.rangeIndex;;){let o=this.ranges[r].to;if(o>=i||(t=t.slice(0,o-(i-t.length)),r++,r==this.ranges.length))break;let s=this.ranges[r].from,a=this.lineAfter(s);t+=a,i=s+a.length}return{line:t,end:i}}skipGapsTo(e,t,i){for(;;){let r=this.ranges[this.rangeIndex].to,o=e+t;if(i>0?r>o:r>=o)break;let s=this.ranges[++this.rangeIndex].from;t+=s-r}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,i,r,o){if(this.ranges.length>1){o=this.skipGapsTo(t,o,1),t+=o;let s=this.chunk.length;o=this.skipGapsTo(i,o,-1),i+=o,r+=this.chunk.length-s}return this.chunk.push(e,t,i,r),o}parseLine(e){let{line:t,end:i}=this.nextLine(),r=0,{streamParser:o}=this.lang,s=new uk(t,e?e.state.tabSize:4,e?jr(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let a=dk(o.token,s,this.state);if(a&&(r=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+s.start,this.parsedPos+s.pos,4,r)),s.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=je.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:vB,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new je(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new je(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function dk(n,e,t){e.start=e.pos;for(let i=0;i<10;i++){let r=n(e,t);if(e.pos>e.start)return r}throw new Error("Stream parser failed to advance stream.")}const Qf=Object.create(null),Js=[Ot.none],vB=new Mf(Js),t0=[],n0=Object.create(null),fk=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])fk[n]=pk(Qf,e);class hk{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),fk)}resolve(e){return e?this.table[e]||(this.table[e]=pk(this.extra,e)):0}}const wB=new hk(Qf);function yc(n,e){t0.indexOf(n)>-1||(t0.push(n),console.warn(e))}function pk(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=n[u]||E[u];c?typeof c=="function"?l.length?l=l.map(c):yc(u,`Modifier ${u} used at start of tag`):l.length?yc(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:yc(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(a=>a.id),o=n0[r];if(o)return o.id;let s=n0[r]=Ot.define({id:Js.length,name:i,props:[WF({[i]:t})]});return Js.push(s),s.id}function xB(n){let e=Ot.define({id:Js.length,name:"Document",props:[lr.add(()=>n)],top:!0});return Js.push(e),e}Ne.RTL,Ne.LTR;function T(n){return new QF(Zf.define(n))}function hi(n){return C(()=>import("./index-D9sUcTzJ.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(e=>e.sql({dialect:e[n]}))}const Md=[j.of({name:"C",extensions:["c","h","ino"],load(){return C(()=>import("./index-CRHQi51K.js"),__vite__mapDeps([5,1,3,4]),import.meta.url).then(n=>n.cpp())}}),j.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return C(()=>import("./index-CRHQi51K.js"),__vite__mapDeps([5,1,3,4]),import.meta.url).then(n=>n.cpp())}}),j.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return hi("Cassandra")}}),j.of({name:"CSS",extensions:["css"],load(){return C(()=>import("./index-BN1Hvm9Q.js"),__vite__mapDeps([6,1,3,4]),import.meta.url).then(n=>n.css())}}),j.of({name:"Go",extensions:["go"],load(){return C(()=>import("./index-Xjhhx0yM.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url).then(n=>n.go())}}),j.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return C(()=>import("./index-RdNHmWbO.js"),__vite__mapDeps([8,1,6,3,4,9,2]),import.meta.url).then(n=>n.html())}}),j.of({name:"Java",extensions:["java"],load(){return C(()=>import("./index-cUy0kZZe.js"),__vite__mapDeps([10,1,3,4]),import.meta.url).then(n=>n.java())}}),j.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return C(()=>import("./index-DyKSLCEI.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url).then(n=>n.javascript())}}),j.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return C(()=>import("./index-C6b6v-Fi.js"),__vite__mapDeps([11,1,3,4]),import.meta.url).then(n=>n.json())}}),j.of({name:"JSX",extensions:["jsx"],load(){return C(()=>import("./index-DyKSLCEI.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url).then(n=>n.javascript({jsx:!0}))}}),j.of({name:"LESS",extensions:["less"],load(){return C(()=>import("./index-BHstsOiE.js"),__vite__mapDeps([12,6,1,3,4]),import.meta.url).then(n=>n.less())}}),j.of({name:"Liquid",extensions:["liquid"],load(){return C(()=>import("./index-DqxL4hn3.js"),__vite__mapDeps([13,8,1,6,3,4,9,2]),import.meta.url).then(n=>n.liquid())}}),j.of({name:"MariaDB SQL",load(){return hi("MariaSQL")}}),j.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return C(()=>import("./index-i1dIweLB.js"),__vite__mapDeps([14,2,8,1,6,3,4,9]),import.meta.url).then(n=>n.markdown())}}),j.of({name:"MS SQL",load(){return hi("MSSQL")}}),j.of({name:"MySQL",load(){return hi("MySQL")}}),j.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return C(()=>import("./index-DERBHOus.js"),__vite__mapDeps([15,1,8,6,3,4,9,2]),import.meta.url).then(n=>n.php())}}),j.of({name:"PLSQL",extensions:["pls"],load(){return hi("PLSQL")}}),j.of({name:"PostgreSQL",load(){return hi("PostgreSQL")}}),j.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return C(()=>import("./index-Btv_CrWi.js"),__vite__mapDeps([16,1,2,3,4]),import.meta.url).then(n=>n.python())}}),j.of({name:"Rust",extensions:["rs"],load(){return C(()=>import("./index-DjEDGd9i.js"),__vite__mapDeps([17,1,3,4]),import.meta.url).then(n=>n.rust())}}),j.of({name:"Sass",extensions:["sass"],load(){return C(()=>import("./index-CIPA0xnn.js"),__vite__mapDeps([18,1,6,3,4]),import.meta.url).then(n=>n.sass({indented:!0}))}}),j.of({name:"SCSS",extensions:["scss"],load(){return C(()=>import("./index-CIPA0xnn.js"),__vite__mapDeps([18,1,6,3,4]),import.meta.url).then(n=>n.sass())}}),j.of({name:"SQL",extensions:["sql"],load(){return hi("StandardSQL")}}),j.of({name:"SQLite",load(){return hi("SQLite")}}),j.of({name:"TSX",extensions:["tsx"],load(){return C(()=>import("./index-DyKSLCEI.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url).then(n=>n.javascript({jsx:!0,typescript:!0}))}}),j.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return C(()=>import("./index-DyKSLCEI.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url).then(n=>n.javascript({typescript:!0}))}}),j.of({name:"WebAssembly",extensions:["wat","wast"],load(){return C(()=>import("./index-ClGYL9IL.js"),__vite__mapDeps([19,1,3,4]),import.meta.url).then(n=>n.wast())}}),j.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return C(()=>import("./index-DQca6R01.js"),__vite__mapDeps([20,1,3,4]),import.meta.url).then(n=>n.xml())}}),j.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return C(()=>import("./index-C-ZZ7rji.js"),__vite__mapDeps([21,1,3,4]),import.meta.url).then(n=>n.yaml())}}),j.of({name:"APL",extensions:["dyalog","apl"],load(){return C(()=>import("./apl-B4CMkyY2.js"),[],import.meta.url).then(n=>T(n.apl))}}),j.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return C(()=>import("./asciiarmor-Df11BRmG.js"),[],import.meta.url).then(n=>T(n.asciiArmor))}}),j.of({name:"ASN.1",extensions:["asn","asn1"],load(){return C(()=>import("./asn1-CGOzndHr.js"),[],import.meta.url).then(n=>T(n.asn1({})))}}),j.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return C(()=>import("./asterisk-B-8jnY81.js"),[],import.meta.url).then(n=>T(n.asterisk))}}),j.of({name:"Brainfuck",extensions:["b","bf"],load(){return C(()=>import("./brainfuck-C4LP7Hcl.js"),[],import.meta.url).then(n=>T(n.brainfuck))}}),j.of({name:"Cobol",extensions:["cob","cpy"],load(){return C(()=>import("./cobol-XrqhtCFE.js"),[],import.meta.url).then(n=>T(n.cobol))}}),j.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.csharp))}}),j.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return C(()=>import("./clojure-BMjYHr_A.js"),[],import.meta.url).then(n=>T(n.clojure))}}),j.of({name:"ClojureScript",extensions:["cljs"],load(){return C(()=>import("./clojure-BMjYHr_A.js"),[],import.meta.url).then(n=>T(n.clojure))}}),j.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return C(()=>import("./css-BnMrqG3P.js"),[],import.meta.url).then(n=>T(n.gss))}}),j.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return C(()=>import("./cmake-BQqOBYOt.js"),[],import.meta.url).then(n=>T(n.cmake))}}),j.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return C(()=>import("./coffeescript-S37ZYGWr.js"),[],import.meta.url).then(n=>T(n.coffeeScript))}}),j.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return C(()=>import("./commonlisp-5jcOZwOE.js"),[],import.meta.url).then(n=>T(n.commonLisp))}}),j.of({name:"Cypher",extensions:["cyp","cypher"],load(){return C(()=>import("./cypher-C_CwsFkJ.js"),[],import.meta.url).then(n=>T(n.cypher))}}),j.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return C(()=>import("./python-BuPzkPfP.js"),[],import.meta.url).then(n=>T(n.cython))}}),j.of({name:"Crystal",extensions:["cr"],load(){return C(()=>import("./crystal-SjHAIU92.js"),[],import.meta.url).then(n=>T(n.crystal))}}),j.of({name:"D",extensions:["d"],load(){return C(()=>import("./d-pRatUO7H.js"),[],import.meta.url).then(n=>T(n.d))}}),j.of({name:"Dart",extensions:["dart"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.dart))}}),j.of({name:"diff",extensions:["diff","patch"],load(){return C(()=>import("./diff-DbItnlRl.js"),[],import.meta.url).then(n=>T(n.diff))}}),j.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return C(()=>import("./dockerfile-BuNIbK2j.js"),__vite__mapDeps([22,23]),import.meta.url).then(n=>T(n.dockerFile))}}),j.of({name:"DTD",extensions:["dtd"],load(){return C(()=>import("./dtd-DF_7sFjM.js"),[],import.meta.url).then(n=>T(n.dtd))}}),j.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return C(()=>import("./dylan-DwRh75JA.js"),[],import.meta.url).then(n=>T(n.dylan))}}),j.of({name:"EBNF",load(){return C(()=>import("./ebnf-CDyGwa7X.js"),[],import.meta.url).then(n=>T(n.ebnf))}}),j.of({name:"ECL",extensions:["ecl"],load(){return C(()=>import("./ecl-Cabwm37j.js"),[],import.meta.url).then(n=>T(n.ecl))}}),j.of({name:"edn",extensions:["edn"],load(){return C(()=>import("./clojure-BMjYHr_A.js"),[],import.meta.url).then(n=>T(n.clojure))}}),j.of({name:"Eiffel",extensions:["e"],load(){return C(()=>import("./eiffel-CnydiIhH.js"),[],import.meta.url).then(n=>T(n.eiffel))}}),j.of({name:"Elm",extensions:["elm"],load(){return C(()=>import("./elm-vLlmbW-K.js"),[],import.meta.url).then(n=>T(n.elm))}}),j.of({name:"Erlang",extensions:["erl"],load(){return C(()=>import("./erlang-BNw1qcRV.js"),[],import.meta.url).then(n=>T(n.erlang))}}),j.of({name:"Esper",load(){return C(()=>import("./sql-C4g8LzGK.js"),[],import.meta.url).then(n=>T(n.esper))}}),j.of({name:"Factor",extensions:["factor"],load(){return C(()=>import("./factor-D8pE9siL.js"),__vite__mapDeps([24,23]),import.meta.url).then(n=>T(n.factor))}}),j.of({name:"FCL",load(){return C(()=>import("./fcl-Kvtd6kyn.js"),[],import.meta.url).then(n=>T(n.fcl))}}),j.of({name:"Forth",extensions:["forth","fth","4th"],load(){return C(()=>import("./forth-Ffai-XNe.js"),[],import.meta.url).then(n=>T(n.forth))}}),j.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return C(()=>import("./fortran-DYz_wnZ1.js"),[],import.meta.url).then(n=>T(n.fortran))}}),j.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return C(()=>import("./mllike-C_8OmSiT.js"),[],import.meta.url).then(n=>T(n.fSharp))}}),j.of({name:"Gas",extensions:["s"],load(){return C(()=>import("./gas-Bneqetm1.js"),[],import.meta.url).then(n=>T(n.gas))}}),j.of({name:"Gherkin",extensions:["feature"],load(){return C(()=>import("./gherkin-heZmZLOM.js"),[],import.meta.url).then(n=>T(n.gherkin))}}),j.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return C(()=>import("./groovy-DKLxxR9y.js"),[],import.meta.url).then(n=>T(n.groovy))}}),j.of({name:"Haskell",extensions:["hs"],load(){return C(()=>import("./haskell-BWDZoCOh.js"),[],import.meta.url).then(n=>T(n.haskell))}}),j.of({name:"Haxe",extensions:["hx"],load(){return C(()=>import("./haxe-pv4rovob.js"),[],import.meta.url).then(n=>T(n.haxe))}}),j.of({name:"HXML",extensions:["hxml"],load(){return C(()=>import("./haxe-pv4rovob.js"),[],import.meta.url).then(n=>T(n.hxml))}}),j.of({name:"HTTP",load(){return C(()=>import("./http-DBlCnlav.js"),[],import.meta.url).then(n=>T(n.http))}}),j.of({name:"IDL",extensions:["pro"],load(){return C(()=>import("./idl-BEugSyMb.js"),[],import.meta.url).then(n=>T(n.idl))}}),j.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return C(()=>import("./javascript-iSgyE4tI.js"),[],import.meta.url).then(n=>T(n.jsonld))}}),j.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return C(()=>import("./jinja2-C4DGRd-O.js"),[],import.meta.url).then(n=>T(n.jinja2))}}),j.of({name:"Julia",extensions:["jl"],load(){return C(()=>import("./julia-DuME0IfC.js"),[],import.meta.url).then(n=>T(n.julia))}}),j.of({name:"Kotlin",extensions:["kt","kts"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.kotlin))}}),j.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return C(()=>import("./livescript-k3uCVVjK.js"),[],import.meta.url).then(n=>T(n.liveScript))}}),j.of({name:"Lua",extensions:["lua"],load(){return C(()=>import("./lua-BgMRiT3U.js"),[],import.meta.url).then(n=>T(n.lua))}}),j.of({name:"mIRC",extensions:["mrc"],load(){return C(()=>import("./mirc-CjQqDB4T.js"),[],import.meta.url).then(n=>T(n.mirc))}}),j.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return C(()=>import("./mathematica-DTrFuWx2.js"),[],import.meta.url).then(n=>T(n.mathematica))}}),j.of({name:"Modelica",extensions:["mo"],load(){return C(()=>import("./modelica-Dc1JOy9r.js"),[],import.meta.url).then(n=>T(n.modelica))}}),j.of({name:"MUMPS",extensions:["mps"],load(){return C(()=>import("./mumps-BT43cFF4.js"),[],import.meta.url).then(n=>T(n.mumps))}}),j.of({name:"Mbox",extensions:["mbox"],load(){return C(()=>import("./mbox-CNhZ1qSd.js"),[],import.meta.url).then(n=>T(n.mbox))}}),j.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return C(()=>import("./nginx-DdIZxoE0.js"),[],import.meta.url).then(n=>T(n.nginx))}}),j.of({name:"NSIS",extensions:["nsh","nsi"],load(){return C(()=>import("./nsis-CEAdamBV.js"),__vite__mapDeps([25,23]),import.meta.url).then(n=>T(n.nsis))}}),j.of({name:"NTriples",extensions:["nt","nq"],load(){return C(()=>import("./ntriples-BfvgReVJ.js"),[],import.meta.url).then(n=>T(n.ntriples))}}),j.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.objectiveC))}}),j.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.objectiveCpp))}}),j.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return C(()=>import("./mllike-C_8OmSiT.js"),[],import.meta.url).then(n=>T(n.oCaml))}}),j.of({name:"Octave",extensions:["m"],load(){return C(()=>import("./octave-Ck1zUtKM.js"),[],import.meta.url).then(n=>T(n.octave))}}),j.of({name:"Oz",extensions:["oz"],load(){return C(()=>import("./oz-BzwKVEFT.js"),[],import.meta.url).then(n=>T(n.oz))}}),j.of({name:"Pascal",extensions:["p","pas"],load(){return C(()=>import("./pascal-B1wCu0_E.js"),[],import.meta.url).then(n=>T(n.pascal))}}),j.of({name:"Perl",extensions:["pl","pm"],load(){return C(()=>import("./perl-CdXCOZ3F.js"),[],import.meta.url).then(n=>T(n.perl))}}),j.of({name:"Pig",extensions:["pig"],load(){return C(()=>import("./pig-CevX1Tat.js"),[],import.meta.url).then(n=>T(n.pig))}}),j.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return C(()=>import("./powershell-CFHJl5sT.js"),[],import.meta.url).then(n=>T(n.powerShell))}}),j.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return C(()=>import("./properties-C78fOPTZ.js"),[],import.meta.url).then(n=>T(n.properties))}}),j.of({name:"ProtoBuf",extensions:["proto"],load(){return C(()=>import("./protobuf-ChK-085T.js"),[],import.meta.url).then(n=>T(n.protobuf))}}),j.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return C(()=>import("./pug-BmUsPMDj.js"),__vite__mapDeps([26,27]),import.meta.url).then(n=>T(n.pug))}}),j.of({name:"Puppet",extensions:["pp"],load(){return C(()=>import("./puppet-DMA9R1ak.js"),[],import.meta.url).then(n=>T(n.puppet))}}),j.of({name:"Q",extensions:["q"],load(){return C(()=>import("./q-ZnEupP5q.js"),[],import.meta.url).then(n=>T(n.q))}}),j.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return C(()=>import("./r-DUYO_cvP.js"),[],import.meta.url).then(n=>T(n.r))}}),j.of({name:"RPM Changes",load(){return C(()=>import("./rpm-CTu-6PCP.js"),[],import.meta.url).then(n=>T(n.rpmChanges))}}),j.of({name:"RPM Spec",extensions:["spec"],load(){return C(()=>import("./rpm-CTu-6PCP.js"),[],import.meta.url).then(n=>T(n.rpmSpec))}}),j.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return C(()=>import("./ruby-B2Rjki9n.js"),[],import.meta.url).then(n=>T(n.ruby))}}),j.of({name:"SAS",extensions:["sas"],load(){return C(()=>import("./sas-B4kiWyti.js"),[],import.meta.url).then(n=>T(n.sas))}}),j.of({name:"Scala",extensions:["scala"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.scala))}}),j.of({name:"Scheme",extensions:["scm","ss"],load(){return C(()=>import("./scheme-C41bIUwD.js"),[],import.meta.url).then(n=>T(n.scheme))}}),j.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return C(()=>import("./shell-CjFT_Tl9.js"),[],import.meta.url).then(n=>T(n.shell))}}),j.of({name:"Sieve",extensions:["siv","sieve"],load(){return C(()=>import("./sieve-C3Gn_uJK.js"),[],import.meta.url).then(n=>T(n.sieve))}}),j.of({name:"Smalltalk",extensions:["st"],load(){return C(()=>import("./smalltalk-CnHTOXQT.js"),[],import.meta.url).then(n=>T(n.smalltalk))}}),j.of({name:"Solr",load(){return C(()=>import("./solr-DehyRSwq.js"),[],import.meta.url).then(n=>T(n.solr))}}),j.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return C(()=>import("./mllike-C_8OmSiT.js"),[],import.meta.url).then(n=>T(n.sml))}}),j.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return C(()=>import("./sparql-DkYu6x3z.js"),[],import.meta.url).then(n=>T(n.sparql))}}),j.of({name:"Spreadsheet",alias:["excel","formula"],load(){return C(()=>import("./spreadsheet-BCZA_wO0.js"),[],import.meta.url).then(n=>T(n.spreadsheet))}}),j.of({name:"Squirrel",extensions:["nut"],load(){return C(()=>import("./clike-DWq2Y8ae.js"),[],import.meta.url).then(n=>T(n.squirrel))}}),j.of({name:"Stylus",extensions:["styl"],load(){return C(()=>import("./stylus-q6zbLY83.js"),[],import.meta.url).then(n=>T(n.stylus))}}),j.of({name:"Swift",extensions:["swift"],load(){return C(()=>import("./swift-BzpIVaGY.js"),[],import.meta.url).then(n=>T(n.swift))}}),j.of({name:"sTeX",load(){return C(()=>import("./stex-C3f8Ysf7.js"),[],import.meta.url).then(n=>T(n.stex))}}),j.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return C(()=>import("./stex-C3f8Ysf7.js"),[],import.meta.url).then(n=>T(n.stex))}}),j.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return C(()=>import("./verilog-C6RDOZhf.js"),[],import.meta.url).then(n=>T(n.verilog))}}),j.of({name:"Tcl",extensions:["tcl"],load(){return C(()=>import("./tcl-DVfN8rqt.js"),[],import.meta.url).then(n=>T(n.tcl))}}),j.of({name:"Textile",extensions:["textile"],load(){return C(()=>import("./textile-CnDTJFAw.js"),[],import.meta.url).then(n=>T(n.textile))}}),j.of({name:"TiddlyWiki",load(){return C(()=>import("./tiddlywiki-DO-Gjzrf.js"),[],import.meta.url).then(n=>T(n.tiddlyWiki))}}),j.of({name:"Tiki wiki",load(){return C(()=>import("./tiki-DGYXhP31.js"),[],import.meta.url).then(n=>T(n.tiki))}}),j.of({name:"TOML",extensions:["toml"],load(){return C(()=>import("./toml-BXUEaScT.js"),[],import.meta.url).then(n=>T(n.toml))}}),j.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return C(()=>import("./troff-wAsdV37c.js"),[],import.meta.url).then(n=>T(n.troff))}}),j.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return C(()=>import("./ttcn-CiGrtVSZ.js"),[],import.meta.url).then(n=>T(n.ttcn))}}),j.of({name:"TTCN_CFG",extensions:["cfg"],load(){return C(()=>import("./ttcn-cfg-BIkV9KBc.js"),[],import.meta.url).then(n=>T(n.ttcnCfg))}}),j.of({name:"Turtle",extensions:["ttl"],load(){return C(()=>import("./turtle-B1tBg_DP.js"),[],import.meta.url).then(n=>T(n.turtle))}}),j.of({name:"Web IDL",extensions:["webidl"],load(){return C(()=>import("./webidl-ZXfAyPTL.js"),[],import.meta.url).then(n=>T(n.webIDL))}}),j.of({name:"VB.NET",extensions:["vb"],load(){return C(()=>import("./vb-CmGdzxic.js"),[],import.meta.url).then(n=>T(n.vb))}}),j.of({name:"VBScript",extensions:["vbs"],load(){return C(()=>import("./vbscript-BuJXcnF6.js"),[],import.meta.url).then(n=>T(n.vbScript))}}),j.of({name:"Velocity",extensions:["vtl"],load(){return C(()=>import("./velocity-D8B20fx6.js"),[],import.meta.url).then(n=>T(n.velocity))}}),j.of({name:"Verilog",extensions:["v"],load(){return C(()=>import("./verilog-C6RDOZhf.js"),[],import.meta.url).then(n=>T(n.verilog))}}),j.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return C(()=>import("./vhdl-lSbBsy5d.js"),[],import.meta.url).then(n=>T(n.vhdl))}}),j.of({name:"XQuery",extensions:["xy","xquery"],load(){return C(()=>import("./xquery-WRlm2TX8.js"),[],import.meta.url).then(n=>T(n.xQuery))}}),j.of({name:"Yacas",extensions:["ys"],load(){return C(()=>import("./yacas-BJ4BC0dw.js"),[],import.meta.url).then(n=>T(n.yacas))}}),j.of({name:"Z80",extensions:["z80"],load(){return C(()=>import("./z80-Hz9HOZM7.js"),[],import.meta.url).then(n=>T(n.z80))}}),j.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return C(()=>import("./mscgen-BA5vi2Kp.js"),[],import.meta.url).then(n=>T(n.mscgen))}}),j.of({name:"X",extensions:["xu"],load(){return C(()=>import("./mscgen-BA5vi2Kp.js"),[],import.meta.url).then(n=>T(n.xu))}}),j.of({name:"MsGenny",extensions:["msgenny"],load(){return C(()=>import("./mscgen-BA5vi2Kp.js"),[],import.meta.url).then(n=>T(n.msgenny))}}),j.of({name:"Vue",extensions:["vue"],load(){return C(()=>import("./index-C_rf7xcc.js"),__vite__mapDeps([28,8,1,6,3,4,9,2]),import.meta.url).then(n=>n.vue())}}),j.of({name:"Angular Template",load(){return C(()=>import("./index-BpPkYntE.js"),__vite__mapDeps([29,8,1,6,3,4,9,2]),import.meta.url).then(n=>n.angular())}})];function _B(n){return lu(/^\s*>\s$/,n)}function SB(n){return new lt(/^((___)|(\*\*\*))$/,(e,t,i,r)=>e.tr.replaceRangeWith(i,r,n.createAndFill()))}function jB(n){return lu(/^(\d+)\.\s$/,n,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order==+e[1])}function CB(n){return lu(/^\s*([-+*])\s$/,n)}function AB(n){return m1(/^```(\S*)\s$/,n,e=>{var t;return{language:((t=j.matchLanguageName(Md,e[1]))==null?void 0:t.name)||e[1]}})}function EB(n,e){return m1(new RegExp("^(#{1,"+e+"})\\s$"),n,t=>({level:t[1].length}))}const OB=n=>{const e=/^!\[(?<title>[^[\]]*)\]\((?<href>[^()]+)\)$/;return new lt(e,(t,i,r,o)=>{const{title:s,href:a}=i.groups??{};if(!s&&!a)return null;const l=t.tr,u=n.createAndFill({title:s,src:a}),c=l.doc.resolve(r),d=c.before();return l.delete(c.before(),c.after()).insert(d,u).setSelection(re.create(l.doc,d+2)).insertText(s||"").scrollIntoView()})};function DB(n){return lu(/^\[(\s|x)\]$/,n,e=>({checked:e[1]==="x"}))}const TB=n=>{const e=/\*\*([^*]+)\*\*$/;return new lt(e,(t,i,r,o)=>{const s=t.tr;return console.log(t.doc.textContent),s.addMark(r,o,n.create()).delete(r,r+2).delete(s.mapping.map(o-1),s.mapping.map(o))})},PB=n=>{const e=new RegExp("(?<!\\*)\\*([^*]+)\\*$");return new lt(e,(t,i,r,o)=>t.tr.addMark(r,o,n.create()).delete(r,r+1))},MB=n=>{const e=/~~([^~]+)~~$/;return new lt(e,(t,i,r,o)=>{const s=t.tr;return s.addMark(r,o,n.create()).delete(r,r+2).delete(s.mapping.map(o-1),s.mapping.map(o))})},FB=n=>{const e=/`([^`]+)`$/;return new lt(e,(t,i,r,o)=>t.tr.addMark(r,o,n.create()).delete(r,r+1))},BB=n=>{const e=new RegExp("(?<!!)\\[(?<title>[^[\\]]*)\\]\\((?<href>[^()]+)\\)$");return new lt(e,(t,i,r,o)=>{const{title:s,href:a}=i.groups??{};if(!s&&!a)return null;const l=t.tr,u=s||a;return l.insertText(u,r,o).addMark(r,r+u.length,n.create({href:a}))})};function NB(n){const e=[...IT,PT,TT];let t;return(t=n.nodes.blockquote)&&e.push(_B(t)),(t=n.nodes.ordered_list)&&e.push(jB(t)),(t=n.nodes.bullet_list)&&e.push(CB(t)),(t=n.nodes.code_block)&&e.push(AB(t)),(t=n.nodes.heading)&&e.push(EB(t,6)),(t=n.nodes.horizontal_rule)&&e.push(SB(t)),(t=n.nodes.image)&&e.push(OB(t)),(t=n.nodes.todo)&&e.push(DB(t)),(t=n.nodes.katex_block)&&e.push(VT(t)),(t=n.nodes.katex)&&e.push(zT(t)),n.marks.strong&&e.push(TB(n.marks.strong)),n.marks.em&&e.push(PB(n.marks.em)),n.marks.code&&e.push(FB(n.marks.code)),n.marks.del&&e.push(MB(n.marks.del)),n.marks.link&&e.push(BB(n.marks.link)),OT({rules:e})}const IB=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=th(n.state,t.from);return i.line?RB(n):i.block?VB(n):!1};function eh(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const RB=eh(qB,0),LB=eh(mk,0),VB=eh((n,e)=>mk(n,e,$B(e)),0);function th(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const qo=50;function zB(n,{open:e,close:t},i,r){let o=n.sliceDoc(i-qo,i),s=n.sliceDoc(r,r+qo),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,u=o.length-a;if(o.slice(u-e.length,u)==e&&s.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let c,d;r-i<=2*qo?c=d=n.sliceDoc(i,r):(c=n.sliceDoc(i,i+qo),d=n.sliceDoc(r-qo,r));let f=/^\s*/.exec(c)[0].length,p=/\s*$/.exec(d)[0].length,h=d.length-p-t.length;return c.slice(f,f+e.length)==e&&d.slice(h,h+t.length)==t?{open:{pos:i+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:r-p-t.length,margin:/\s/.test(d.charAt(h-1))?1:0}}:null}function $B(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function mk(n,e,t=e.selection.ranges){let i=t.map(o=>th(e,o.from).block);if(!i.every(o=>o))return null;let r=t.map((o,s)=>zB(e,i[s],o.from,o.to));if(n!=2&&!r.every(o=>o))return{changes:e.changes(t.map((o,s)=>r[s]?[]:[{from:o.from,insert:i[s].open+" "},{from:o.to,insert:" "+i[s].close}]))};if(n!=1&&r.some(o=>o)){let o=[];for(let s=0,a;s<r.length;s++)if(a=r[s]){let l=i[s],{open:u,close:c}=a;o.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:o}}return null}function qB(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of t){let a=i.length,l=1e9,u=th(e,o).line;if(u){for(let c=o;c<=s;){let d=e.doc.lineAt(c);if(d.from>r&&(o==s||s>d.from)){r=d.from;let f=/^\s*/.exec(d.text)[0].length,p=f==d.length,h=d.text.slice(f,f+u.length)==u?f:-1;f<d.text.length&&f<l&&(l=f),i.push({line:d,comment:h,token:u,indent:f,empty:p,single:!1})}c=d.to+1}if(l<1e9)for(let c=a;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=l);i.length==a+1&&(i[a].single=!0)}}if(n!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:u,empty:c,single:d}of i)(d||!c)&&o.push({from:a.from+u,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of i)if(a>=0){let u=s.from+a,c=u+l.length;s.text[c-s.from]==" "&&c++,o.push({from:u,to:c})}return{changes:o}}return null}function Eo(n,e){return $.create(n.ranges.map(e),n.mainIndex)}function $n(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function gn({state:n,dispatch:e},t){let i=Eo(n.selection,t);return i.eq(n.selection,!0)?!1:(e($n(n,i)),!0)}function hu(n,e){return $.cursor(e?n.to:n.from)}function gk(n,e){return gn(n,t=>t.empty?n.moveByChar(t,e):hu(t,e))}function vt(n){return n.textDirectionAt(n.state.selection.main.head)==Ne.LTR}const yk=n=>gk(n,!vt(n)),bk=n=>gk(n,vt(n));function kk(n,e){return gn(n,t=>t.empty?n.moveByGroup(t,e):hu(t,e))}const HB=n=>kk(n,!vt(n)),WB=n=>kk(n,vt(n));function KB(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function pu(n,e,t){let i=hn(n).resolveInner(e.head),r=t?fe.closedBy:fe.openedBy;for(let l=e.head;;){let u=t?i.childAfter(l):i.childBefore(l);if(!u)break;KB(n,u,r)?i=u:l=t?u.to:u.from}let o=i.type.prop(r),s,a;return o&&(s=t?$r(n,i.from,1):$r(n,i.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?i.to:i.from,$.cursor(a,t?-1:1)}const UB=n=>gn(n,e=>pu(n.state,e,!vt(n))),JB=n=>gn(n,e=>pu(n.state,e,vt(n)));function vk(n,e){return gn(n,t=>{if(!t.empty)return hu(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const wk=n=>vk(n,!1),xk=n=>vk(n,!0);function _k(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let o of n.state.facet(ce.scrollMargins)){let s=o(n);s!=null&&s.top&&(t=Math.max(s==null?void 0:s.top,t)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function Sk(n,e){let t=_k(n),{state:i}=n,r=Eo(i.selection,s=>s.empty?n.moveVertically(s,e,t.height):hu(s,e));if(r.eq(i.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(i.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,u=a.bottom-t.marginBottom;s&&s.top>l&&s.bottom<u&&(o=ce.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-l}))}return n.dispatch($n(i,r),{effects:o}),!0}const i0=n=>Sk(n,!1),Fd=n=>Sk(n,!0);function Ji(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let o=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&e.head!=i.from+o&&(r=$.cursor(i.from+o))}return r}const GB=n=>gn(n,e=>Ji(n,e,!0)),YB=n=>gn(n,e=>Ji(n,e,!1)),ZB=n=>gn(n,e=>Ji(n,e,!vt(n))),XB=n=>gn(n,e=>Ji(n,e,vt(n))),QB=n=>gn(n,e=>$.cursor(n.lineBlockAt(e.head).from,1)),e9=n=>gn(n,e=>$.cursor(n.lineBlockAt(e.head).to,-1));function t9(n,e,t){let i=!1,r=Eo(n.selection,o=>{let s=$r(n,o.head,-1)||$r(n,o.head,1)||o.head>0&&$r(n,o.head-1,1)||o.head<n.doc.length&&$r(n,o.head+1,-1);if(!s||!s.end)return o;i=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return $.cursor(a)});return i?(e($n(n,r)),!0):!1}const n9=({state:n,dispatch:e})=>t9(n,e);function on(n,e){let t=Eo(n.state.selection,i=>{let r=e(i);return $.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch($n(n.state,t)),!0)}function jk(n,e){return on(n,t=>n.moveByChar(t,e))}const Ck=n=>jk(n,!vt(n)),Ak=n=>jk(n,vt(n));function Ek(n,e){return on(n,t=>n.moveByGroup(t,e))}const i9=n=>Ek(n,!vt(n)),r9=n=>Ek(n,vt(n)),o9=n=>on(n,e=>pu(n.state,e,!vt(n))),s9=n=>on(n,e=>pu(n.state,e,vt(n)));function Ok(n,e){return on(n,t=>n.moveVertically(t,e))}const Dk=n=>Ok(n,!1),Tk=n=>Ok(n,!0);function Pk(n,e){return on(n,t=>n.moveVertically(t,e,_k(n).height))}const r0=n=>Pk(n,!1),o0=n=>Pk(n,!0),a9=n=>on(n,e=>Ji(n,e,!0)),l9=n=>on(n,e=>Ji(n,e,!1)),u9=n=>on(n,e=>Ji(n,e,!vt(n))),c9=n=>on(n,e=>Ji(n,e,vt(n))),d9=n=>on(n,e=>$.cursor(n.lineBlockAt(e.head).from)),f9=n=>on(n,e=>$.cursor(n.lineBlockAt(e.head).to)),s0=({state:n,dispatch:e})=>(e($n(n,{anchor:0})),!0),a0=({state:n,dispatch:e})=>(e($n(n,{anchor:n.doc.length})),!0),l0=({state:n,dispatch:e})=>(e($n(n,{anchor:n.selection.main.anchor,head:0})),!0),u0=({state:n,dispatch:e})=>(e($n(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),h9=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),p9=({state:n,dispatch:e})=>{let t=mu(n).map(({from:i,to:r})=>$.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:$.create(t),userEvent:"select"})),!0},m9=({state:n,dispatch:e})=>{let t=Eo(n.selection,i=>{var r;let o=hn(n).resolveStack(i.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&(!((r=a.parent)===null||r===void 0)&&r.parent))return $.range(a.to,a.from)}return i});return e($n(n,t)),!0},g9=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=$.create([t.main]):t.main.empty||(i=$.create([$.cursor(t.main.head)])),i?(e($n(n,i)),!0):!1};function ha(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(t="delete.backward",l=Ja(n,l,!1)):l>s&&(t="delete.forward",l=Ja(n,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=Ja(n,s,!1),a=Ja(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:$.cursor(s,s<o.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ce.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Ja(n,e,t){if(n instanceof ce)for(let i of n.state.facet(ce.atomicRanges).map(r=>r(n)))i.between(e,e,(r,o)=>{r<e&&o>e&&(e=t?o:r)});return e}const Mk=(n,e,t)=>ha(n,i=>{let r=i.from,{state:o}=n,s=o.doc.lineAt(r),a,l;if(t&&!e&&r>s.from&&r<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,r-s.from))){if(a[a.length-1]=="	")return r-1;let u=cu(a,o.tabSize),c=u%jr(o)||jr(o);for(let d=0;d<c&&a[a.length-1-d]==" ";d++)r--;l=r}else l=St(s.text,r-s.from,e,e)+s.from,l==r&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,r-s.from))&&(l=St(s.text,l-s.from,!1,!1)+s.from);return l}),Bd=n=>Mk(n,!1,!0),Fk=n=>Mk(n,!0,!1),Bk=(n,e)=>ha(n,t=>{let i=t.head,{state:r}=n,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let a=null;;){if(i==(e?o.to:o.from)){i==t.head&&o.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=St(o.text,i-o.from,e)+o.from,u=o.text.slice(Math.min(i,l)-o.from,Math.max(i,l)-o.from),c=s(u);if(a!=null&&c!=a)break;(u!=" "||i!=t.head)&&(a=c),i=l}return i}),Nk=n=>Bk(n,!1),y9=n=>Bk(n,!0),b9=n=>ha(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),k9=n=>ha(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),v9=n=>ha(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),w9=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:be.of(["",""])},range:$.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},x9=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,o=n.doc.lineAt(r),s=r==o.from?r-1:St(o.text,r-o.from,!1)+o.from,a=r==o.to?r+1:St(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(s,r))},range:$.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function mu(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),o=n.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=n.doc.lineAt(i.to-1)),t>=r.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(i)}else e.push({from:r.from,to:o.to,ranges:[i]});t=o.number+1}return e}function Ik(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let o of mu(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){i.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let l of o.ranges)r.push($.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let l of o.ranges)r.push($.range(l.anchor-a,l.head-a))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:$.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const _9=({state:n,dispatch:e})=>Ik(n,e,!1),S9=({state:n,dispatch:e})=>Ik(n,e,!0);function Rk(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of mu(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const j9=({state:n,dispatch:e})=>Rk(n,e,!1),C9=({state:n,dispatch:e})=>Rk(n,e,!0),A9=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(mu(e).map(({from:r,to:o})=>(r>0?r--:o<e.doc.length&&o++,{from:r,to:o}))),i=Eo(e.selection,r=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(r.head),a=n.coordsAtPos(r.head,r.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,o)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function E9(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=hn(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),o;return i&&r&&i.to<=e&&r.from>=e&&(o=i.type.prop(fe.closedBy))&&o.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const O9=Lk(!1),D9=Lk(!0);function Lk(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:o,to:s}=r,a=e.doc.lineAt(o),l=!n&&o==s&&E9(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let u=new fu(e,{simulateBreak:o,simulateDoubleBreak:!!l}),c=sk(u,o);for(c==null&&(c=cu(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let d=["",Ll(e,c)];return l&&d.push(Ll(e,u.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:be.of(d)},range:$.cursor(o+1+d[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function nh(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let s=i.from;s<=i.to;){let a=n.doc.lineAt(s);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),s=a.to+1}let o=n.changes(r);return{changes:r,range:$.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const T9=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new fu(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),r=nh(n,(o,s,a)=>{let l=sk(i,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let u=/^\s*/.exec(o.text)[0],c=Ll(n,l);(u!=c||a.from<o.from+u.length)&&(t[o.from]=l,s.push({from:o.from,to:o.from+u.length,insert:c}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},P9=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(nh(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Gf)})}),{userEvent:"input.indent"})),!0),M9=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(nh(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=cu(r,n.tabSize),s=0,a=Ll(n,Math.max(0,o-jr(n)));for(;s<r.length&&s<a.length&&r.charCodeAt(s)==a.charCodeAt(s);)s++;i.push({from:t.from+s,to:t.from+r.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),F9=n=>(n.setTabFocusMode(),!0),B9=[{key:"Ctrl-b",run:yk,shift:Ck,preventDefault:!0},{key:"Ctrl-f",run:bk,shift:Ak},{key:"Ctrl-p",run:wk,shift:Dk},{key:"Ctrl-n",run:xk,shift:Tk},{key:"Ctrl-a",run:QB,shift:d9},{key:"Ctrl-e",run:e9,shift:f9},{key:"Ctrl-d",run:Fk},{key:"Ctrl-h",run:Bd},{key:"Ctrl-k",run:b9},{key:"Ctrl-Alt-h",run:Nk},{key:"Ctrl-o",run:w9},{key:"Ctrl-t",run:x9},{key:"Ctrl-v",run:Fd}],N9=[{key:"ArrowLeft",run:yk,shift:Ck,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:HB,shift:i9,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:ZB,shift:u9,preventDefault:!0},{key:"ArrowRight",run:bk,shift:Ak,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:WB,shift:r9,preventDefault:!0},{mac:"Cmd-ArrowRight",run:XB,shift:c9,preventDefault:!0},{key:"ArrowUp",run:wk,shift:Dk,preventDefault:!0},{mac:"Cmd-ArrowUp",run:s0,shift:l0},{mac:"Ctrl-ArrowUp",run:i0,shift:r0},{key:"ArrowDown",run:xk,shift:Tk,preventDefault:!0},{mac:"Cmd-ArrowDown",run:a0,shift:u0},{mac:"Ctrl-ArrowDown",run:Fd,shift:o0},{key:"PageUp",run:i0,shift:r0},{key:"PageDown",run:Fd,shift:o0},{key:"Home",run:YB,shift:l9,preventDefault:!0},{key:"Mod-Home",run:s0,shift:l0},{key:"End",run:GB,shift:a9,preventDefault:!0},{key:"Mod-End",run:a0,shift:u0},{key:"Enter",run:O9},{key:"Mod-a",run:h9},{key:"Backspace",run:Bd,shift:Bd},{key:"Delete",run:Fk},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Nk},{key:"Mod-Delete",mac:"Alt-Delete",run:y9},{mac:"Mod-Backspace",run:k9},{mac:"Mod-Delete",run:v9}].concat(B9.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),I9=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:UB,shift:o9},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:JB,shift:s9},{key:"Alt-ArrowUp",run:_9},{key:"Shift-Alt-ArrowUp",run:j9},{key:"Alt-ArrowDown",run:S9},{key:"Shift-Alt-ArrowDown",run:C9},{key:"Escape",run:g9},{key:"Mod-Enter",run:D9},{key:"Alt-l",mac:"Ctrl-l",run:p9},{key:"Mod-i",run:m9,preventDefault:!0},{key:"Mod-[",run:M9},{key:"Mod-]",run:P9},{key:"Mod-Alt-\\",run:T9},{key:"Shift-Mod-k",run:A9},{key:"Shift-Mod-\\",run:n9},{key:"Mod-/",run:IB},{key:"Alt-A",run:LB},{key:"Ctrl-m",mac:"Shift-Alt-m",run:F9}].concat(N9),R9="#e5c07b",c0="#e06c75",L9="#56b6c2",V9="#ffffff",ll="#abb2bf",Nd="#7d8799",z9="#61afef",$9="#98c379",d0="#d19a66",q9="#c678dd",H9="#21252b",f0="#2c313a",h0="#282c34",bc="#353a42",W9="#3E4451",p0="#528bff",K9=ce.theme({"&":{color:ll,backgroundColor:h0},".cm-content":{caretColor:p0},".cm-cursor, .cm-dropCursor":{borderLeftColor:p0},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:W9},".cm-panels":{backgroundColor:H9,color:ll},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:h0,color:Nd,border:"none"},".cm-activeLineGutter":{backgroundColor:f0},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:bc},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:bc,borderBottomColor:bc},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:f0,color:ll}}},{dark:!0}),U9=fa.define([{tag:E.keyword,color:q9},{tag:[E.name,E.deleted,E.character,E.propertyName,E.macroName],color:c0},{tag:[E.function(E.variableName),E.labelName],color:z9},{tag:[E.color,E.constant(E.name),E.standard(E.name)],color:d0},{tag:[E.definition(E.name),E.separator],color:ll},{tag:[E.typeName,E.className,E.number,E.changed,E.annotation,E.modifier,E.self,E.namespace],color:R9},{tag:[E.operator,E.operatorKeyword,E.url,E.escape,E.regexp,E.link,E.special(E.string)],color:L9},{tag:[E.meta,E.comment],color:Nd},{tag:E.strong,fontWeight:"bold"},{tag:E.emphasis,fontStyle:"italic"},{tag:E.strikethrough,textDecoration:"line-through"},{tag:E.link,color:Nd,textDecoration:"underline"},{tag:E.heading,fontWeight:"bold",color:c0},{tag:[E.atom,E.bool,E.special(E.variableName)],color:d0},{tag:[E.processingInstruction,E.string,E.inserted],color:$9},{tag:E.invalid,color:V9}]),J9=[K9,lB(U9)];class G9{constructor(e,t,i){Le(this,"cm");Le(this,"dom");Le(this,"updating");Le(this,"languageConfig",new la);Le(this,"languageChangeHandler",e=>{if(!e)return this.cm.dispatch({effects:this.languageConfig.reconfigure([])});const t=j.matchLanguageName(Md,e);if(!t)return this.cm.dispatch({effects:this.languageConfig.reconfigure([])});t.load().then(i=>{this.cm.dispatch({effects:this.languageConfig.reconfigure(i)})}),e!==this.node.attrs.language&&this.view.dispatch(this.view.state.tr.setNodeAttribute(this.getPos(),"language",e))});this.node=e,this.view=t,this.getPos=i,this.cm=new ce({doc:this.node.textContent,extensions:[Y2.of([...this.codeMirrorKeymap(),...I9]),IF(),this.languageConfig.of([]),ce.updateListener.of(s=>this.forwardUpdate(s)),J9]});const r=document.createElement("div");r.classList.add("code_block_view"),r.style.cssText="position:relative;margin:1em 0;border-radius:4px;overflow:hidden";const o=document.createElement("select");o.classList.add("code-language-selector"),o.style.cssText="position:absolute;top:0;right:0;bottom:0;width:200px;height:26px",Md.forEach(s=>{const a=document.createElement("option");a.value=s.name,a.textContent=s.name,o.appendChild(a)}),o.value=e.attrs.language,r.appendChild(this.cm.dom),r.appendChild(o),this.dom=r,this.updating=!1,this.languageChangeHandler(e.attrs.language),o.addEventListener("change",()=>{this.languageChangeHandler(o.value)})}forwardUpdate(e){if(this.updating||!this.cm.hasFocus)return;let t=(this.getPos()||0)+1;const{main:i}=e.state.selection,r=t+i.from,o=t+i.to,s=this.view.state.selection;if(e.docChanged||s.from!=r||s.to!=o){const a=this.view.state.tr;e.changes.iterChanges((l,u,c,d,f)=>{f.length?a.replaceWith(t+l,t+u,this.view.state.schema.text(f.toString())):a.delete(t+l,t+u),t+=d-c-(u-l)}),a.setSelection(re.create(a.doc,r,o)),this.view.dispatch(a)}}setSelection(e,t){this.cm.focus(),this.updating=!0,this.cm.dispatch({selection:{anchor:e,head:t}}),this.updating=!1}codeMirrorKeymap(){const e=this.view;return[{key:"ArrowUp",run:()=>this.maybeEscape("line",-1)},{key:"ArrowLeft",run:()=>this.maybeEscape("char",-1)},{key:"ArrowDown",run:()=>this.maybeEscape("line",1)},{key:"ArrowRight",run:()=>this.maybeEscape("char",1)},{key:"Ctrl-Enter",run:()=>C1(e.state,e.dispatch)?(e.focus(),!0):!1},{key:"Ctrl-z",mac:"Cmd-z",run:()=>Of(e.state,e.dispatch)},{key:"Shift-Ctrl-z",mac:"Shift-Cmd-z",run:()=>Ns(e.state,e.dispatch)},{key:"Ctrl-y",mac:"Cmd-y",run:()=>Ns(e.state,e.dispatch)}]}maybeEscape(e,t){const{state:i}=this.cm;let r=i.selection.main;if(!r.empty||(e=="line"&&(r=i.doc.lineAt(r.head)),t<0?r.from>0:r.to<i.doc.length))return!1;const o=(this.getPos()||0)+(t<0?0:this.node.nodeSize),s=pe.near(this.view.state.doc.resolve(o),t),a=this.view.state.tr.setSelection(s).scrollIntoView();return this.view.dispatch(a),this.view.focus(),!0}update(e){if(e.type!=this.node.type)return!1;if(this.node=e,this.updating)return!0;const t=e.textContent,i=this.cm.state.doc.toString();if(t!=i){let r=0,o=i.length,s=t.length;for(;r<o&&i.charCodeAt(r)==t.charCodeAt(r);)++r;for(;o>r&&s>r&&i.charCodeAt(o-1)==t.charCodeAt(s-1);)o--,s--;this.updating=!0,this.cm.dispatch({changes:{from:r,to:o,insert:t.slice(r,s)}}),this.updating=!1}return this.node.attrs.language!==e.attrs.language&&this.languageChangeHandler(e.attrs.language),!0}selectNode(){this.cm.focus()}stopEvent(){return!0}destroy(){this.cm.destroy()}}const Y9=()=>new Nt({props:{nodeViews:{code_block:(n,e,t)=>new G9(n,e,t)}}}),ih=n=>(Ar("data-v-68d55e14"),n=n(),Er(),n),Z9=ih(()=>z("div",{class:"block-tool-item material-symbols-outlined"},"add",-1)),X9=ih(()=>z("ul",{class:"menu-list"},[z("li",{class:"menu-item"},[z("span",{class:"menu-item-icon material-symbols-outlined"},"arrow_outward"),z("span",{class:"menu-item-label"},"")]),z("li",{class:"menu-item"},[z("span",{class:"menu-item-icon material-symbols-outlined"},"south_east"),z("span",{class:"menu-item-label"},"")])],-1)),Q9=ih(()=>z("ul",{class:"menu-list"},[z("li",{class:"menu-item"},[z("span",{class:"menu-item-icon material-symbols-outlined"},"format_align_left"),z("span",{class:"menu-item-label"},"")]),z("li",{class:"menu-item"},[z("span",{class:"menu-item-icon material-symbols-outlined"},"format_color_fill"),z("span",{class:"menu-item-label"},"")]),z("li",{class:"menu-item"},[z("span",{class:"menu-item-icon material-symbols-outlined"},"format_color_text"),z("span",{class:"menu-item-label"},"")]),z("li",{class:"menu-item divider"}),z("li",{class:"menu-item"},[z("span",{class:"menu-item-icon material-symbols-outlined"},"delete"),z("span",{class:"menu-item-label"},"")])],-1)),eN=Q({__name:"BlockTool",props:{position:{},visible:{type:Boolean},pos:{},view:{}},emits:["dragStart","dragEnd"],setup(n,{emit:e}){const t=n,i=e,r=o=>{if(!o.dataTransfer)return;i("dragStart"),t.view.dispatch(t.view.state.tr.setSelection(ie.create(t.view.state.doc,t.pos)));let s=t.view.state.selection.content(),{dom:a,text:l}=Vx(t.view,s);o.dataTransfer.clearData(),o.dataTransfer.setData("text/html",a.innerHTML),o.dataTransfer.setData("text/plain",l);const u=t.view.nodeDOM(t.pos);u&&o.dataTransfer.setDragImage(u,0,0),t.view.dragging={slice:s,move:!0}};return(o,s)=>o.position.top||o.position.left?(P(),H("div",{key:0,class:"block-tool",style:Ye({top:o.position.top+"px",left:o.position.left+"px"})},[ve(b(Bs),{width:"auto","popper-style":{padding:0}},{reference:ae(()=>[Z9]),default:ae(()=>[X9]),_:1}),ve(b(Bs),{trigger:"click",width:"auto","popper-style":{padding:0}},{reference:ae(()=>[z("div",{class:"block-tool-item material-symbols-outlined",draggable:"true",onDragstart:r,onDragend:s[0]||(s[0]=a=>o.$emit("dragEnd"))},"drag_indicator",32)]),default:ae(()=>[Q9]),_:1})],4)):le("",!0)}}),tN=Dt(eN,[["__scopeId","data-v-68d55e14"]]),nN=(n,e,t)=>function(i,r){if(t.dragging||!i.editable)return;const o=e.get(i.state);if(!o)return;const s=o.spec.prev,a=i.posAtDOM(r.target,0);if(a<0)return;const l=i.state.doc.resolve(a),u=l.parent.maybeChild(l.index()),c=YD(i.state,l,n)||(u&&n.includes(u.type)?{node:u,depth:l.depth+1}:null);if(!c)return;const d=l.before(c.depth),f=l.after(c.depth);if((s==null?void 0:s.from)===d&&(s==null?void 0:s.to)===f)return;o.spec.prev={from:d,to:f},i.dispatch(i.state.tr.setMeta(e,{from:l.before(c.depth),to:d+c.node.nodeSize}));const p=i.nodeDOM(d);if(!p)return;const h=p.getBoundingClientRect(),m=i.dom.offsetParent.getBoundingClientRect();t.visible=!0,t.pos=d,t.position={top:h.top-m.top+h.height/2,left:h.left-m.left}},iN=n=>{const e=Cr({position:{top:0,left:0},visible:!1,dragging:!1,view:null,pos:0,onDragStart(){e.dragging=!0},onDragEnd(){e.dragging=!1}}),t=Gs({render:()=>xo(tN,e)}),i=new $l("blocksTool"),r=Es(nN(n,i,e),60),o=new Nt({key:i,state:{init(){return Me.empty},apply(s,a,l,u){const c=s.getMeta(i);return c?Me.create(u.doc,[Wi.node(c.from,c.to,{class:"hover"})]):Me.empty}},props:{handleDOMEvents:{pointermove:r,pointerdown:r},decorations(s){return o.getState(s)}},view(s){var l;e.view=ft(s);const a=document.createElement("div");return a.classList.add("plugin-block-tool"),(l=s.dom.parentElement)==null||l.prepend(a),t.mount(a),{destroy(){t.unmount(),a.remove()}}}});return o},rN=n=>new Nt({appendTransaction(e,t,i){var r;if(((r=i.doc.lastChild)==null?void 0:r.type)!==n)return i.tr.insert(i.doc.content.size,n.createAndFill())}}),oN=n=>(Ar("data-v-4c4a5e80"),n=n(),Er(),n),sN=oN(()=>z("div",{class:"details","data-prosemirror-content-dom":""},null,-1)),aN=Q({__name:"DetailsView",props:{node:{},view:{},getPos:{type:Function},decorations:{},innerDecorations:{}},emits:["updateAttrs"],setup(n,{emit:e}){const t=n,i=e,r=()=>{i("updateAttrs",{open:!t.node.attrs.open})};return(o,s)=>(P(),H("div",{class:ne(["details-node-view",{close:!o.node.attrs.open}]),"data-prosemirror-dom":""},[z("span",{class:"material-symbols-outlined expand-icon",onClick:ur(r,["prevent"]),contenteditable:"false","data-prosemirror-ignore-selection-mutation":""},"arrow_right"),sN],2))}}),lN=Dt(aN,[["__scopeId","data-v-4c4a5e80"]]),uN={class:"emoji-selector-panel"},cN=Q({__name:"EmojiSelector",props:{visible:{type:Boolean},query:{},position:{},view:{}},setup(n){const e=n,t=U(),i=U(!0);de(()=>e.position,()=>{var o,s,a;(a=(s=(o=t.value)==null?void 0:o.popperRef)==null?void 0:s.popperInstanceRef)==null||a.update()}),de(()=>e.visible,o=>{i.value=o});const r=o=>{const{selection:s}=e.view.state,a=e.view.state.tr;e.view.dispatch(a.replaceRangeWith(s.to-e.query.length-1,s.to,e.view.state.schema.text(o)).setSelection(re.create(a.doc,s.to-e.query.length)))};return(o,s)=>o.visible&&i.value?(P(),ge(b(Bs),{key:0,trigger:"click",width:"auto",visible:o.visible&&i.value,ref_key:"popover",ref:t,"hide-after":0,transition:"none"},{reference:ae(()=>[z("div",{class:"emoji-selector-reference",style:Ye({left:o.position.left+"px",top:o.position.top+"px"})},null,4)]),default:ae(()=>[z("div",uN,[ve(d1,{onChange:r,query:e.query,onClose:s[0]||(s[0]=a=>i.value=!1)},null,8,["query"])])]),_:1},8,["visible"])):le("",!0)}}),dN=Dt(cN,[["__scopeId","data-v-12d55d9b"]]);class fN{constructor(e,t,i,r="before"){Le(this,"vm");Le(this,"vmProps",U());var a,l;this.getProps=i,this.vmProps.value={view:ft(t),...i(t,null)};const o=Gs({render:()=>xo(e,this.vmProps.value)}),s=document.createElement("div");r==="before"?(a=t.dom.parentElement)==null||a.prepend(s):(l=t.dom.parentNode)==null||l.append(s),o.mount(s),this.vm=o}update(e){this.vmProps.value={view:ft(e),...this.getProps(e,this.vmProps)}}destroy(){this.vm.unmount()}}const hN=(n,e,t,i="before")=>new fN(n,e,t,i),pN=10,mN=":",gN=()=>new Nt({view(n){return hN(dN,n,e=>{const t=e.state.selection;if(t instanceof re&&t.empty){if(t.$to.parent.type.spec.code)return{visible:!1,query:"",position:{top:0,left:0}};const r=t.$to.parent.textBetween(Math.max(0,t.$to.parentOffset-pN),t.$to.parentOffset),o=r.lastIndexOf(mN);if(o===-1)return{visible:!1,query:"",position:{top:0,left:0}};const s=r.substring(o+1),a=e.coordsAtPos(t.to),l=e.dom.offsetParent.getBoundingClientRect();return{visible:!0,query:s,position:{top:a.bottom-l.top,left:a.right-l.left}}}return{visible:!1,query:"",position:{top:0,left:0}}},"after")}}),yN=n=>(Ar("data-v-a79b30ee"),n=n(),Er(),n),bN=yN(()=>z("div",{class:"toc-header"},"",-1)),kN=["onClick"],vN=Q({__name:"TocView",props:{node:{},view:{},getPos:{type:Function},decorations:{},innerDecorations:{}},setup(n){const e=n,t=D(()=>{var a;return((a=e.view)==null?void 0:a.editable)!==!1}),i=U(0),r=D(()=>{if(i.value,!e.view)return[];const a=e.view.state.doc,l=[];return a.descendants((u,c)=>{if(u.type.name==="heading"){const d=a.resolve(c);return l.push({text:u.textContent,level:d.depth,pos:c}),!1}}),l}),o=a=>{const l=e.view.nodeDOM(a.pos);l&&l instanceof HTMLElement&&l.scrollIntoView({behavior:"smooth"})},s=Es(()=>{console.log("inputHandler"),i.value=(i.value+1)%100},200);return et(()=>{var a;(a=e.view)==null||a.dom.addEventListener("datachange",s)}),rn(()=>{var a;(a=e.view)==null||a.dom.removeEventListener("datachange",s)}),(a,l)=>(P(),H("div",{class:ne(["toc-view",{editable:t.value}]),"data-prosemirror-dom":""},[bN,(P(!0),H(pt,null,Fi(r.value,(u,c)=>(P(),H("div",{class:"toc-item",onClick:d=>o(u),style:Ye({paddingLeft:(u.level+1)*2+"em"}),key:c},qe(u.text),13,kN))),128))],2))}}),wN=Dt(vN,[["__scopeId","data-v-a79b30ee"]]),xN={class:"excalidraw-view"},_N={class:"action-list"},SN={class:"action-item size-action",title:""},jN=Q({__name:"ExcalidrawView",props:{node:{},view:{},getPos:{type:Function},decorations:{},innerDecorations:{}},setup(n,{expose:e}){const t=n,i=U(),r=D(()=>{var d;return((d=t.view)==null?void 0:d.editable)!==!1}),o=U(!1),s=()=>{if(!t.view||!t.getPos)return;const d=t.getPos();t.view.dispatch(t.view.state.tr.delete(d,d+1))},a=d=>{const{elements:f,files:p,appState:h}=d;return{elements:f,files:p,appState:xb(h,["gridSize","gridStep","gridModeEnabled","viewBackgroundColor"])}},l=Es((d,f,p)=>{if(!t.view)return;const h=a({elements:d,appState:f,files:p});if(wb(h,JSON.parse(t.node.attrs.content)))return;let m=t.view.state.tr;m=m.setMeta("addToHistory",!1),m.setNodeAttribute(t.getPos(),"content",JSON.stringify(h)),t.view.dispatch(m)},200);let u=null;const c=()=>{const{content:d}=t.node.attrs;let f=null;if(d)try{f=JSON.parse(d)}catch(h){console.error(h)}const p=()=>window.React.createElement(window.React.Fragment,null,window.React.createElement(window.ExcalidrawLib.Excalidraw,{initialData:{...f,scrollToContent:!0},renderTopRightUI:()=>window.React.createElement("button",{className:"material-symbols-outlined",style:{border:"none",borderRadius:"6px",width:"36px",height:"36px",fontSize:"14px"},onClick:()=>{o.value=!o.value}},o.value?"fullscreen_exit":"fullscreen"),onChange:l,langCode:"zh-CN",viewModeEnabled:!r.value}));u=window.ReactDOM.createRoot(i.value),u.render(window.React.createElement(p))};return et(()=>{c()}),rn(()=>{u==null||u.unmount()}),e({stopEvent(){return!0},selectNode(){var d,f;(f=(d=i.value)==null?void 0:d.querySelector(".excalidraw-container"))==null||f.focus()},deselectNode(){var d,f;(f=(d=i.value)==null?void 0:d.querySelector(".excalidraw-container"))==null||f.focus()}}),(d,f)=>(P(),H("div",xN,[ve(b(aa),{placement:"top",width:"fit-content",disabled:!r.value,"trigger-keys":[]},{content:ae(()=>[z("ul",_N,[z("li",{class:"action-item remove-action material-symbols-outlined",onClick:s,title:""},"delete"),z("li",{class:ne(["action-item align-action material-symbols-outlined",{selected:d.node.attrs.align==="left"}]),onClick:f[0]||(f[0]=p=>d.$emit("updateAttrs",{align:"left"})),title:""},"align_horizontal_left",2),z("li",{class:ne(["action-item align-action material-symbols-outlined",{selected:d.node.attrs.align==="center"}]),onClick:f[1]||(f[1]=p=>d.$emit("updateAttrs",{align:"center"})),title:""},"align_horizontal_center",2),z("li",{class:ne(["action-item align-action material-symbols-outlined",{selected:d.node.attrs.align==="right"}]),onClick:f[2]||(f[2]=p=>d.$emit("updateAttrs",{align:"right"})),title:""},"align_horizontal_right",2),z("li",SN,[ve(b(r1),{"model-value":d.node.attrs.size,min:10,max:100,"onUpdate:modelValue":f[3]||(f[3]=p=>d.$emit("updateAttrs",{size:p}))},null,8,["model-value"])])])]),default:ae(()=>[z("div",{class:ne(["excalidraw-view-wrapper",{fullsize:o.value}]),style:Ye({width:d.node.attrs.size+"%",marginLeft:d.node.attrs.align==="left"?"0":"auto",marginRight:d.node.attrs.align==="right"?"0":"auto"}),ref_key:"el",ref:i},null,6)]),_:1},8,["disabled"])]))}}),CN=Dt(jN,[["__scopeId","data-v-627d3ce6"]]),AN=(n,e)=>[V3(n.nodes.todo),iT(n.nodes.details),$3(n,e,{image:l1,details:lN,callout:f1,katex_block:p1,toc:wN,excalidraw:CN}),Y9(),...e.editable?[ic({Enter:Gr(QD(n.nodes.image),R3(n.nodes.todo,n.nodes.list_item),nT(n.nodes.details_summary)),"Shift-Enter":Gr(j1,A1,E1,O1),Backspace:Gr(DT,L3(n.nodes.todo),Df,w1,x1),"Mod-z":Of,"Shift-Mod-z":Ns}),ic(fM(n)),ic(tM),NB(n),MP(),nM({color:"#f00"}),sM(),SP(),_M(),gN(),rN(n.nodes.paragraph),iN([n.nodes.list_item,n.nodes.image,n.nodes.paragraph,n.nodes.details,n.nodes.heading,n.nodes.horizontal_rule,n.nodes.blockquote,n.nodes.code_block,n.nodes.katex_block,n.nodes.callout,n.nodes.toc])]:[]],EN={class:"document-editor"},ON=Q({__name:"DocumentEditor",props:rv({upload:{type:Function},editable:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:e}){const t=ov(n,"modelValue"),i=n,r=U();let o=null;return et(()=>{const s=new zx(r.value,{state:lw.create({schema:Zu,doc:t.value?Zu.nodeFromJSON(t.value):void 0,plugins:AN(Zu,{[s1]:i.upload,editable:i.editable})}),attributes:{spellcheck:"false"},editable:()=>i.editable,dispatchTransaction(a){s.updateState(s.state.apply(a));const l=s.state.doc.toJSON();wb(l,t.value)||(console.log("change",l,s.state.selection.from),s.dom.dispatchEvent(new CustomEvent("datachange",{detail:{view:s}})),t.value=l)}});o=s}),m0(()=>{o==null||o.destroy()}),e({export(s){if(!o)return null;if(s==="markdown")return HT.serialize(o.state.doc)}}),(s,a)=>(P(),H("div",EN,[z("div",{class:"document-editor-content",ref_key:"el",ref:r},null,512)]))}}),DN=Dt(ON,[["__scopeId","data-v-727792bb"]]),TN={class:"post-view"},PN={key:0,class:"loader"},MN={class:"document-title"},FN={key:2,class:"error"},BN=Q({__name:"PostView",setup(n){const e=U("loading"),t=U(""),i=U(),r=sv(),o=async()=>{const s=r.params.id;if(!s){e.value="error",t.value="(no post id)";return}e.value="loading",t.value="";let a=null;try{a=await av(s)}catch(l){throw e.value="error",t.value=""+(l.status?l.status:""),l}e.value="completed",i.value={title:a.title,content:JSON.parse(a.content)}};return de(()=>r.params.id,()=>{o()},{immediate:!0}),(s,a)=>(P(),H("main",TN,[e.value==="loading"?(P(),H("div",PN)):e.value==="completed"&&i.value?(P(),H(pt,{key:1},[z("h1",MN,qe(i.value.title),1),ve(b(DN),{class:"document-editor",editable:!1,"model-value":i.value.content},null,8,["model-value"])],64)):(P(),H("div",FN,qe(t.value||""),1))]))}}),NN=Dt(BN,[["__scopeId","data-v-619984fd"]]),iI=Object.freeze(Object.defineProperty({__proto__:null,default:NN},Symbol.toStringTag,{value:"Module"}));export{ko as A,hB as B,be as C,SM as D,ce as E,gt as F,Ao as G,Qe as H,Te as I,Tr as J,oe as K,Od as L,Vt as M,UN as N,YF as O,N1 as P,iI as Q,po as R,He as S,xn as T,$f as W,QF as a,hn as b,QN as c,XN as d,ZN as e,tI as f,nI as g,$ as h,eB as i,Ot as j,fe as k,Mf as l,je as m,cu as n,uu as o,JN as p,Y2 as q,ke as r,WF as s,E as t,Jt as u,Gf as v,ik as w,lr as x,eI as y,j as z};
